(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function bw(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Am={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function ww(){if(jv)return zl;jv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return zl.Fragment=e,zl.jsx=t,zl.jsxs=t,zl}var qv;function Rw(){return qv||(qv=1,Am.exports=ww()),Am.exports}var $=Rw(),Sm={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function Iw(){if(Hv)return Ce;Hv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function b(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,G={};function U(N,ne,ue){this.props=N,this.context=ne,this.refs=G,this.updater=ue||M}U.prototype.isReactComponent={},U.prototype.setState=function(N,ne){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,ne,"setState")},U.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Y(){}Y.prototype=U.prototype;function ie(N,ne,ue){this.props=N,this.context=ne,this.refs=G,this.updater=ue||M}var X=ie.prototype=new Y;X.constructor=ie,D(X,U.prototype),X.isPureReactComponent=!0;var oe=Array.isArray,ce={H:null,A:null,T:null,S:null,V:null},_e=Object.prototype.hasOwnProperty;function O(N,ne,ue,re,ve,Ne){return ue=Ne.ref,{$$typeof:i,type:N,key:ne,ref:ue!==void 0?ue:null,props:Ne}}function w(N,ne){return O(N.type,ne,void 0,void 0,void 0,N.props)}function R(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function x(N){var ne={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ue){return ne[ue]})}var k=/\/+/g;function V(N,ne){return typeof N=="object"&&N!==null&&N.key!=null?x(""+N.key):ne.toString(36)}function C(){}function se(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(C,C):(N.status="pending",N.then(function(ne){N.status==="pending"&&(N.status="fulfilled",N.value=ne)},function(ne){N.status==="pending"&&(N.status="rejected",N.reason=ne)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function pe(N,ne,ue,re,ve){var Ne=typeof N;(Ne==="undefined"||Ne==="boolean")&&(N=null);var we=!1;if(N===null)we=!0;else switch(Ne){case"bigint":case"string":case"number":we=!0;break;case"object":switch(N.$$typeof){case i:case e:we=!0;break;case E:return we=N._init,pe(we(N._payload),ne,ue,re,ve)}}if(we)return ve=ve(N),we=re===""?"."+V(N,0):re,oe(ve)?(ue="",we!=null&&(ue=we.replace(k,"$&/")+"/"),pe(ve,ne,ue,"",function(Wn){return Wn})):ve!=null&&(R(ve)&&(ve=w(ve,ue+(ve.key==null||N&&N.key===ve.key?"":(""+ve.key).replace(k,"$&/")+"/")+we)),ne.push(ve)),1;we=0;var Nt=re===""?".":re+":";if(oe(N))for(var et=0;et<N.length;et++)re=N[et],Ne=Nt+V(re,et),we+=pe(re,ne,ue,Ne,ve);else if(et=b(N),typeof et=="function")for(N=et.call(N),et=0;!(re=N.next()).done;)re=re.value,Ne=Nt+V(re,et++),we+=pe(re,ne,ue,Ne,ve);else if(Ne==="object"){if(typeof N.then=="function")return pe(se(N),ne,ue,re,ve);throw ne=String(N),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return we}function F(N,ne,ue){if(N==null)return N;var re=[],ve=0;return pe(N,re,"","",function(Ne){return ne.call(ue,Ne,ve++)}),re}function le(N){if(N._status===-1){var ne=N._result;ne=ne(),ne.then(function(ue){(N._status===0||N._status===-1)&&(N._status=1,N._result=ue)},function(ue){(N._status===0||N._status===-1)&&(N._status=2,N._result=ue)}),N._status===-1&&(N._status=0,N._result=ne)}if(N._status===1)return N._result.default;throw N._result}var me=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function qe(){}return Ce.Children={map:F,forEach:function(N,ne,ue){F(N,function(){ne.apply(this,arguments)},ue)},count:function(N){var ne=0;return F(N,function(){ne++}),ne},toArray:function(N){return F(N,function(ne){return ne})||[]},only:function(N){if(!R(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Ce.Component=U,Ce.Fragment=t,Ce.Profiler=o,Ce.PureComponent=ie,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(N){return ce.H.useMemoCache(N)}},Ce.cache=function(N){return function(){return N.apply(null,arguments)}},Ce.cloneElement=function(N,ne,ue){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var re=D({},N.props),ve=N.key,Ne=void 0;if(ne!=null)for(we in ne.ref!==void 0&&(Ne=void 0),ne.key!==void 0&&(ve=""+ne.key),ne)!_e.call(ne,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ne.ref===void 0||(re[we]=ne[we]);var we=arguments.length-2;if(we===1)re.children=ue;else if(1<we){for(var Nt=Array(we),et=0;et<we;et++)Nt[et]=arguments[et+2];re.children=Nt}return O(N.type,ve,void 0,void 0,Ne,re)},Ce.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Ce.createElement=function(N,ne,ue){var re,ve={},Ne=null;if(ne!=null)for(re in ne.key!==void 0&&(Ne=""+ne.key),ne)_e.call(ne,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ve[re]=ne[re]);var we=arguments.length-2;if(we===1)ve.children=ue;else if(1<we){for(var Nt=Array(we),et=0;et<we;et++)Nt[et]=arguments[et+2];ve.children=Nt}if(N&&N.defaultProps)for(re in we=N.defaultProps,we)ve[re]===void 0&&(ve[re]=we[re]);return O(N,Ne,void 0,void 0,null,ve)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(N){return{$$typeof:m,render:N}},Ce.isValidElement=R,Ce.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:le}},Ce.memo=function(N,ne){return{$$typeof:g,type:N,compare:ne===void 0?null:ne}},Ce.startTransition=function(N){var ne=ce.T,ue={};ce.T=ue;try{var re=N(),ve=ce.S;ve!==null&&ve(ue,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(qe,me)}catch(Ne){me(Ne)}finally{ce.T=ne}},Ce.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},Ce.use=function(N){return ce.H.use(N)},Ce.useActionState=function(N,ne,ue){return ce.H.useActionState(N,ne,ue)},Ce.useCallback=function(N,ne){return ce.H.useCallback(N,ne)},Ce.useContext=function(N){return ce.H.useContext(N)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(N,ne){return ce.H.useDeferredValue(N,ne)},Ce.useEffect=function(N,ne,ue){var re=ce.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(N,ne)},Ce.useId=function(){return ce.H.useId()},Ce.useImperativeHandle=function(N,ne,ue){return ce.H.useImperativeHandle(N,ne,ue)},Ce.useInsertionEffect=function(N,ne){return ce.H.useInsertionEffect(N,ne)},Ce.useLayoutEffect=function(N,ne){return ce.H.useLayoutEffect(N,ne)},Ce.useMemo=function(N,ne){return ce.H.useMemo(N,ne)},Ce.useOptimistic=function(N,ne){return ce.H.useOptimistic(N,ne)},Ce.useReducer=function(N,ne,ue){return ce.H.useReducer(N,ne,ue)},Ce.useRef=function(N){return ce.H.useRef(N)},Ce.useState=function(N){return ce.H.useState(N)},Ce.useSyncExternalStore=function(N,ne,ue){return ce.H.useSyncExternalStore(N,ne,ue)},Ce.useTransition=function(){return ce.H.useTransition()},Ce.version="19.1.0",Ce}var Fv;function Tp(){return Fv||(Fv=1,Sm.exports=Iw()),Sm.exports}var K=Tp();const Xs=bw(K);var bm={exports:{}},Bl={},wm={exports:{}},Rm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function Cw(){return Gv||(Gv=1,function(i){function e(F,le){var me=F.length;F.push(le);e:for(;0<me;){var qe=me-1>>>1,N=F[qe];if(0<o(N,le))F[qe]=le,F[me]=N,me=qe;else break e}}function t(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var le=F[0],me=F.pop();if(me!==le){F[0]=me;e:for(var qe=0,N=F.length,ne=N>>>1;qe<ne;){var ue=2*(qe+1)-1,re=F[ue],ve=ue+1,Ne=F[ve];if(0>o(re,me))ve<N&&0>o(Ne,re)?(F[qe]=Ne,F[ve]=me,qe=ve):(F[qe]=re,F[ue]=me,qe=ue);else if(ve<N&&0>o(Ne,me))F[qe]=Ne,F[ve]=me,qe=ve;else break e}}return le}function o(F,le){var me=F.sortIndex-le.sortIndex;return me!==0?me:F.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,S=null,b=3,M=!1,D=!1,G=!1,U=!1,Y=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function oe(F){for(var le=t(g);le!==null;){if(le.callback===null)s(g);else if(le.startTime<=F)s(g),le.sortIndex=le.expirationTime,e(p,le);else break;le=t(g)}}function ce(F){if(G=!1,oe(F),!D)if(t(p)!==null)D=!0,_e||(_e=!0,V());else{var le=t(g);le!==null&&pe(ce,le.startTime-F)}}var _e=!1,O=-1,w=5,R=-1;function x(){return U?!0:!(i.unstable_now()-R<w)}function k(){if(U=!1,_e){var F=i.unstable_now();R=F;var le=!0;try{e:{D=!1,G&&(G=!1,ie(O),O=-1),M=!0;var me=b;try{t:{for(oe(F),S=t(p);S!==null&&!(S.expirationTime>F&&x());){var qe=S.callback;if(typeof qe=="function"){S.callback=null,b=S.priorityLevel;var N=qe(S.expirationTime<=F);if(F=i.unstable_now(),typeof N=="function"){S.callback=N,oe(F),le=!0;break t}S===t(p)&&s(p),oe(F)}else s(p);S=t(p)}if(S!==null)le=!0;else{var ne=t(g);ne!==null&&pe(ce,ne.startTime-F),le=!1}}break e}finally{S=null,b=me,M=!1}le=void 0}}finally{le?V():_e=!1}}}var V;if(typeof X=="function")V=function(){X(k)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,se=C.port2;C.port1.onmessage=k,V=function(){se.postMessage(null)}}else V=function(){Y(k,0)};function pe(F,le){O=Y(function(){F(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(F){F.callback=null},i.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(F){switch(b){case 1:case 2:case 3:var le=3;break;default:le=b}var me=b;b=le;try{return F()}finally{b=me}},i.unstable_requestPaint=function(){U=!0},i.unstable_runWithPriority=function(F,le){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var me=b;b=F;try{return le()}finally{b=me}},i.unstable_scheduleCallback=function(F,le,me){var qe=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?qe+me:qe):me=qe,F){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=me+N,F={id:E++,callback:le,priorityLevel:F,startTime:me,expirationTime:N,sortIndex:-1},me>qe?(F.sortIndex=me,e(g,F),t(p)===null&&F===t(g)&&(G?(ie(O),O=-1):G=!0,pe(ce,me-qe))):(F.sortIndex=N,e(p,F),D||M||(D=!0,_e||(_e=!0,V()))),F},i.unstable_shouldYield=x,i.unstable_wrapCallback=function(F){var le=b;return function(){var me=b;b=le;try{return F.apply(this,arguments)}finally{b=me}}}}(Rm)),Rm}var Kv;function Dw(){return Kv||(Kv=1,wm.exports=Cw()),wm.exports}var Im={exports:{}},$t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function Ow(){if(Qv)return $t;Qv=1;var i=Tp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:g,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},$t.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},$t.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},$t.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},$t.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:b,fetchPriority:M}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:b,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},$t.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},$t.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},$t.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},$t.requestFormReset=function(p){s.d.r(p)},$t.unstable_batchedUpdates=function(p,g){return p(g)},$t.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.1.0",$t}var Yv;function Nw(){if(Yv)return Im.exports;Yv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Im.exports=Ow(),Im.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function xw(){if($v)return Bl;$v=1;var i=Dw(),e=Tp(),t=Nw();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function f(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function p(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),n;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function g(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=g(n),r!==null)return r;n=n.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),ie=Symbol.for("react.consumer"),X=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function V(n){return n===null||typeof n!="object"?null:(n=k&&n[k]||n["@@iterator"],typeof n=="function"?n:null)}var C=Symbol.for("react.client.reference");function se(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===C?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case D:return"Fragment";case U:return"Profiler";case G:return"StrictMode";case ce:return"Suspense";case _e:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case M:return"Portal";case X:return(n.displayName||"Context")+".Provider";case ie:return(n._context.displayName||"Context")+".Consumer";case oe:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case O:return r=n.displayName||null,r!==null?r:se(n.type)||"Memo";case w:r=n._payload,n=n._init;try{return se(n(r))}catch{}}return null}var pe=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},qe=[],N=-1;function ne(n){return{current:n}}function ue(n){0>N||(n.current=qe[N],qe[N]=null,N--)}function re(n,r){N++,qe[N]=n.current,n.current=r}var ve=ne(null),Ne=ne(null),we=ne(null),Nt=ne(null);function et(n,r){switch(re(we,r),re(Ne,n),re(ve,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?pv(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=pv(r),n=gv(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ue(ve),re(ve,n)}function Wn(){ue(ve),ue(Ne),ue(we)}function lr(n){n.memoizedState!==null&&re(Nt,n);var r=ve.current,a=gv(r,n.type);r!==a&&(re(Ne,n),re(ve,a))}function wi(n){Ne.current===n&&(ue(ve),ue(Ne)),Nt.current===n&&(ue(Nt),Pl._currentValue=me)}var us=Object.prototype.hasOwnProperty,cs=i.unstable_scheduleCallback,hs=i.unstable_cancelCallback,No=i.unstable_shouldYield,Nu=i.unstable_requestPaint,Rn=i.unstable_now,Af=i.unstable_getCurrentPriorityLevel,xo=i.unstable_ImmediatePriority,ca=i.unstable_UserBlockingPriority,fs=i.unstable_NormalPriority,Sf=i.unstable_LowPriority,ha=i.unstable_IdlePriority,Mo=i.log,xu=i.unstable_setDisableYieldValue,ct=null,Ke=null;function dn(n){if(typeof Mo=="function"&&xu(n),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(ct,n)}catch{}}var Qt=Math.clz32?Math.clz32:ds,Mu=Math.log,bf=Math.LN2;function ds(n){return n>>>=0,n===0?32:31-(Mu(n)/bf|0)|0}var ms=256,ps=4194304;function zn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function fa(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var h=0,d=n.suspendedLanes,v=n.pingedLanes;n=n.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=zn(l):(v&=T,v!==0?h=zn(v):a||(a=T&~n,a!==0&&(h=zn(a))))):(T=l&~d,T!==0?h=zn(T):v!==0?h=zn(v):a||(a=l&~n,a!==0&&(h=zn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function gs(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Po(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ko(){var n=ms;return ms<<=1,(ms&4194048)===0&&(ms=256),n}function Vo(){var n=ps;return ps<<=1,(ps&62914560)===0&&(ps=4194304),n}function Ri(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Ii(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Uo(n,r,a,l,h,d){var v=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,I=n.expirationTimes,j=n.hiddenUpdates;for(a=v&~a;0<a;){var W=31-Qt(a),J=1<<W;T[W]=0,I[W]=-1;var q=j[W];if(q!==null)for(j[W]=null,W=0;W<q.length;W++){var H=q[W];H!==null&&(H.lane&=-536870913)}a&=~J}l!==0&&Zn(n,l,0),d!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=d&~(v&~r))}function Zn(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-Qt(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function Lo(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-Qt(a),h=1<<l;h&r|n[l]&r&&(n[l]|=r),a&=~h}}function ur(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function da(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function cr(){var n=le.p;return n!==0?n:(n=window.event,n===void 0?32:kv(n.type))}function Pu(n,r){var a=le.p;try{return le.p=n,r()}finally{le.p=a}}var rt=Math.random().toString(36).slice(2),bt="__reactFiber$"+rt,yt="__reactProps$"+rt,In="__reactContainer$"+rt,zo="__reactEvents$"+rt,wf="__reactListeners$"+rt,hr="__reactHandles$"+rt,ku="__reactResources$"+rt,_s="__reactMarker$"+rt;function fr(n){delete n[bt],delete n[yt],delete n[zo],delete n[wf],delete n[hr]}function Ci(n){var r=n[bt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[In]||a[bt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=Ev(n);n!==null;){if(a=n[bt])return a;n=Ev(n)}return r}n=a,a=n.parentNode}return null}function Jn(n){if(n=n[bt]||n[In]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function ei(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function en(n){var r=n[ku];return r||(r=n[ku]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function mt(n){n[_s]=!0}var Bo=new Set,ma={};function Bn(n,r){Di(n,r),Di(n+"Capture",r)}function Di(n,r){for(ma[n]=r,n=0;n<r.length;n++)Bo.add(r[n])}var Vu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uu={},ys={};function Lu(n){return us.call(ys,n)?!0:us.call(Uu,n)?!1:Vu.test(n)?ys[n]=!0:(Uu[n]=!0,!1)}function dr(n,r,a){if(Lu(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function ti(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Lt(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}var vs,zu;function Oi(n){if(vs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);vs=r&&r[1]||"",zu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vs+n+zu}var pa=!1;function ga(n,r){if(!n||pa)return"";pa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(H){var q=H}Reflect.construct(n,[],J)}else{try{J.call()}catch(H){q=H}n.call(J.prototype)}}else{try{throw Error()}catch(H){q=H}(J=n())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),j=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===j.length)for(l=I.length-1,h=j.length-1;1<=l&&0<=h&&I[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==j[h]){var W=`
`+I[l].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=l&&0<=h);break}}}finally{pa=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Oi(a):""}function jo(n){switch(n.tag){case 26:case 27:case 5:return Oi(n.type);case 16:return Oi("Lazy");case 13:return Oi("Suspense");case 19:return Oi("SuspenseList");case 0:case 15:return ga(n.type,!1);case 11:return ga(n.type.render,!1);case 1:return ga(n.type,!0);case 31:return Oi("Activity");default:return""}}function _a(n){try{var r="";do r+=jo(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function qo(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Rf(n){var r=qo(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function ya(n){n._valueTracker||(n._valueTracker=Rf(n))}function Ho(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=qo(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function Es(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var If=/[\n"\\]/g;function vt(n){return n.replace(If,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function mn(n,r,a,l,h,d,v,T){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),r!=null?v==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+tn(r)):n.value!==""+tn(r)&&(n.value=""+tn(r)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),r!=null?mr(n,v,tn(r)):a!=null?mr(n,v,tn(a)):l!=null&&n.removeAttribute("value"),h==null&&d!=null&&(n.defaultChecked=!!d),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+tn(T):n.removeAttribute("name")}function Ts(n,r,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+tn(a):"",r=r!=null?""+tn(r):a,T||r===n.value||(n.value=r),n.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v)}function mr(n,r,a){r==="number"&&Es(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Ni(n,r,a,l){if(n=n.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=r.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&l&&(n[a].defaultSelected=!0)}else{for(a=""+tn(a),r=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}r!==null||n[h].disabled||(r=n[h])}r!==null&&(r.selected=!0)}}function $e(n,r,a){if(r!=null&&(r=""+tn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+tn(a):""}function As(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(pe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=tn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Cn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Ss=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bu(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||Ss.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Fo(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Bu(n,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Bu(n,d,r[d])}function Go(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Df=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(n){return Df.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var xi=null;function Dn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Mi=null,Pi=null;function Ko(n){var r=Jn(n);if(r&&(n=r.stateNode)){var a=n[yt]||null;e:switch(n=r.stateNode,r.type){case"input":if(mn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+vt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var h=l[yt]||null;if(!h)throw Error(s(90));mn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&Ho(l)}break e;case"textarea":$e(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ni(n,!!a.multiple,r,!1)}}}var ni=!1;function ju(n,r,a){if(ni)return n(r,a);ni=!0;try{var l=n(r);return l}finally{if(ni=!1,(Mi!==null||Pi!==null)&&(Pc(),Mi&&(r=Mi,n=Pi,Pi=Mi=null,Ko(r),n)))for(r=0;r<n.length;r++)Ko(n[r])}}function bs(n,r){var a=n.stateNode;if(a===null)return null;var l=a[yt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),On=!1;if(jn)try{var ws={};Object.defineProperty(ws,"passive",{get:function(){On=!0}}),window.addEventListener("test",ws,ws),window.removeEventListener("test",ws,ws)}catch{On=!1}var ii=null,pr=null,ki=null;function Qo(){if(ki)return ki;var n,r=pr,a=r.length,l,h="value"in ii?ii.value:ii.textContent,d=h.length;for(n=0;n<a&&r[n]===h[n];n++);var v=a-n;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return ki=h.slice(n,1<l?1-l:void 0)}function ri(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function si(){return!0}function Yo(){return!1}function xt(n){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?si:Yo,this.isPropagationStopped=Yo,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),r}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ea=xt(Fe),Rs=E({},Fe,{view:0,detail:0}),qu=xt(Rs),Ta,Aa,ai,Is=E({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ai&&(ai&&n.type==="mousemove"?(Ta=n.screenX-ai.screenX,Aa=n.screenY-ai.screenY):Aa=Ta=0,ai=n),Ta)},movementY:function(n){return"movementY"in n?n.movementY:Aa}}),Nn=xt(Is),Hu=E({},Is,{dataTransfer:0}),Of=xt(Hu),Cs=E({},Rs,{relatedTarget:0}),Sa=xt(Cs),$o=E({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),ba=xt($o),Fu=E({},Fe,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),wa=xt(Fu),Nf=E({},Fe,{data:0}),Xo=xt(Nf),Ds={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wo(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Ku[n])?!!r[n]:!1}function Os(){return Wo}var Qu=E({},Rs,{key:function(n){if(n.key){var r=Ds[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=ri(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Gu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(n){return n.type==="keypress"?ri(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ri(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ra=xt(Qu),Yu=E({},Is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zo=xt(Yu),Vi=E({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),$u=xt(Vi),Xu=E({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wu=xt(Xu),Zu=E({},Is,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ia=xt(Zu),nn=E({},Fe,{newState:0,oldState:0}),Ju=xt(nn),ec=[9,13,27,32],oi=jn&&"CompositionEvent"in window,c=null;jn&&"documentMode"in document&&(c=document.documentMode);var _=jn&&"TextEvent"in window&&!c,y=jn&&(!oi||c&&8<c&&11>=c),A=" ",z=!1;function Q(n,r){switch(n){case"keyup":return ec.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ue=!1;function wt(n,r){switch(n){case"compositionend":return ae(r);case"keypress":return r.which!==32?null:(z=!0,A);case"textInput":return n=r.data,n===A&&z?null:n;default:return null}}function Le(n,r){if(Ue)return n==="compositionend"||!oi&&Q(n,r)?(n=Qo(),ki=pr=ii=null,Ue=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return y&&r.locale!=="ko"?null:r.data;default:return null}}var Mt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Mt[n.type]:r==="textarea"}function Ui(n,r,a,l){Mi?Pi?Pi.push(l):Pi=[l]:Mi=l,r=Bc(r,"onChange"),0<r.length&&(a=new Ea("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var zt=null,li=null;function Jo(n){cv(n,0)}function tc(n){var r=ei(n);if(Ho(r))return n}function Ng(n,r){if(n==="change")return r}var xg=!1;if(jn){var xf;if(jn){var Mf="oninput"in document;if(!Mf){var Mg=document.createElement("div");Mg.setAttribute("oninput","return;"),Mf=typeof Mg.oninput=="function"}xf=Mf}else xf=!1;xg=xf&&(!document.documentMode||9<document.documentMode)}function Pg(){zt&&(zt.detachEvent("onpropertychange",kg),li=zt=null)}function kg(n){if(n.propertyName==="value"&&tc(li)){var r=[];Ui(r,li,n,Dn(n)),ju(Jo,r)}}function eb(n,r,a){n==="focusin"?(Pg(),zt=r,li=a,zt.attachEvent("onpropertychange",kg)):n==="focusout"&&Pg()}function tb(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return tc(li)}function nb(n,r){if(n==="click")return tc(r)}function ib(n,r){if(n==="input"||n==="change")return tc(r)}function rb(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var pn=typeof Object.is=="function"?Object.is:rb;function el(n,r){if(pn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!us.call(r,h)||!pn(n[h],r[h]))return!1}return!0}function Vg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ug(n,r){var a=Vg(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Vg(a)}}function Lg(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Lg(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function zg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Es(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Es(n.document)}return r}function Pf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var sb=jn&&"documentMode"in document&&11>=document.documentMode,Ca=null,kf=null,tl=null,Vf=!1;function Bg(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Vf||Ca==null||Ca!==Es(l)||(l=Ca,"selectionStart"in l&&Pf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),tl&&el(tl,l)||(tl=l,l=Bc(kf,"onSelect"),0<l.length&&(r=new Ea("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=Ca)))}function Ns(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Da={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionrun:Ns("Transition","TransitionRun"),transitionstart:Ns("Transition","TransitionStart"),transitioncancel:Ns("Transition","TransitionCancel"),transitionend:Ns("Transition","TransitionEnd")},Uf={},jg={};jn&&(jg=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function xs(n){if(Uf[n])return Uf[n];if(!Da[n])return n;var r=Da[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in jg)return Uf[n]=r[a];return n}var qg=xs("animationend"),Hg=xs("animationiteration"),Fg=xs("animationstart"),ab=xs("transitionrun"),ob=xs("transitionstart"),lb=xs("transitioncancel"),Gg=xs("transitionend"),Kg=new Map,Lf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lf.push("scrollEnd");function qn(n,r){Kg.set(n,r),Bn(r,[n])}var Qg=new WeakMap;function xn(n,r){if(typeof n=="object"&&n!==null){var a=Qg.get(n);return a!==void 0?a:(r={value:n,source:r,stack:_a(r)},Qg.set(n,r),r)}return{value:n,source:r,stack:_a(r)}}var Mn=[],Oa=0,zf=0;function nc(){for(var n=Oa,r=zf=Oa=0;r<n;){var a=Mn[r];Mn[r++]=null;var l=Mn[r];Mn[r++]=null;var h=Mn[r];Mn[r++]=null;var d=Mn[r];if(Mn[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Yg(a,h,d)}}function ic(n,r,a,l){Mn[Oa++]=n,Mn[Oa++]=r,Mn[Oa++]=a,Mn[Oa++]=l,zf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Bf(n,r,a,l){return ic(n,r,a,l),rc(n)}function Na(n,r){return ic(n,null,null,r),rc(n)}function Yg(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(h=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,h&&r!==null&&(h=31-Qt(a),n=d.hiddenUpdates,l=n[h],l===null?n[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function rc(n){if(50<Rl)throw Rl=0,Kd=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var xa={};function ub(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(n,r,a,l){return new ub(n,r,a,l)}function jf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Li(n,r){var a=n.alternate;return a===null?(a=gn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function $g(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function sc(n,r,a,l,h,d){var v=0;if(l=n,typeof n=="function")jf(n)&&(v=1);else if(typeof n=="string")v=hw(n,a,ve.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case R:return n=gn(31,a,r,h),n.elementType=R,n.lanes=d,n;case D:return Ms(a.children,h,d,r);case G:v=8,h|=24;break;case U:return n=gn(12,a,r,h|2),n.elementType=U,n.lanes=d,n;case ce:return n=gn(13,a,r,h),n.elementType=ce,n.lanes=d,n;case _e:return n=gn(19,a,r,h),n.elementType=_e,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Y:case X:v=10;break e;case ie:v=9;break e;case oe:v=11;break e;case O:v=14;break e;case w:v=16,l=null;break e}v=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=gn(v,a,r,h),r.elementType=n,r.type=l,r.lanes=d,r}function Ms(n,r,a,l){return n=gn(7,n,l,r),n.lanes=a,n}function qf(n,r,a){return n=gn(6,n,null,r),n.lanes=a,n}function Hf(n,r,a){return r=gn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Ma=[],Pa=0,ac=null,oc=0,Pn=[],kn=0,Ps=null,zi=1,Bi="";function ks(n,r){Ma[Pa++]=oc,Ma[Pa++]=ac,ac=n,oc=r}function Xg(n,r,a){Pn[kn++]=zi,Pn[kn++]=Bi,Pn[kn++]=Ps,Ps=n;var l=zi;n=Bi;var h=32-Qt(l)-1;l&=~(1<<h),a+=1;var d=32-Qt(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,zi=1<<32-Qt(r)+h|a<<h|l,Bi=d+n}else zi=1<<d|a<<h|l,Bi=n}function Ff(n){n.return!==null&&(ks(n,1),Xg(n,1,0))}function Gf(n){for(;n===ac;)ac=Ma[--Pa],Ma[Pa]=null,oc=Ma[--Pa],Ma[Pa]=null;for(;n===Ps;)Ps=Pn[--kn],Pn[kn]=null,Bi=Pn[--kn],Pn[kn]=null,zi=Pn[--kn],Pn[kn]=null}var rn=null,ht=null,He=!1,Vs=null,ui=!1,Kf=Error(s(519));function Us(n){var r=Error(s(418,""));throw rl(xn(r,n)),Kf}function Wg(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[bt]=n,r[yt]=l,a){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(a=0;a<Cl.length;a++)Pe(Cl[a],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Pe("invalid",r),Ts(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ya(r);break;case"select":Pe("invalid",r);break;case"textarea":Pe("invalid",r),As(r,l.value,l.defaultValue,l.children),ya(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||mv(r.textContent,a)?(l.popover!=null&&(Pe("beforetoggle",r),Pe("toggle",r)),l.onScroll!=null&&Pe("scroll",r),l.onScrollEnd!=null&&Pe("scrollend",r),l.onClick!=null&&(r.onclick=jc),r=!0):r=!1,r||Us(n)}function Zg(n){for(rn=n.return;rn;)switch(rn.tag){case 5:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:rn=rn.return}}function nl(n){if(n!==rn)return!1;if(!He)return Zg(n),He=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||lm(n.type,n.memoizedProps)),a=!a),a&&ht&&Us(n),Zg(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){ht=Fn(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}ht=null}}else r===27?(r=ht,Nr(n.type)?(n=fm,fm=null,ht=n):ht=r):ht=rn?Fn(n.stateNode.nextSibling):null;return!0}function il(){ht=rn=null,He=!1}function Jg(){var n=Vs;return n!==null&&(ln===null?ln=n:ln.push.apply(ln,n),Vs=null),n}function rl(n){Vs===null?Vs=[n]:Vs.push(n)}var Qf=ne(null),Ls=null,ji=null;function gr(n,r,a){re(Qf,r._currentValue),r._currentValue=a}function qi(n){n._currentValue=Qf.current,ue(Qf)}function Yf(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function $f(n,r,a,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<r.length;I++)if(T.context===r[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Yf(d.return,a,n),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Yf(v,a,n),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===n){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function sl(n,r,a,l){n=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;pn(h.pendingProps.value,v.value)||(n!==null?n.push(T):n=[T])}}else if(h===Nt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(Pl):n=[Pl])}h=h.return}n!==null&&$f(r,n,a,l),r.flags|=262144}function lc(n){for(n=n.firstContext;n!==null;){if(!pn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function zs(n){Ls=n,ji=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Yt(n){return e_(Ls,n)}function uc(n,r){return Ls===null&&zs(n),e_(n,r)}function e_(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ji===null){if(n===null)throw Error(s(308));ji=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else ji=ji.next=r;return a}var cb=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},hb=i.unstable_scheduleCallback,fb=i.unstable_NormalPriority,It={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xf(){return{controller:new cb,data:new Map,refCount:0}}function al(n){n.refCount--,n.refCount===0&&hb(fb,function(){n.controller.abort()})}var ol=null,Wf=0,ka=0,Va=null;function db(n,r){if(ol===null){var a=ol=[];Wf=0,ka=Jd(),Va={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Wf++,r.then(t_,t_),r}function t_(){if(--Wf===0&&ol!==null){Va!==null&&(Va.status="fulfilled");var n=ol;ol=null,ka=0,Va=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function mb(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var n_=F.S;F.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&db(n,r),n_!==null&&n_(n,r)};var Bs=ne(null);function Zf(){var n=Bs.current;return n!==null?n:tt.pooledCache}function cc(n,r){r===null?re(Bs,Bs.current):re(Bs,r.pool)}function i_(){var n=Zf();return n===null?null:{parent:It._currentValue,pool:n}}var ll=Error(s(460)),r_=Error(s(474)),hc=Error(s(542)),Jf={then:function(){}};function s_(n){return n=n.status,n==="fulfilled"||n==="rejected"}function fc(){}function a_(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(fc,fc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,l_(n),n;default:if(typeof r.status=="string")r.then(fc,fc);else{if(n=tt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,l_(n),n}throw ul=r,ll}}var ul=null;function o_(){if(ul===null)throw Error(s(459));var n=ul;return ul=null,n}function l_(n){if(n===ll||n===hc)throw Error(s(483))}var _r=!1;function ed(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function td(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function yr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function vr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=rc(n),Yg(n,null,a),r}return ic(n,l,r,a),rc(n)}function cl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Lo(n,a)}}function nd(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var id=!1;function hl(){if(id){var n=Va;if(n!==null)throw n}}function fl(n,r,a,l){id=!1;var h=n.updateQueue;_r=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,j=I.next;I.next=null,v===null?d=j:v.next=j,v=I;var W=n.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==v&&(T===null?W.firstBaseUpdate=j:T.next=j,W.lastBaseUpdate=I))}if(d!==null){var J=h.baseState;v=0,W=j=I=null,T=d;do{var q=T.lane&-536870913,H=q!==T.lane;if(H?(ze&q)===q:(l&q)===q){q!==0&&q===ka&&(id=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var be=n,Ee=T;q=r;var Ze=a;switch(Ee.tag){case 1:if(be=Ee.payload,typeof be=="function"){J=be.call(Ze,J,q);break e}J=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Ee.payload,q=typeof be=="function"?be.call(Ze,J,q):be,q==null)break e;J=E({},J,q);break e;case 2:_r=!0}}q=T.callback,q!==null&&(n.flags|=64,H&&(n.flags|=8192),H=h.callbacks,H===null?h.callbacks=[q]:H.push(q))}else H={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(j=W=H,I=J):W=W.next=H,v|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);W===null&&(I=J),h.baseState=I,h.firstBaseUpdate=j,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),Ir|=v,n.lanes=v,n.memoizedState=J}}function u_(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function c_(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)u_(a[n],r)}var Ua=ne(null),dc=ne(0);function h_(n,r){n=$i,re(dc,n),re(Ua,r),$i=n|r.baseLanes}function rd(){re(dc,$i),re(Ua,Ua.current)}function sd(){$i=dc.current,ue(Ua),ue(dc)}var Er=0,De=null,Xe=null,Et=null,mc=!1,La=!1,js=!1,pc=0,dl=0,za=null,pb=0;function pt(){throw Error(s(321))}function ad(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!pn(n[a],r[a]))return!1;return!0}function od(n,r,a,l,h,d){return Er=d,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,F.H=n===null||n.memoizedState===null?Y_:$_,js=!1,d=a(l,h),js=!1,La&&(d=d_(r,a,l,h)),f_(n),d}function f_(n){F.H=Tc;var r=Xe!==null&&Xe.next!==null;if(Er=0,Et=Xe=De=null,mc=!1,dl=0,za=null,r)throw Error(s(300));n===null||Pt||(n=n.dependencies,n!==null&&lc(n)&&(Pt=!0))}function d_(n,r,a,l){De=n;var h=0;do{if(La&&(za=null),dl=0,La=!1,25<=h)throw Error(s(301));if(h+=1,Et=Xe=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=Ab,d=r(a,l)}while(La);return d}function gb(){var n=F.H,r=n.useState()[0];return r=typeof r.then=="function"?ml(r):r,n=n.useState()[0],(Xe!==null?Xe.memoizedState:null)!==n&&(De.flags|=1024),r}function ld(){var n=pc!==0;return pc=0,n}function ud(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function cd(n){if(mc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}mc=!1}Er=0,Et=Xe=De=null,La=!1,dl=pc=0,za=null}function an(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?De.memoizedState=Et=n:Et=Et.next=n,Et}function Tt(){if(Xe===null){var n=De.alternate;n=n!==null?n.memoizedState:null}else n=Xe.next;var r=Et===null?De.memoizedState:Et.next;if(r!==null)Et=r,Xe=n;else{if(n===null)throw De.alternate===null?Error(s(467)):Error(s(310));Xe=n,n={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},Et===null?De.memoizedState=Et=n:Et=Et.next=n}return Et}function hd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ml(n){var r=dl;return dl+=1,za===null&&(za=[]),n=a_(za,n,r),r=De,(Et===null?r.memoizedState:Et.next)===null&&(r=r.alternate,F.H=r===null||r.memoizedState===null?Y_:$_),n}function gc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ml(n);if(n.$$typeof===X)return Yt(n)}throw Error(s(438,String(n)))}function fd(n){var r=null,a=De.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=hd(),De.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=x;return r.index++,a}function Hi(n,r){return typeof r=="function"?r(n):r}function _c(n){var r=Tt();return dd(r,Xe,n)}function dd(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=n.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=n.baseState,h===null)n.memoizedState=d;else{r=h.next;var T=v=null,I=null,j=r,W=!1;do{var J=j.lane&-536870913;if(J!==j.lane?(ze&J)===J:(Er&J)===J){var q=j.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),J===ka&&(W=!0);else if((Er&q)===q){j=j.next,q===ka&&(W=!0);continue}else J={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(T=I=J,v=d):I=I.next=J,De.lanes|=q,Ir|=q;J=j.action,js&&a(d,J),d=j.hasEagerState?j.eagerState:a(d,J)}else q={lane:J,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(T=I=q,v=d):I=I.next=q,De.lanes|=J,Ir|=J;j=j.next}while(j!==null&&j!==r);if(I===null?v=d:I.next=T,!pn(d,n.memoizedState)&&(Pt=!0,W&&(a=Va,a!==null)))throw a;n.memoizedState=d,n.baseState=v,n.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function md(n){var r=Tt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=n(d,v.action),v=v.next;while(v!==h);pn(d,r.memoizedState)||(Pt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function m_(n,r,a){var l=De,h=Tt(),d=He;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!pn((Xe||h).memoizedState,a);v&&(h.memoizedState=a,Pt=!0),h=h.queue;var T=__.bind(null,l,h,n);if(pl(2048,8,T,[n]),h.getSnapshot!==r||v||Et!==null&&Et.memoizedState.tag&1){if(l.flags|=2048,Ba(9,yc(),g_.bind(null,l,h,a,r),null),tt===null)throw Error(s(349));d||(Er&124)!==0||p_(l,r,a)}return a}function p_(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=De.updateQueue,r===null?(r=hd(),De.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function g_(n,r,a,l){r.value=a,r.getSnapshot=l,y_(r)&&v_(n)}function __(n,r,a){return a(function(){y_(r)&&v_(n)})}function y_(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!pn(n,a)}catch{return!0}}function v_(n){var r=Na(n,2);r!==null&&Tn(r,n,2)}function pd(n){var r=an();if(typeof n=="function"){var a=n;if(n=a(),js){dn(!0);try{a()}finally{dn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:n},r}function E_(n,r,a,l){return n.baseState=a,dd(n,Xe,typeof l=="function"?l:Hi)}function _b(n,r,a,l,h){if(Ec(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};F.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,T_(r,d)):(d.next=a.next,r.pending=a.next=d)}}function T_(n,r){var a=r.action,l=r.payload,h=n.state;if(r.isTransition){var d=F.T,v={};F.T=v;try{var T=a(h,l),I=F.S;I!==null&&I(v,T),A_(n,r,T)}catch(j){gd(n,r,j)}finally{F.T=d}}else try{d=a(h,l),A_(n,r,d)}catch(j){gd(n,r,j)}}function A_(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){S_(n,r,l)},function(l){return gd(n,r,l)}):S_(n,r,a)}function S_(n,r,a){r.status="fulfilled",r.value=a,b_(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,T_(n,a)))}function gd(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,b_(r),r=r.next;while(r!==l)}n.action=null}function b_(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function w_(n,r){return r}function R_(n,r){if(He){var a=tt.formState;if(a!==null){e:{var l=De;if(He){if(ht){t:{for(var h=ht,d=ui;h.nodeType!==8;){if(!d){h=null;break t}if(h=Fn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ht=Fn(h.nextSibling),l=h.data==="F!";break e}}Us(l)}l=!1}l&&(r=a[0])}}return a=an(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:w_,lastRenderedState:r},a.queue=l,a=G_.bind(null,De,l),l.dispatch=a,l=pd(!1),d=Td.bind(null,De,!1,l.queue),l=an(),h={state:r,dispatch:null,action:n,pending:null},l.queue=h,a=_b.bind(null,De,h,d,a),h.dispatch=a,l.memoizedState=n,[r,a,!1]}function I_(n){var r=Tt();return C_(r,Xe,n)}function C_(n,r,a){if(r=dd(n,r,w_)[0],n=_c(Hi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=ml(r)}catch(v){throw v===ll?hc:v}else l=r;r=Tt();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(De.flags|=2048,Ba(9,yc(),yb.bind(null,h,a),null)),[l,d,n]}function yb(n,r){n.action=r}function D_(n){var r=Tt(),a=Xe;if(a!==null)return C_(r,a,n);Tt(),r=r.memoizedState,a=Tt();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function Ba(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=De.updateQueue,r===null&&(r=hd(),De.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function yc(){return{destroy:void 0,resource:void 0}}function O_(){return Tt().memoizedState}function vc(n,r,a,l){var h=an();l=l===void 0?null:l,De.flags|=n,h.memoizedState=Ba(1|r,yc(),a,l)}function pl(n,r,a,l){var h=Tt();l=l===void 0?null:l;var d=h.memoizedState.inst;Xe!==null&&l!==null&&ad(l,Xe.memoizedState.deps)?h.memoizedState=Ba(r,d,a,l):(De.flags|=n,h.memoizedState=Ba(1|r,d,a,l))}function N_(n,r){vc(8390656,8,n,r)}function x_(n,r){pl(2048,8,n,r)}function M_(n,r){return pl(4,2,n,r)}function P_(n,r){return pl(4,4,n,r)}function k_(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function V_(n,r,a){a=a!=null?a.concat([n]):null,pl(4,4,k_.bind(null,r,n),a)}function _d(){}function U_(n,r){var a=Tt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&ad(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function L_(n,r){var a=Tt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&ad(r,l[1]))return l[0];if(l=n(),js){dn(!0);try{n()}finally{dn(!1)}}return a.memoizedState=[l,r],l}function yd(n,r,a){return a===void 0||(Er&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=jy(),De.lanes|=n,Ir|=n,a)}function z_(n,r,a,l){return pn(a,r)?a:Ua.current!==null?(n=yd(n,a,l),pn(n,r)||(Pt=!0),n):(Er&42)===0?(Pt=!0,n.memoizedState=a):(n=jy(),De.lanes|=n,Ir|=n,r)}function B_(n,r,a,l,h){var d=le.p;le.p=d!==0&&8>d?d:8;var v=F.T,T={};F.T=T,Td(n,!1,r,a);try{var I=h(),j=F.S;if(j!==null&&j(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var W=mb(I,l);gl(n,r,W,En(n))}else gl(n,r,l,En(n))}catch(J){gl(n,r,{then:function(){},status:"rejected",reason:J},En())}finally{le.p=d,F.T=v}}function vb(){}function vd(n,r,a,l){if(n.tag!==5)throw Error(s(476));var h=j_(n).queue;B_(n,h,r,me,a===null?vb:function(){return q_(n),a(l)})}function j_(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:me},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function q_(n){var r=j_(n).next.queue;gl(n,r,{},En())}function Ed(){return Yt(Pl)}function H_(){return Tt().memoizedState}function F_(){return Tt().memoizedState}function Eb(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=En();n=yr(a);var l=vr(r,n,a);l!==null&&(Tn(l,r,a),cl(l,r,a)),r={cache:Xf()},n.payload=r;return}r=r.return}}function Tb(n,r,a){var l=En();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ec(n)?K_(r,a):(a=Bf(n,r,a,l),a!==null&&(Tn(a,n,l),Q_(a,r,l)))}function G_(n,r,a){var l=En();gl(n,r,a,l)}function gl(n,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ec(n))K_(r,h);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,pn(T,v))return ic(n,r,h,0),tt===null&&nc(),!1}catch{}finally{}if(a=Bf(n,r,h,l),a!==null)return Tn(a,n,l),Q_(a,r,l),!0}return!1}function Td(n,r,a,l){if(l={lane:2,revertLane:Jd(),action:l,hasEagerState:!1,eagerState:null,next:null},Ec(n)){if(r)throw Error(s(479))}else r=Bf(n,a,l,2),r!==null&&Tn(r,n,2)}function Ec(n){var r=n.alternate;return n===De||r!==null&&r===De}function K_(n,r){La=mc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function Q_(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Lo(n,a)}}var Tc={readContext:Yt,use:gc,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt},Y_={readContext:Yt,use:gc,useCallback:function(n,r){return an().memoizedState=[n,r===void 0?null:r],n},useContext:Yt,useEffect:N_,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,vc(4194308,4,k_.bind(null,r,n),a)},useLayoutEffect:function(n,r){return vc(4194308,4,n,r)},useInsertionEffect:function(n,r){vc(4,2,n,r)},useMemo:function(n,r){var a=an();r=r===void 0?null:r;var l=n();if(js){dn(!0);try{n()}finally{dn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=an();if(a!==void 0){var h=a(r);if(js){dn(!0);try{a(r)}finally{dn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=Tb.bind(null,De,n),[l.memoizedState,n]},useRef:function(n){var r=an();return n={current:n},r.memoizedState=n},useState:function(n){n=pd(n);var r=n.queue,a=G_.bind(null,De,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:_d,useDeferredValue:function(n,r){var a=an();return yd(a,n,r)},useTransition:function(){var n=pd(!1);return n=B_.bind(null,De,n.queue,!0,!1),an().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=De,h=an();if(He){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),tt===null)throw Error(s(349));(ze&124)!==0||p_(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,N_(__.bind(null,l,d,n),[n]),l.flags|=2048,Ba(9,yc(),g_.bind(null,l,d,a,r),null),a},useId:function(){var n=an(),r=tt.identifierPrefix;if(He){var a=Bi,l=zi;a=(l&~(1<<32-Qt(l)-1)).toString(32)+a,r=""+r+"R"+a,a=pc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=pb++,r=""+r+"r"+a.toString(32)+"";return n.memoizedState=r},useHostTransitionStatus:Ed,useFormState:R_,useActionState:R_,useOptimistic:function(n){var r=an();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Td.bind(null,De,!0,a),a.dispatch=r,[n,r]},useMemoCache:fd,useCacheRefresh:function(){return an().memoizedState=Eb.bind(null,De)}},$_={readContext:Yt,use:gc,useCallback:U_,useContext:Yt,useEffect:x_,useImperativeHandle:V_,useInsertionEffect:M_,useLayoutEffect:P_,useMemo:L_,useReducer:_c,useRef:O_,useState:function(){return _c(Hi)},useDebugValue:_d,useDeferredValue:function(n,r){var a=Tt();return z_(a,Xe.memoizedState,n,r)},useTransition:function(){var n=_c(Hi)[0],r=Tt().memoizedState;return[typeof n=="boolean"?n:ml(n),r]},useSyncExternalStore:m_,useId:H_,useHostTransitionStatus:Ed,useFormState:I_,useActionState:I_,useOptimistic:function(n,r){var a=Tt();return E_(a,Xe,n,r)},useMemoCache:fd,useCacheRefresh:F_},Ab={readContext:Yt,use:gc,useCallback:U_,useContext:Yt,useEffect:x_,useImperativeHandle:V_,useInsertionEffect:M_,useLayoutEffect:P_,useMemo:L_,useReducer:md,useRef:O_,useState:function(){return md(Hi)},useDebugValue:_d,useDeferredValue:function(n,r){var a=Tt();return Xe===null?yd(a,n,r):z_(a,Xe.memoizedState,n,r)},useTransition:function(){var n=md(Hi)[0],r=Tt().memoizedState;return[typeof n=="boolean"?n:ml(n),r]},useSyncExternalStore:m_,useId:H_,useHostTransitionStatus:Ed,useFormState:D_,useActionState:D_,useOptimistic:function(n,r){var a=Tt();return Xe!==null?E_(a,Xe,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:fd,useCacheRefresh:F_},ja=null,_l=0;function Ac(n){var r=_l;return _l+=1,ja===null&&(ja=[]),a_(ja,n,r)}function yl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Sc(n,r){throw r.$$typeof===S?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function X_(n){var r=n._init;return r(n._payload)}function W_(n){function r(L,P){if(n){var B=L.deletions;B===null?(L.deletions=[P],L.flags|=16):B.push(P)}}function a(L,P){if(!n)return null;for(;P!==null;)r(L,P),P=P.sibling;return null}function l(L){for(var P=new Map;L!==null;)L.key!==null?P.set(L.key,L):P.set(L.index,L),L=L.sibling;return P}function h(L,P){return L=Li(L,P),L.index=0,L.sibling=null,L}function d(L,P,B){return L.index=B,n?(B=L.alternate,B!==null?(B=B.index,B<P?(L.flags|=67108866,P):B):(L.flags|=67108866,P)):(L.flags|=1048576,P)}function v(L){return n&&L.alternate===null&&(L.flags|=67108866),L}function T(L,P,B,Z){return P===null||P.tag!==6?(P=qf(B,L.mode,Z),P.return=L,P):(P=h(P,B),P.return=L,P)}function I(L,P,B,Z){var de=B.type;return de===D?W(L,P,B.props.children,Z,B.key):P!==null&&(P.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&X_(de)===P.type)?(P=h(P,B.props),yl(P,B),P.return=L,P):(P=sc(B.type,B.key,B.props,null,L.mode,Z),yl(P,B),P.return=L,P)}function j(L,P,B,Z){return P===null||P.tag!==4||P.stateNode.containerInfo!==B.containerInfo||P.stateNode.implementation!==B.implementation?(P=Hf(B,L.mode,Z),P.return=L,P):(P=h(P,B.children||[]),P.return=L,P)}function W(L,P,B,Z,de){return P===null||P.tag!==7?(P=Ms(B,L.mode,Z,de),P.return=L,P):(P=h(P,B),P.return=L,P)}function J(L,P,B){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=qf(""+P,L.mode,B),P.return=L,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case b:return B=sc(P.type,P.key,P.props,null,L.mode,B),yl(B,P),B.return=L,B;case M:return P=Hf(P,L.mode,B),P.return=L,P;case w:var Z=P._init;return P=Z(P._payload),J(L,P,B)}if(pe(P)||V(P))return P=Ms(P,L.mode,B,null),P.return=L,P;if(typeof P.then=="function")return J(L,Ac(P),B);if(P.$$typeof===X)return J(L,uc(L,P),B);Sc(L,P)}return null}function q(L,P,B,Z){var de=P!==null?P.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return de!==null?null:T(L,P,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return B.key===de?I(L,P,B,Z):null;case M:return B.key===de?j(L,P,B,Z):null;case w:return de=B._init,B=de(B._payload),q(L,P,B,Z)}if(pe(B)||V(B))return de!==null?null:W(L,P,B,Z,null);if(typeof B.then=="function")return q(L,P,Ac(B),Z);if(B.$$typeof===X)return q(L,P,uc(L,B),Z);Sc(L,B)}return null}function H(L,P,B,Z,de){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(B)||null,T(P,L,""+Z,de);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return L=L.get(Z.key===null?B:Z.key)||null,I(P,L,Z,de);case M:return L=L.get(Z.key===null?B:Z.key)||null,j(P,L,Z,de);case w:var xe=Z._init;return Z=xe(Z._payload),H(L,P,B,Z,de)}if(pe(Z)||V(Z))return L=L.get(B)||null,W(P,L,Z,de,null);if(typeof Z.then=="function")return H(L,P,B,Ac(Z),de);if(Z.$$typeof===X)return H(L,P,B,uc(P,Z),de);Sc(P,Z)}return null}function be(L,P,B,Z){for(var de=null,xe=null,ge=P,Te=P=0,Vt=null;ge!==null&&Te<B.length;Te++){ge.index>Te?(Vt=ge,ge=null):Vt=ge.sibling;var je=q(L,ge,B[Te],Z);if(je===null){ge===null&&(ge=Vt);break}n&&ge&&je.alternate===null&&r(L,ge),P=d(je,P,Te),xe===null?de=je:xe.sibling=je,xe=je,ge=Vt}if(Te===B.length)return a(L,ge),He&&ks(L,Te),de;if(ge===null){for(;Te<B.length;Te++)ge=J(L,B[Te],Z),ge!==null&&(P=d(ge,P,Te),xe===null?de=ge:xe.sibling=ge,xe=ge);return He&&ks(L,Te),de}for(ge=l(ge);Te<B.length;Te++)Vt=H(ge,L,Te,B[Te],Z),Vt!==null&&(n&&Vt.alternate!==null&&ge.delete(Vt.key===null?Te:Vt.key),P=d(Vt,P,Te),xe===null?de=Vt:xe.sibling=Vt,xe=Vt);return n&&ge.forEach(function(Vr){return r(L,Vr)}),He&&ks(L,Te),de}function Ee(L,P,B,Z){if(B==null)throw Error(s(151));for(var de=null,xe=null,ge=P,Te=P=0,Vt=null,je=B.next();ge!==null&&!je.done;Te++,je=B.next()){ge.index>Te?(Vt=ge,ge=null):Vt=ge.sibling;var Vr=q(L,ge,je.value,Z);if(Vr===null){ge===null&&(ge=Vt);break}n&&ge&&Vr.alternate===null&&r(L,ge),P=d(Vr,P,Te),xe===null?de=Vr:xe.sibling=Vr,xe=Vr,ge=Vt}if(je.done)return a(L,ge),He&&ks(L,Te),de;if(ge===null){for(;!je.done;Te++,je=B.next())je=J(L,je.value,Z),je!==null&&(P=d(je,P,Te),xe===null?de=je:xe.sibling=je,xe=je);return He&&ks(L,Te),de}for(ge=l(ge);!je.done;Te++,je=B.next())je=H(ge,L,Te,je.value,Z),je!==null&&(n&&je.alternate!==null&&ge.delete(je.key===null?Te:je.key),P=d(je,P,Te),xe===null?de=je:xe.sibling=je,xe=je);return n&&ge.forEach(function(Sw){return r(L,Sw)}),He&&ks(L,Te),de}function Ze(L,P,B,Z){if(typeof B=="object"&&B!==null&&B.type===D&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case b:e:{for(var de=B.key;P!==null;){if(P.key===de){if(de=B.type,de===D){if(P.tag===7){a(L,P.sibling),Z=h(P,B.props.children),Z.return=L,L=Z;break e}}else if(P.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&X_(de)===P.type){a(L,P.sibling),Z=h(P,B.props),yl(Z,B),Z.return=L,L=Z;break e}a(L,P);break}else r(L,P);P=P.sibling}B.type===D?(Z=Ms(B.props.children,L.mode,Z,B.key),Z.return=L,L=Z):(Z=sc(B.type,B.key,B.props,null,L.mode,Z),yl(Z,B),Z.return=L,L=Z)}return v(L);case M:e:{for(de=B.key;P!==null;){if(P.key===de)if(P.tag===4&&P.stateNode.containerInfo===B.containerInfo&&P.stateNode.implementation===B.implementation){a(L,P.sibling),Z=h(P,B.children||[]),Z.return=L,L=Z;break e}else{a(L,P);break}else r(L,P);P=P.sibling}Z=Hf(B,L.mode,Z),Z.return=L,L=Z}return v(L);case w:return de=B._init,B=de(B._payload),Ze(L,P,B,Z)}if(pe(B))return be(L,P,B,Z);if(V(B)){if(de=V(B),typeof de!="function")throw Error(s(150));return B=de.call(B),Ee(L,P,B,Z)}if(typeof B.then=="function")return Ze(L,P,Ac(B),Z);if(B.$$typeof===X)return Ze(L,P,uc(L,B),Z);Sc(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,P!==null&&P.tag===6?(a(L,P.sibling),Z=h(P,B),Z.return=L,L=Z):(a(L,P),Z=qf(B,L.mode,Z),Z.return=L,L=Z),v(L)):a(L,P)}return function(L,P,B,Z){try{_l=0;var de=Ze(L,P,B,Z);return ja=null,de}catch(ge){if(ge===ll||ge===hc)throw ge;var xe=gn(29,ge,null,L.mode);return xe.lanes=Z,xe.return=L,xe}finally{}}}var qa=W_(!0),Z_=W_(!1),Vn=ne(null),ci=null;function Tr(n){var r=n.alternate;re(Ct,Ct.current&1),re(Vn,n),ci===null&&(r===null||Ua.current!==null||r.memoizedState!==null)&&(ci=n)}function J_(n){if(n.tag===22){if(re(Ct,Ct.current),re(Vn,n),ci===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(ci=n)}}else Ar()}function Ar(){re(Ct,Ct.current),re(Vn,Vn.current)}function Fi(n){ue(Vn),ci===n&&(ci=null),ue(Ct)}var Ct=ne(0);function bc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||hm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Ad(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Sd={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=En(),h=yr(l);h.payload=r,a!=null&&(h.callback=a),r=vr(n,h,l),r!==null&&(Tn(r,n,l),cl(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=En(),h=yr(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=vr(n,h,l),r!==null&&(Tn(r,n,l),cl(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=En(),l=yr(a);l.tag=2,r!=null&&(l.callback=r),r=vr(n,l,a),r!==null&&(Tn(r,n,a),cl(r,n,a))}};function ey(n,r,a,l,h,d,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!el(a,l)||!el(h,d):!0}function ty(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&Sd.enqueueReplaceState(r,r.state,null)}function qs(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=E({},a));for(var h in n)a[h]===void 0&&(a[h]=n[h])}return a}var wc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function ny(n){wc(n)}function iy(n){console.error(n)}function ry(n){wc(n)}function Rc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function sy(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function bd(n,r,a){return a=yr(a),a.tag=3,a.payload={element:null},a.callback=function(){Rc(n,r)},a}function ay(n){return n=yr(n),n.tag=3,n}function oy(n,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;n.payload=function(){return h(d)},n.callback=function(){sy(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){sy(r,a,l),typeof h!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Sb(n,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&sl(r,a,h,!0),a=Vn.current,a!==null){switch(a.tag){case 13:return ci===null?Yd():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Jf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Xd(n,l,h)),!1;case 22:return a.flags|=65536,l===Jf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Xd(n,l,h)),!1}throw Error(s(435,a.tag))}return Xd(n,l,h),Yd(),!1}if(He)return r=Vn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Kf&&(n=Error(s(422),{cause:l}),rl(xn(n,a)))):(l!==Kf&&(r=Error(s(423),{cause:l}),rl(xn(r,a))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=xn(l,a),h=bd(n.stateNode,l,h),nd(n,h),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:l});if(d=xn(d,a),wl===null?wl=[d]:wl.push(d),ft!==4&&(ft=2),r===null)return!0;l=xn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=h&-h,a.lanes|=n,n=bd(a.stateNode,l,n),nd(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Cr===null||!Cr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ay(h),oy(h,n,a,l),nd(a,h),!1}a=a.return}while(a!==null);return!1}var ly=Error(s(461)),Pt=!1;function Bt(n,r,a,l){r.child=n===null?Z_(r,null,a,l):qa(r,n.child,a,l)}function uy(n,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return zs(r),l=od(n,r,a,v,d,h),T=ld(),n!==null&&!Pt?(ud(n,r,h),Gi(n,r,h)):(He&&T&&Ff(r),r.flags|=1,Bt(n,r,l,h),r.child)}function cy(n,r,a,l,h){if(n===null){var d=a.type;return typeof d=="function"&&!jf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,hy(n,r,d,l,h)):(n=sc(a.type,null,l,r,r.mode,h),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!xd(n,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:el,a(v,l)&&n.ref===r.ref)return Gi(n,r,h)}return r.flags|=1,n=Li(d,l),n.ref=r.ref,n.return=r,r.child=n}function hy(n,r,a,l,h){if(n!==null){var d=n.memoizedProps;if(el(d,l)&&n.ref===r.ref)if(Pt=!1,r.pendingProps=l=d,xd(n,h))(n.flags&131072)!==0&&(Pt=!0);else return r.lanes=n.lanes,Gi(n,r,h)}return wd(n,r,a,l,h)}function fy(n,r,a){var l=r.pendingProps,h=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(h=r.child=n.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return dy(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&cc(r,d!==null?d.cachePool:null),d!==null?h_(r,d):rd(),J_(r);else return r.lanes=r.childLanes=536870912,dy(n,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(cc(r,d.cachePool),h_(r,d),Ar(),r.memoizedState=null):(n!==null&&cc(r,null),rd(),Ar());return Bt(n,r,h,a),r.child}function dy(n,r,a,l){var h=Zf();return h=h===null?null:{parent:It._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},n!==null&&cc(r,null),rd(),J_(r),n!==null&&sl(n,r,l,!0),null}function Ic(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function wd(n,r,a,l,h){return zs(r),a=od(n,r,a,l,void 0,h),l=ld(),n!==null&&!Pt?(ud(n,r,h),Gi(n,r,h)):(He&&l&&Ff(r),r.flags|=1,Bt(n,r,a,h),r.child)}function my(n,r,a,l,h,d){return zs(r),r.updateQueue=null,a=d_(r,l,a,h),f_(n),l=ld(),n!==null&&!Pt?(ud(n,r,d),Gi(n,r,d)):(He&&l&&Ff(r),r.flags|=1,Bt(n,r,a,d),r.child)}function py(n,r,a,l,h){if(zs(r),r.stateNode===null){var d=xa,v=a.contextType;typeof v=="object"&&v!==null&&(d=Yt(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Sd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},ed(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Yt(v):xa,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Ad(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Sd.enqueueReplaceState(d,d.state,null),fl(r,l,d,h),hl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){d=r.stateNode;var T=r.memoizedProps,I=qs(a,T);d.props=I;var j=d.context,W=a.contextType;v=xa,typeof W=="object"&&W!==null&&(v=Yt(W));var J=a.getDerivedStateFromProps;W=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||j!==v)&&ty(r,d,l,v),_r=!1;var q=r.memoizedState;d.state=q,fl(r,l,d,h),hl(),j=r.memoizedState,T||q!==j||_r?(typeof J=="function"&&(Ad(r,a,J,l),j=r.memoizedState),(I=_r||ey(r,a,I,l,q,j,v))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=j),d.props=l,d.state=j,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,td(n,r),v=r.memoizedProps,W=qs(a,v),d.props=W,J=r.pendingProps,q=d.context,j=a.contextType,I=xa,typeof j=="object"&&j!==null&&(I=Yt(j)),T=a.getDerivedStateFromProps,(j=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==J||q!==I)&&ty(r,d,l,I),_r=!1,q=r.memoizedState,d.state=q,fl(r,l,d,h),hl();var H=r.memoizedState;v!==J||q!==H||_r||n!==null&&n.dependencies!==null&&lc(n.dependencies)?(typeof T=="function"&&(Ad(r,a,T,l),H=r.memoizedState),(W=_r||ey(r,a,W,l,q,H,I)||n!==null&&n.dependencies!==null&&lc(n.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&q===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&q===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=H),d.props=l,d.state=H,d.context=I,l=W):(typeof d.componentDidUpdate!="function"||v===n.memoizedProps&&q===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&q===n.memoizedState||(r.flags|=1024),l=!1)}return d=l,Ic(n,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&l?(r.child=qa(r,n.child,null,h),r.child=qa(r,null,a,h)):Bt(n,r,a,h),r.memoizedState=d.state,n=r.child):n=Gi(n,r,h),n}function gy(n,r,a,l){return il(),r.flags|=256,Bt(n,r,a,l),r.child}var Rd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Id(n){return{baseLanes:n,cachePool:i_()}}function Cd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Un),n}function _y(n,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=n!==null&&n.memoizedState===null?!1:(Ct.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,n===null){if(He){if(h?Tr(r):Ar(),He){var T=ht,I;if(I=T){e:{for(I=T,T=ui;I.nodeType!==8;){if(!T){T=null;break e}if(I=Fn(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(r.memoizedState={dehydrated:T,treeContext:Ps!==null?{id:zi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},I=gn(18,null,null,0),I.stateNode=T,I.return=r,r.child=I,rn=r,ht=null,I=!0):I=!1}I||Us(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return hm(T)?r.lanes=32:r.lanes=536870912,null;Fi(r)}return T=l.children,l=l.fallback,h?(Ar(),h=r.mode,T=Cc({mode:"hidden",children:T},h),l=Ms(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=Id(a),h.childLanes=Cd(n,v,a),r.memoizedState=Rd,l):(Tr(r),Dd(r,T))}if(I=n.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)r.flags&256?(Tr(r),r.flags&=-257,r=Od(n,r,a)):r.memoizedState!==null?(Ar(),r.child=n.child,r.flags|=128,r=null):(Ar(),h=l.fallback,T=r.mode,l=Cc({mode:"visible",children:l.children},T),h=Ms(h,T,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,qa(r,n.child,null,a),l=r.child,l.memoizedState=Id(a),l.childLanes=Cd(n,v,a),r.memoizedState=Rd,r=h);else if(Tr(r),hm(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var j=v.dgst;v=j,l=Error(s(419)),l.stack="",l.digest=v,rl({value:l,source:null,stack:null}),r=Od(n,r,a)}else if(Pt||sl(n,r,a,!1),v=(a&n.childLanes)!==0,Pt||v){if(v=tt,v!==null&&(l=a&-a,l=(l&42)!==0?1:ur(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Na(n,l),Tn(v,n,l),ly;T.data==="$?"||Yd(),r=Od(n,r,a)}else T.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=I.treeContext,ht=Fn(T.nextSibling),rn=r,He=!0,Vs=null,ui=!1,n!==null&&(Pn[kn++]=zi,Pn[kn++]=Bi,Pn[kn++]=Ps,zi=n.id,Bi=n.overflow,Ps=r),r=Dd(r,l.children),r.flags|=4096);return r}return h?(Ar(),h=l.fallback,T=r.mode,I=n.child,j=I.sibling,l=Li(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,j!==null?h=Li(j,h):(h=Ms(h,T,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=n.child.memoizedState,T===null?T=Id(a):(I=T.cachePool,I!==null?(j=It._currentValue,I=I.parent!==j?{parent:j,pool:j}:I):I=i_(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=Cd(n,v,a),r.memoizedState=Rd,l):(Tr(r),a=n.child,n=a.sibling,a=Li(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(v=r.deletions,v===null?(r.deletions=[n],r.flags|=16):v.push(n)),r.child=a,r.memoizedState=null,a)}function Dd(n,r){return r=Cc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Cc(n,r){return n=gn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Od(n,r,a){return qa(r,n.child,null,a),n=Dd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function yy(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),Yf(n.return,r,a)}function Nd(n,r,a,l,h){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function vy(n,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(Bt(n,r,l.children,a),l=Ct.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&yy(n,a,r);else if(n.tag===19)yy(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(re(Ct,l),h){case"forwards":for(a=r.child,h=null;a!==null;)n=a.alternate,n!==null&&bc(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),Nd(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(n=h.alternate,n!==null&&bc(n)===null){r.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}Nd(r,!0,a,null,d);break;case"together":Nd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Gi(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Ir|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(sl(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Li(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Li(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function xd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&lc(n)))}function bb(n,r,a){switch(r.tag){case 3:et(r,r.stateNode.containerInfo),gr(r,It,n.memoizedState.cache),il();break;case 27:case 5:lr(r);break;case 4:et(r,r.stateNode.containerInfo);break;case 10:gr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Tr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?_y(n,r,a):(Tr(r),n=Gi(n,r,a),n!==null?n.sibling:null);Tr(r);break;case 19:var h=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(sl(n,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return vy(n,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(Ct,Ct.current),l)break;return null;case 22:case 23:return r.lanes=0,fy(n,r,a);case 24:gr(r,It,n.memoizedState.cache)}return Gi(n,r,a)}function Ey(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Pt=!0;else{if(!xd(n,a)&&(r.flags&128)===0)return Pt=!1,bb(n,r,a);Pt=(n.flags&131072)!==0}else Pt=!1,He&&(r.flags&1048576)!==0&&Xg(r,oc,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")jf(l)?(n=qs(l,n),r.tag=1,r=py(null,r,l,n,a)):(r.tag=0,r=wd(null,r,l,n,a));else{if(l!=null){if(h=l.$$typeof,h===oe){r.tag=11,r=uy(null,r,l,n,a);break e}else if(h===O){r.tag=14,r=cy(null,r,l,n,a);break e}}throw r=se(l)||l,Error(s(306,r,""))}}return r;case 0:return wd(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=qs(l,r.pendingProps),py(n,r,l,h,a);case 3:e:{if(et(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,td(n,r),fl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,gr(r,It,l),l!==d.cache&&$f(r,[It],a,!0),hl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=gy(n,r,l,a);break e}else if(l!==h){h=xn(Error(s(424)),r),rl(h),r=gy(n,r,l,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ht=Fn(n.firstChild),rn=r,He=!0,Vs=null,ui=!0,a=Z_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(il(),l===h){r=Gi(n,r,a);break e}Bt(n,r,l,a)}r=r.child}return r;case 26:return Ic(n,r),n===null?(a=bv(r.type,null,r.pendingProps,null))?r.memoizedState=a:He||(a=r.type,n=r.pendingProps,l=qc(we.current).createElement(a),l[bt]=r,l[yt]=n,qt(l,a,n),mt(l),r.stateNode=l):r.memoizedState=bv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return lr(r),n===null&&He&&(l=r.stateNode=Tv(r.type,r.pendingProps,we.current),rn=r,ui=!0,h=ht,Nr(r.type)?(fm=h,ht=Fn(l.firstChild)):ht=h),Bt(n,r,r.pendingProps.children,a),Ic(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&He&&((h=l=ht)&&(l=Zb(l,r.type,r.pendingProps,ui),l!==null?(r.stateNode=l,rn=r,ht=Fn(l.firstChild),ui=!1,h=!0):h=!1),h||Us(r)),lr(r),h=r.type,d=r.pendingProps,v=n!==null?n.memoizedProps:null,l=d.children,lm(h,d)?l=null:v!==null&&lm(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=od(n,r,gb,null,null,a),Pl._currentValue=h),Ic(n,r),Bt(n,r,l,a),r.child;case 6:return n===null&&He&&((n=a=ht)&&(a=Jb(a,r.pendingProps,ui),a!==null?(r.stateNode=a,rn=r,ht=null,n=!0):n=!1),n||Us(r)),null;case 13:return _y(n,r,a);case 4:return et(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=qa(r,null,l,a):Bt(n,r,l,a),r.child;case 11:return uy(n,r,r.type,r.pendingProps,a);case 7:return Bt(n,r,r.pendingProps,a),r.child;case 8:return Bt(n,r,r.pendingProps.children,a),r.child;case 12:return Bt(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,gr(r,r.type,l.value),Bt(n,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,zs(r),h=Yt(h),l=l(h),r.flags|=1,Bt(n,r,l,a),r.child;case 14:return cy(n,r,r.type,r.pendingProps,a);case 15:return hy(n,r,r.type,r.pendingProps,a);case 19:return vy(n,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},n===null?(a=Cc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Li(n.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return fy(n,r,a);case 24:return zs(r),l=Yt(It),n===null?(h=Zf(),h===null&&(h=tt,d=Xf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},ed(r),gr(r,It,h)):((n.lanes&a)!==0&&(td(n,r),fl(r,null,null,a),hl()),h=n.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),gr(r,It,l)):(l=d.cache,gr(r,It,l),l!==h.cache&&$f(r,[It],a,!0))),Bt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ki(n){n.flags|=4}function Ty(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Dv(r)){if(r=Vn.current,r!==null&&((ze&4194048)===ze?ci!==null:(ze&62914560)!==ze&&(ze&536870912)===0||r!==ci))throw ul=Jf,r_;n.flags|=8192}}function Dc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Vo():536870912,n.lanes|=r,Ka|=r)}function vl(n,r){if(!He)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ot(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function wb(n,r,a){var l=r.pendingProps;switch(Gf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return ot(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),qi(It),Wn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(nl(r)?Ki(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Jg())),ot(r),null;case 26:return a=r.memoizedState,n===null?(Ki(r),a!==null?(ot(r),Ty(r,a)):(ot(r),r.flags&=-16777217)):a?a!==n.memoizedState?(Ki(r),ot(r),Ty(r,a)):(ot(r),r.flags&=-16777217):(n.memoizedProps!==l&&Ki(r),ot(r),r.flags&=-16777217),null;case 27:wi(r),a=we.current;var h=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Ki(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ot(r),null}n=ve.current,nl(r)?Wg(r):(n=Tv(h,l,a),r.stateNode=n,Ki(r))}return ot(r),null;case 5:if(wi(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Ki(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ot(r),null}if(n=ve.current,nl(r))Wg(r);else{switch(h=qc(we.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}n[bt]=r,n[yt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=n;e:switch(qt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Ki(r)}}return ot(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&Ki(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=we.current,nl(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[bt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||mv(n.nodeValue,a)),n||Us(r)}else n=qc(n).createTextNode(l),n[bt]=r,r.stateNode=n}return ot(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=nl(r),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[bt]=r}else il(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),h=!1}else h=Jg(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Fi(r),r):(Fi(r),null)}if(Fi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),Dc(r,r.updateQueue),ot(r),null;case 4:return Wn(),n===null&&im(r.stateNode.containerInfo),ot(r),null;case 10:return qi(r.type),ot(r),null;case 19:if(ue(Ct),h=r.memoizedState,h===null)return ot(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)vl(h,!1);else{if(ft!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=bc(n),d!==null){for(r.flags|=128,vl(h,!1),n=d.updateQueue,r.updateQueue=n,Dc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)$g(a,n),a=a.sibling;return re(Ct,Ct.current&1|2),r.child}n=n.sibling}h.tail!==null&&Rn()>xc&&(r.flags|=128,l=!0,vl(h,!1),r.lanes=4194304)}else{if(!l)if(n=bc(d),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,Dc(r,n),vl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!He)return ot(r),null}else 2*Rn()-h.renderingStartTime>xc&&a!==536870912&&(r.flags|=128,l=!0,vl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(n=h.last,n!==null?n.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Rn(),r.sibling=null,n=Ct.current,re(Ct,l?n&1|2:n&1),r):(ot(r),null);case 22:case 23:return Fi(r),sd(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),a=r.updateQueue,a!==null&&Dc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&ue(Bs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),qi(It),ot(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Rb(n,r){switch(Gf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return qi(It),Wn(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return wi(r),null;case 13:if(Fi(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));il()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ue(Ct),null;case 4:return Wn(),null;case 10:return qi(r.type),null;case 22:case 23:return Fi(r),sd(),n!==null&&ue(Bs),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return qi(It),null;case 25:return null;default:return null}}function Ay(n,r){switch(Gf(r),r.tag){case 3:qi(It),Wn();break;case 26:case 27:case 5:wi(r);break;case 4:Wn();break;case 13:Fi(r);break;case 19:ue(Ct);break;case 10:qi(r.type);break;case 22:case 23:Fi(r),sd(),n!==null&&ue(Bs);break;case 24:qi(It)}}function El(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&n)===n){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Je(r,r.return,T)}}function Sr(n,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&n)===n){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=r;var I=a,j=T;try{j()}catch(W){Je(h,I,W)}}}l=l.next}while(l!==d)}}catch(W){Je(r,r.return,W)}}function Sy(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{c_(r,a)}catch(l){Je(n,n.return,l)}}}function by(n,r,a){a.props=qs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Je(n,r,l)}}function Tl(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(h){Je(n,r,h)}}function hi(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Je(n,r,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Je(n,r,h)}else a.current=null}function wy(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Je(n,n.return,h)}}function Md(n,r,a){try{var l=n.stateNode;Qb(l,n.type,a,r),l[yt]=r}catch(h){Je(n,n.return,h)}}function Ry(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Nr(n.type)||n.tag===4}function Pd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Ry(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Nr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function kd(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=jc));else if(l!==4&&(l===27&&Nr(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(kd(n,r,a),n=n.sibling;n!==null;)kd(n,r,a),n=n.sibling}function Oc(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&Nr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Oc(n,r,a),n=n.sibling;n!==null;)Oc(n,r,a),n=n.sibling}function Iy(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);qt(r,l,a),r[bt]=n,r[yt]=a}catch(d){Je(n,n.return,d)}}var Qi=!1,gt=!1,Vd=!1,Cy=typeof WeakSet=="function"?WeakSet:Set,kt=null;function Ib(n,r){if(n=n.containerInfo,am=Yc,n=zg(n),Pf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,I=-1,j=0,W=0,J=n,q=null;t:for(;;){for(var H;J!==a||h!==0&&J.nodeType!==3||(T=v+h),J!==d||l!==0&&J.nodeType!==3||(I=v+l),J.nodeType===3&&(v+=J.nodeValue.length),(H=J.firstChild)!==null;)q=J,J=H;for(;;){if(J===n)break t;if(q===a&&++j===h&&(T=v),q===d&&++W===l&&(I=v),(H=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=H}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(om={focusedElem:n,selectionRange:a},Yc=!1,kt=r;kt!==null;)if(r=kt,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,kt=n;else for(;kt!==null;){switch(r=kt,d=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var be=qs(a.type,h,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(be,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(Ee){Je(a,a.return,Ee)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)cm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":cm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,kt=n;break}kt=r.return}}function Dy(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:br(n,a),l&4&&El(5,a);break;case 1:if(br(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(v){Je(a,a.return,v)}else{var h=qs(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(h,r,n.__reactInternalSnapshotBeforeUpdate)}catch(v){Je(a,a.return,v)}}l&64&&Sy(a),l&512&&Tl(a,a.return);break;case 3:if(br(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{c_(n,r)}catch(v){Je(a,a.return,v)}}break;case 27:r===null&&l&4&&Iy(a);case 26:case 5:br(n,a),r===null&&l&4&&wy(a),l&512&&Tl(a,a.return);break;case 12:br(n,a);break;case 13:br(n,a),l&4&&xy(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=Vb.bind(null,a),ew(n,a))));break;case 22:if(l=a.memoizedState!==null||Qi,!l){r=r!==null&&r.memoizedState!==null||gt,h=Qi;var d=gt;Qi=l,(gt=r)&&!d?wr(n,a,(a.subtreeFlags&8772)!==0):br(n,a),Qi=h,gt=d}break;case 30:break;default:br(n,a)}}function Oy(n){var r=n.alternate;r!==null&&(n.alternate=null,Oy(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&fr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var st=null,on=!1;function Yi(n,r,a){for(a=a.child;a!==null;)Ny(n,r,a),a=a.sibling}function Ny(n,r,a){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(ct,a)}catch{}switch(a.tag){case 26:gt||hi(a,r),Yi(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:gt||hi(a,r);var l=st,h=on;Nr(a.type)&&(st=a.stateNode,on=!1),Yi(n,r,a),Ol(a.stateNode),st=l,on=h;break;case 5:gt||hi(a,r);case 6:if(l=st,h=on,st=null,Yi(n,r,a),st=l,on=h,st!==null)if(on)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(a.stateNode)}catch(d){Je(a,r,d)}else try{st.removeChild(a.stateNode)}catch(d){Je(a,r,d)}break;case 18:st!==null&&(on?(n=st,vv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Ll(n)):vv(st,a.stateNode));break;case 4:l=st,h=on,st=a.stateNode.containerInfo,on=!0,Yi(n,r,a),st=l,on=h;break;case 0:case 11:case 14:case 15:gt||Sr(2,a,r),gt||Sr(4,a,r),Yi(n,r,a);break;case 1:gt||(hi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&by(a,r,l)),Yi(n,r,a);break;case 21:Yi(n,r,a);break;case 22:gt=(l=gt)||a.memoizedState!==null,Yi(n,r,a),gt=l;break;default:Yi(n,r,a)}}function xy(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ll(n)}catch(a){Je(r,r.return,a)}}function Cb(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Cy),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Cy),r;default:throw Error(s(435,n.tag))}}function Ud(n,r){var a=Cb(n);r.forEach(function(l){var h=Ub.bind(null,n,l);a.has(l)||(a.add(l),l.then(h,h))})}function _n(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=n,v=r,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Nr(T.type)){st=T.stateNode,on=!1;break e}break;case 5:st=T.stateNode,on=!1;break e;case 3:case 4:st=T.stateNode.containerInfo,on=!0;break e}T=T.return}if(st===null)throw Error(s(160));Ny(d,v,h),st=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)My(r,n),r=r.sibling}var Hn=null;function My(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:_n(r,n),yn(n),l&4&&(Sr(3,n,n.return),El(3,n),Sr(5,n,n.return));break;case 1:_n(r,n),yn(n),l&512&&(gt||a===null||hi(a,a.return)),l&64&&Qi&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Hn;if(_n(r,n),yn(n),l&512&&(gt||a===null||hi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[_s]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),qt(d,l,a),d[bt]=n,mt(d),l=d;break e;case"link":var v=Iv("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=Iv("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[bt]=n,mt(d),l=d}n.stateNode=l}else Cv(h,n.type,n.stateNode);else n.stateNode=Rv(h,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Cv(h,n.type,n.stateNode):Rv(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Md(n,n.memoizedProps,a.memoizedProps)}break;case 27:_n(r,n),yn(n),l&512&&(gt||a===null||hi(a,a.return)),a!==null&&l&4&&Md(n,n.memoizedProps,a.memoizedProps);break;case 5:if(_n(r,n),yn(n),l&512&&(gt||a===null||hi(a,a.return)),n.flags&32){h=n.stateNode;try{Cn(h,"")}catch(H){Je(n,n.return,H)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,Md(n,h,a!==null?a.memoizedProps:h)),l&1024&&(Vd=!0);break;case 6:if(_n(r,n),yn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(H){Je(n,n.return,H)}}break;case 3:if(Gc=null,h=Hn,Hn=Hc(r.containerInfo),_n(r,n),Hn=h,yn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ll(r.containerInfo)}catch(H){Je(n,n.return,H)}Vd&&(Vd=!1,Py(n));break;case 4:l=Hn,Hn=Hc(n.stateNode.containerInfo),_n(r,n),yn(n),Hn=l;break;case 12:_n(r,n),yn(n);break;case 13:_n(r,n),yn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Hd=Rn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Ud(n,l)));break;case 22:h=n.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,j=Qi,W=gt;if(Qi=j||h,gt=W||I,_n(r,n),gt=W,Qi=j,yn(n),l&8192)e:for(r=n.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||I||Qi||gt||Hs(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var J=I.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(H){Je(I,I.return,H)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(H){Je(I,I.return,H)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ud(n,a))));break;case 19:_n(r,n),yn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Ud(n,l)));break;case 30:break;case 21:break;default:_n(r,n),yn(n)}}function yn(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(Ry(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Pd(n);Oc(n,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Cn(v,""),a.flags&=-33);var T=Pd(n);Oc(n,T,v);break;case 3:case 4:var I=a.stateNode.containerInfo,j=Pd(n);kd(n,j,I);break;default:throw Error(s(161))}}catch(W){Je(n,n.return,W)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Py(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;Py(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function br(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Dy(n,r.alternate,r),r=r.sibling}function Hs(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Sr(4,r,r.return),Hs(r);break;case 1:hi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&by(r,r.return,a),Hs(r);break;case 27:Ol(r.stateNode);case 26:case 5:hi(r,r.return),Hs(r);break;case 22:r.memoizedState===null&&Hs(r);break;case 30:Hs(r);break;default:Hs(r)}n=n.sibling}}function wr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=n,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:wr(h,d,a),El(4,d);break;case 1:if(wr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Je(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)u_(I[h],T)}catch(j){Je(l,l.return,j)}}a&&v&64&&Sy(d),Tl(d,d.return);break;case 27:Iy(d);case 26:case 5:wr(h,d,a),a&&l===null&&v&4&&wy(d),Tl(d,d.return);break;case 12:wr(h,d,a);break;case 13:wr(h,d,a),a&&v&4&&xy(h,d);break;case 22:d.memoizedState===null&&wr(h,d,a),Tl(d,d.return);break;case 30:break;default:wr(h,d,a)}r=r.sibling}}function Ld(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&al(a))}function zd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&al(n))}function fi(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)ky(n,r,a,l),r=r.sibling}function ky(n,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:fi(n,r,a,l),h&2048&&El(9,r);break;case 1:fi(n,r,a,l);break;case 3:fi(n,r,a,l),h&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&al(n)));break;case 12:if(h&2048){fi(n,r,a,l),n=r.stateNode;try{var d=r.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){Je(r,r.return,I)}}else fi(n,r,a,l);break;case 13:fi(n,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?fi(n,r,a,l):Al(n,r):d._visibility&2?fi(n,r,a,l):(d._visibility|=2,Ha(n,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&Ld(v,r);break;case 24:fi(n,r,a,l),h&2048&&zd(r.alternate,r);break;default:fi(n,r,a,l)}}function Ha(n,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=n,v=r,T=a,I=l,j=v.flags;switch(v.tag){case 0:case 11:case 15:Ha(d,v,T,I,h),El(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&2?Ha(d,v,T,I,h):Al(d,v):(W._visibility|=2,Ha(d,v,T,I,h)),h&&j&2048&&Ld(v.alternate,v);break;case 24:Ha(d,v,T,I,h),h&&j&2048&&zd(v.alternate,v);break;default:Ha(d,v,T,I,h)}r=r.sibling}}function Al(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,h=l.flags;switch(l.tag){case 22:Al(a,l),h&2048&&Ld(l.alternate,l);break;case 24:Al(a,l),h&2048&&zd(l.alternate,l);break;default:Al(a,l)}r=r.sibling}}var Sl=8192;function Fa(n){if(n.subtreeFlags&Sl)for(n=n.child;n!==null;)Vy(n),n=n.sibling}function Vy(n){switch(n.tag){case 26:Fa(n),n.flags&Sl&&n.memoizedState!==null&&dw(Hn,n.memoizedState,n.memoizedProps);break;case 5:Fa(n);break;case 3:case 4:var r=Hn;Hn=Hc(n.stateNode.containerInfo),Fa(n),Hn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Sl,Sl=16777216,Fa(n),Sl=r):Fa(n));break;default:Fa(n)}}function Uy(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function bl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];kt=l,zy(l,n)}Uy(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ly(n),n=n.sibling}function Ly(n){switch(n.tag){case 0:case 11:case 15:bl(n),n.flags&2048&&Sr(9,n,n.return);break;case 3:bl(n);break;case 12:bl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Nc(n)):bl(n);break;default:bl(n)}}function Nc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];kt=l,zy(l,n)}Uy(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Sr(8,r,r.return),Nc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Nc(r));break;default:Nc(r)}n=n.sibling}}function zy(n,r){for(;kt!==null;){var a=kt;switch(a.tag){case 0:case 11:case 15:Sr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:al(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,kt=l;else e:for(a=n;kt!==null;){l=kt;var h=l.sibling,d=l.return;if(Oy(l),l===a){kt=null;break e}if(h!==null){h.return=d,kt=h;break e}kt=d}}}var Db={getCacheForType:function(n){var r=Yt(It),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},Ob=typeof WeakMap=="function"?WeakMap:Map,Qe=0,tt=null,Me=null,ze=0,Ye=0,vn=null,Rr=!1,Ga=!1,Bd=!1,$i=0,ft=0,Ir=0,Fs=0,jd=0,Un=0,Ka=0,wl=null,ln=null,qd=!1,Hd=0,xc=1/0,Mc=null,Cr=null,jt=0,Dr=null,Qa=null,Ya=0,Fd=0,Gd=null,By=null,Rl=0,Kd=null;function En(){if((Qe&2)!==0&&ze!==0)return ze&-ze;if(F.T!==null){var n=ka;return n!==0?n:Jd()}return cr()}function jy(){Un===0&&(Un=(ze&536870912)===0||He?ko():536870912);var n=Vn.current;return n!==null&&(n.flags|=32),Un}function Tn(n,r,a){(n===tt&&(Ye===2||Ye===9)||n.cancelPendingCommit!==null)&&($a(n,0),Or(n,ze,Un,!1)),Ii(n,a),((Qe&2)===0||n!==tt)&&(n===tt&&((Qe&2)===0&&(Fs|=a),ft===4&&Or(n,ze,Un,!1)),di(n))}function qy(n,r,a){if((Qe&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&n.expiredLanes)===0||gs(n,r),h=l?Mb(n,r):$d(n,r,!0),d=l;do{if(h===0){Ga&&!l&&Or(n,r,0,!1);break}else{if(a=n.current.alternate,d&&!Nb(a)){h=$d(n,r,!1),d=!1;continue}if(h===2){if(d=r,n.errorRecoveryDisabledLanes&d)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var T=n;h=wl;var I=T.current.memoizedState.isDehydrated;if(I&&($a(T,v).flags|=256),v=$d(T,v,!1),v!==2){if(Bd&&!I){T.errorRecoveryDisabledLanes|=d,Fs|=d,h=4;break e}d=ln,ln=h,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){$a(n,0),Or(n,r,0,!0);break}e:{switch(l=n,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Or(l,r,Un,!Rr);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Hd+300-Rn(),10<h)){if(Or(l,r,Un,!Rr),fa(l,0,!0)!==0)break e;l.timeoutHandle=_v(Hy.bind(null,l,a,ln,Mc,qd,r,Un,Fs,Ka,Rr,d,2,-0,0),h);break e}Hy(l,a,ln,Mc,qd,r,Un,Fs,Ka,Rr,d,0,-0,0)}}break}while(!0);di(n)}function Hy(n,r,a,l,h,d,v,T,I,j,W,J,q,H){if(n.timeoutHandle=-1,J=r.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Ml={stylesheets:null,count:0,unsuspend:fw},Vy(r),J=mw(),J!==null)){n.cancelPendingCommit=J(Xy.bind(null,n,r,d,a,l,h,v,T,I,W,1,q,H)),Or(n,d,v,!j);return}Xy(n,r,d,a,l,h,v,T,I)}function Nb(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Or(n,r,a,l){r&=~jd,r&=~Fs,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var h=r;0<h;){var d=31-Qt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Zn(n,a,r)}function Pc(){return(Qe&6)===0?(Il(0),!1):!0}function Qd(){if(Me!==null){if(Ye===0)var n=Me.return;else n=Me,ji=Ls=null,cd(n),ja=null,_l=0,n=Me;for(;n!==null;)Ay(n.alternate,n),n=n.return;Me=null}}function $a(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,$b(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Qd(),tt=n,Me=a=Li(n.current,null),ze=r,Ye=0,vn=null,Rr=!1,Ga=gs(n,r),Bd=!1,Ka=Un=jd=Fs=Ir=ft=0,ln=wl=null,qd=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var h=31-Qt(l),d=1<<h;r|=n[h],l&=~d}return $i=r,nc(),a}function Fy(n,r){De=null,F.H=Tc,r===ll||r===hc?(r=o_(),Ye=3):r===r_?(r=o_(),Ye=4):Ye=r===ly?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,vn=r,Me===null&&(ft=1,Rc(n,xn(r,n.current)))}function Gy(){var n=F.H;return F.H=Tc,n===null?Tc:n}function Ky(){var n=F.A;return F.A=Db,n}function Yd(){ft=4,Rr||(ze&4194048)!==ze&&Vn.current!==null||(Ga=!0),(Ir&134217727)===0&&(Fs&134217727)===0||tt===null||Or(tt,ze,Un,!1)}function $d(n,r,a){var l=Qe;Qe|=2;var h=Gy(),d=Ky();(tt!==n||ze!==r)&&(Mc=null,$a(n,r)),r=!1;var v=ft;e:do try{if(Ye!==0&&Me!==null){var T=Me,I=vn;switch(Ye){case 8:Qd(),v=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(r=!0);var j=Ye;if(Ye=0,vn=null,Xa(n,T,I,j),a&&Ga){v=0;break e}break;default:j=Ye,Ye=0,vn=null,Xa(n,T,I,j)}}xb(),v=ft;break}catch(W){Fy(n,W)}while(!0);return r&&n.shellSuspendCounter++,ji=Ls=null,Qe=l,F.H=h,F.A=d,Me===null&&(tt=null,ze=0,nc()),v}function xb(){for(;Me!==null;)Qy(Me)}function Mb(n,r){var a=Qe;Qe|=2;var l=Gy(),h=Ky();tt!==n||ze!==r?(Mc=null,xc=Rn()+500,$a(n,r)):Ga=gs(n,r);e:do try{if(Ye!==0&&Me!==null){r=Me;var d=vn;t:switch(Ye){case 1:Ye=0,vn=null,Xa(n,r,d,1);break;case 2:case 9:if(s_(d)){Ye=0,vn=null,Yy(r);break}r=function(){Ye!==2&&Ye!==9||tt!==n||(Ye=7),di(n)},d.then(r,r);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:s_(d)?(Ye=0,vn=null,Yy(r)):(Ye=0,vn=null,Xa(n,r,d,7));break;case 5:var v=null;switch(Me.tag){case 26:v=Me.memoizedState;case 5:case 27:var T=Me;if(!v||Dv(v)){Ye=0,vn=null;var I=T.sibling;if(I!==null)Me=I;else{var j=T.return;j!==null?(Me=j,kc(j)):Me=null}break t}}Ye=0,vn=null,Xa(n,r,d,5);break;case 6:Ye=0,vn=null,Xa(n,r,d,6);break;case 8:Qd(),ft=6;break e;default:throw Error(s(462))}}Pb();break}catch(W){Fy(n,W)}while(!0);return ji=Ls=null,F.H=l,F.A=h,Qe=a,Me!==null?0:(tt=null,ze=0,nc(),ft)}function Pb(){for(;Me!==null&&!No();)Qy(Me)}function Qy(n){var r=Ey(n.alternate,n,$i);n.memoizedProps=n.pendingProps,r===null?kc(n):Me=r}function Yy(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=my(a,r,r.pendingProps,r.type,void 0,ze);break;case 11:r=my(a,r,r.pendingProps,r.type.render,r.ref,ze);break;case 5:cd(r);default:Ay(a,r),r=Me=$g(r,$i),r=Ey(a,r,$i)}n.memoizedProps=n.pendingProps,r===null?kc(n):Me=r}function Xa(n,r,a,l){ji=Ls=null,cd(r),ja=null,_l=0;var h=r.return;try{if(Sb(n,h,r,a,ze)){ft=1,Rc(n,xn(a,n.current)),Me=null;return}}catch(d){if(h!==null)throw Me=h,d;ft=1,Rc(n,xn(a,n.current)),Me=null;return}r.flags&32768?(He||l===1?n=!0:Ga||(ze&536870912)!==0?n=!1:(Rr=n=!0,(l===2||l===9||l===3||l===6)&&(l=Vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),$y(r,n)):kc(r)}function kc(n){var r=n;do{if((r.flags&32768)!==0){$y(r,Rr);return}n=r.return;var a=wb(r.alternate,r,$i);if(a!==null){Me=a;return}if(r=r.sibling,r!==null){Me=r;return}Me=r=n}while(r!==null);ft===0&&(ft=5)}function $y(n,r){do{var a=Rb(n.alternate,n);if(a!==null){a.flags&=32767,Me=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Me=n;return}Me=n=a}while(n!==null);ft=6,Me=null}function Xy(n,r,a,l,h,d,v,T,I){n.cancelPendingCommit=null;do Vc();while(jt!==0);if((Qe&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=zf,Uo(n,a,d,v,T,I),n===tt&&(Me=tt=null,ze=0),Qa=r,Dr=n,Ya=a,Fd=d,Gd=h,By=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Lb(fs,function(){return tv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=le.p,le.p=2,v=Qe,Qe|=4;try{Ib(n,r,a)}finally{Qe=v,le.p=h,F.T=l}}jt=1,Wy(),Zy(),Jy()}}function Wy(){if(jt===1){jt=0;var n=Dr,r=Qa,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=le.p;le.p=2;var h=Qe;Qe|=4;try{My(r,n);var d=om,v=zg(n.containerInfo),T=d.focusedElem,I=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Lg(T.ownerDocument.documentElement,T)){if(I!==null&&Pf(T)){var j=I.start,W=I.end;if(W===void 0&&(W=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(W,T.value.length);else{var J=T.ownerDocument||document,q=J&&J.defaultView||window;if(q.getSelection){var H=q.getSelection(),be=T.textContent.length,Ee=Math.min(I.start,be),Ze=I.end===void 0?Ee:Math.min(I.end,be);!H.extend&&Ee>Ze&&(v=Ze,Ze=Ee,Ee=v);var L=Ug(T,Ee),P=Ug(T,Ze);if(L&&P&&(H.rangeCount!==1||H.anchorNode!==L.node||H.anchorOffset!==L.offset||H.focusNode!==P.node||H.focusOffset!==P.offset)){var B=J.createRange();B.setStart(L.node,L.offset),H.removeAllRanges(),Ee>Ze?(H.addRange(B),H.extend(P.node,P.offset)):(B.setEnd(P.node,P.offset),H.addRange(B))}}}}for(J=[],H=T;H=H.parentNode;)H.nodeType===1&&J.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var Z=J[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Yc=!!am,om=am=null}finally{Qe=h,le.p=l,F.T=a}}n.current=r,jt=2}}function Zy(){if(jt===2){jt=0;var n=Dr,r=Qa,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=le.p;le.p=2;var h=Qe;Qe|=4;try{Dy(n,r.alternate,r)}finally{Qe=h,le.p=l,F.T=a}}jt=3}}function Jy(){if(jt===4||jt===3){jt=0,Nu();var n=Dr,r=Qa,a=Ya,l=By;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?jt=5:(jt=0,Qa=Dr=null,ev(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(Cr=null),da(a),r=r.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(ct,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=F.T,h=le.p,le.p=2,F.T=null;try{for(var d=n.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{F.T=r,le.p=h}}(Ya&3)!==0&&Vc(),di(n),h=n.pendingLanes,(a&4194090)!==0&&(h&42)!==0?n===Kd?Rl++:(Rl=0,Kd=n):Rl=0,Il(0)}}function ev(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,al(r)))}function Vc(n){return Wy(),Zy(),Jy(),tv()}function tv(){if(jt!==5)return!1;var n=Dr,r=Fd;Fd=0;var a=da(Ya),l=F.T,h=le.p;try{le.p=32>a?32:a,F.T=null,a=Gd,Gd=null;var d=Dr,v=Ya;if(jt=0,Qa=Dr=null,Ya=0,(Qe&6)!==0)throw Error(s(331));var T=Qe;if(Qe|=4,Ly(d.current),ky(d,d.current,v,a),Qe=T,Il(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(ct,d)}catch{}return!0}finally{le.p=h,F.T=l,ev(n,r)}}function nv(n,r,a){r=xn(a,r),r=bd(n.stateNode,r,2),n=vr(n,r,2),n!==null&&(Ii(n,2),di(n))}function Je(n,r,a){if(n.tag===3)nv(n,n,a);else for(;r!==null;){if(r.tag===3){nv(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Cr===null||!Cr.has(l))){n=xn(a,n),a=ay(2),l=vr(r,a,2),l!==null&&(oy(a,l,r,n),Ii(l,2),di(l));break}}r=r.return}}function Xd(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new Ob;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Bd=!0,h.add(a),n=kb.bind(null,n,r,a),r.then(n,n))}function kb(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,tt===n&&(ze&a)===a&&(ft===4||ft===3&&(ze&62914560)===ze&&300>Rn()-Hd?(Qe&2)===0&&$a(n,0):jd|=a,Ka===ze&&(Ka=0)),di(n)}function iv(n,r){r===0&&(r=Vo()),n=Na(n,r),n!==null&&(Ii(n,r),di(n))}function Vb(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),iv(n,a)}function Ub(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),iv(n,a)}function Lb(n,r){return cs(n,r)}var Uc=null,Wa=null,Wd=!1,Lc=!1,Zd=!1,Gs=0;function di(n){n!==Wa&&n.next===null&&(Wa===null?Uc=Wa=n:Wa=Wa.next=n),Lc=!0,Wd||(Wd=!0,Bb())}function Il(n,r){if(!Zd&&Lc){Zd=!0;do for(var a=!1,l=Uc;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Qt(42|n)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,ov(l,d))}else d=ze,d=fa(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||gs(l,d)||(a=!0,ov(l,d));l=l.next}while(a);Zd=!1}}function zb(){rv()}function rv(){Lc=Wd=!1;var n=0;Gs!==0&&(Yb()&&(n=Gs),Gs=0);for(var r=Rn(),a=null,l=Uc;l!==null;){var h=l.next,d=sv(l,r);d===0?(l.next=null,a===null?Uc=h:a.next=h,h===null&&(Wa=a)):(a=l,(n!==0||(d&3)!==0)&&(Lc=!0)),l=h}Il(n)}function sv(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var v=31-Qt(d),T=1<<v,I=h[v];I===-1?((T&a)===0||(T&l)!==0)&&(h[v]=Po(T,r)):I<=r&&(n.expiredLanes|=T),d&=~T}if(r=tt,a=ze,a=fa(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(Ye===2||Ye===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&hs(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||gs(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&hs(l),da(a)){case 2:case 8:a=ca;break;case 32:a=fs;break;case 268435456:a=ha;break;default:a=fs}return l=av.bind(null,n),a=cs(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&hs(l),n.callbackPriority=2,n.callbackNode=null,2}function av(n,r){if(jt!==0&&jt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Vc()&&n.callbackNode!==a)return null;var l=ze;return l=fa(n,n===tt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(qy(n,l,r),sv(n,Rn()),n.callbackNode!=null&&n.callbackNode===a?av.bind(null,n):null)}function ov(n,r){if(Vc())return null;qy(n,r,!0)}function Bb(){Xb(function(){(Qe&6)!==0?cs(xo,zb):rv()})}function Jd(){return Gs===0&&(Gs=ko()),Gs}function lv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:va(""+n)}function uv(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function jb(n,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=lv((h[yt]||null).action),v=l.submitter;v&&(r=(r=v[yt]||null)?lv(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var T=new Ea("action","action",null,l,h);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Gs!==0){var I=v?uv(h,v):new FormData(h);vd(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?uv(h,v):new FormData(h),vd(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var em=0;em<Lf.length;em++){var tm=Lf[em],qb=tm.toLowerCase(),Hb=tm[0].toUpperCase()+tm.slice(1);qn(qb,"on"+Hb)}qn(qg,"onAnimationEnd"),qn(Hg,"onAnimationIteration"),qn(Fg,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(ab,"onTransitionRun"),qn(ob,"onTransitionStart"),qn(lb,"onTransitionCancel"),qn(Gg,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function cv(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,j=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=j;try{d(h)}catch(W){wc(W)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,j=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=j;try{d(h)}catch(W){wc(W)}h.currentTarget=null,d=I}}}}function Pe(n,r){var a=r[zo];a===void 0&&(a=r[zo]=new Set);var l=n+"__bubble";a.has(l)||(hv(r,n,2,!1),a.add(l))}function nm(n,r,a){var l=0;r&&(l|=4),hv(a,n,l,r)}var zc="_reactListening"+Math.random().toString(36).slice(2);function im(n){if(!n[zc]){n[zc]=!0,Bo.forEach(function(a){a!=="selectionchange"&&(Fb.has(a)||nm(a,!1,n),nm(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[zc]||(r[zc]=!0,nm("selectionchange",!1,r))}}function hv(n,r,a,l){switch(kv(r)){case 2:var h=_w;break;case 8:h=yw;break;default:h=_m}a=h.bind(null,r,a,n),h=void 0,!On||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(r,a,{capture:!0,passive:h}):n.addEventListener(r,a,!0):h!==void 0?n.addEventListener(r,a,{passive:h}):n.addEventListener(r,a,!1)}function rm(n,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Ci(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}T=T.parentNode}}l=l.return}ju(function(){var j=d,W=Dn(a),J=[];e:{var q=Kg.get(n);if(q!==void 0){var H=Ea,be=n;switch(n){case"keypress":if(ri(a)===0)break e;case"keydown":case"keyup":H=Ra;break;case"focusin":be="focus",H=Sa;break;case"focusout":be="blur",H=Sa;break;case"beforeblur":case"afterblur":H=Sa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Of;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=$u;break;case qg:case Hg:case Fg:H=ba;break;case Gg:H=Wu;break;case"scroll":case"scrollend":H=qu;break;case"wheel":H=Ia;break;case"copy":case"cut":case"paste":H=wa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Zo;break;case"toggle":case"beforetoggle":H=Ju}var Ee=(r&4)!==0,Ze=!Ee&&(n==="scroll"||n==="scrollend"),L=Ee?q!==null?q+"Capture":null:q;Ee=[];for(var P=j,B;P!==null;){var Z=P;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||L===null||(Z=bs(P,L),Z!=null&&Ee.push(Dl(P,Z,B))),Ze)break;P=P.return}0<Ee.length&&(q=new H(q,be,null,a,W),J.push({event:q,listeners:Ee}))}}if((r&7)===0){e:{if(q=n==="mouseover"||n==="pointerover",H=n==="mouseout"||n==="pointerout",q&&a!==xi&&(be=a.relatedTarget||a.fromElement)&&(Ci(be)||be[In]))break e;if((H||q)&&(q=W.window===W?W:(q=W.ownerDocument)?q.defaultView||q.parentWindow:window,H?(be=a.relatedTarget||a.toElement,H=j,be=be?Ci(be):null,be!==null&&(Ze=u(be),Ee=be.tag,be!==Ze||Ee!==5&&Ee!==27&&Ee!==6)&&(be=null)):(H=null,be=j),H!==be)){if(Ee=Nn,Z="onMouseLeave",L="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(Ee=Zo,Z="onPointerLeave",L="onPointerEnter",P="pointer"),Ze=H==null?q:ei(H),B=be==null?q:ei(be),q=new Ee(Z,P+"leave",H,a,W),q.target=Ze,q.relatedTarget=B,Z=null,Ci(W)===j&&(Ee=new Ee(L,P+"enter",be,a,W),Ee.target=B,Ee.relatedTarget=Ze,Z=Ee),Ze=Z,H&&be)t:{for(Ee=H,L=be,P=0,B=Ee;B;B=Za(B))P++;for(B=0,Z=L;Z;Z=Za(Z))B++;for(;0<P-B;)Ee=Za(Ee),P--;for(;0<B-P;)L=Za(L),B--;for(;P--;){if(Ee===L||L!==null&&Ee===L.alternate)break t;Ee=Za(Ee),L=Za(L)}Ee=null}else Ee=null;H!==null&&fv(J,q,H,Ee,!1),be!==null&&Ze!==null&&fv(J,Ze,be,Ee,!0)}}e:{if(q=j?ei(j):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var de=Ng;else if(Rt(q))if(xg)de=ib;else{de=tb;var xe=eb}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?j&&Go(j.elementType)&&(de=Ng):de=nb;if(de&&(de=de(n,j))){Ui(J,de,a,W);break e}xe&&xe(n,q,j),n==="focusout"&&j&&q.type==="number"&&j.memoizedProps.value!=null&&mr(q,"number",q.value)}switch(xe=j?ei(j):window,n){case"focusin":(Rt(xe)||xe.contentEditable==="true")&&(Ca=xe,kf=j,tl=null);break;case"focusout":tl=kf=Ca=null;break;case"mousedown":Vf=!0;break;case"contextmenu":case"mouseup":case"dragend":Vf=!1,Bg(J,a,W);break;case"selectionchange":if(sb)break;case"keydown":case"keyup":Bg(J,a,W)}var ge;if(oi)e:{switch(n){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Ue?Q(n,a)&&(Te="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(y&&a.locale!=="ko"&&(Ue||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Ue&&(ge=Qo()):(ii=W,pr="value"in ii?ii.value:ii.textContent,Ue=!0)),xe=Bc(j,Te),0<xe.length&&(Te=new Xo(Te,n,null,a,W),J.push({event:Te,listeners:xe}),ge?Te.data=ge:(ge=ae(a),ge!==null&&(Te.data=ge)))),(ge=_?wt(n,a):Le(n,a))&&(Te=Bc(j,"onBeforeInput"),0<Te.length&&(xe=new Xo("onBeforeInput","beforeinput",null,a,W),J.push({event:xe,listeners:Te}),xe.data=ge)),jb(J,n,j,a,W)}cv(J,r)})}function Dl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Bc(n,r){for(var a=r+"Capture",l=[];n!==null;){var h=n,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=bs(n,a),h!=null&&l.unshift(Dl(n,h,d)),h=bs(n,r),h!=null&&l.push(Dl(n,h,d))),n.tag===3)return l;n=n.return}return[]}function Za(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function fv(n,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,j=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||j===null||(I=j,h?(j=bs(a,d),j!=null&&v.unshift(Dl(a,j,I))):h||(j=bs(a,d),j!=null&&v.push(Dl(a,j,I)))),a=a.return}v.length!==0&&n.push({event:r,listeners:v})}var Gb=/\r\n?/g,Kb=/\u0000|\uFFFD/g;function dv(n){return(typeof n=="string"?n:""+n).replace(Gb,`
`).replace(Kb,"")}function mv(n,r){return r=dv(r),dv(n)===r}function jc(){}function We(n,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Cn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Cn(n,""+l);break;case"className":ti(n,"class",l);break;case"tabIndex":ti(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ti(n,a,l);break;case"style":Fo(n,l,d);break;case"data":if(r!=="object"){ti(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=va(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&We(n,r,"name",h.name,h,null),We(n,r,"formEncType",h.formEncType,h,null),We(n,r,"formMethod",h.formMethod,h,null),We(n,r,"formTarget",h.formTarget,h,null)):(We(n,r,"encType",h.encType,h,null),We(n,r,"method",h.method,h,null),We(n,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=va(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=jc);break;case"onScroll":l!=null&&Pe("scroll",n);break;case"onScrollEnd":l!=null&&Pe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=va(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Pe("beforetoggle",n),Pe("toggle",n),dr(n,"popover",l);break;case"xlinkActuate":Lt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Lt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Lt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Lt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Lt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Lt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Lt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Lt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Lt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":dr(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Cf.get(a)||a,dr(n,a,l))}}function sm(n,r,a,l,h,d){switch(a){case"style":Fo(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Cn(n,l):(typeof l=="number"||typeof l=="bigint")&&Cn(n,""+l);break;case"onScroll":l!=null&&Pe("scroll",n);break;case"onScrollEnd":l!=null&&Pe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=jc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ma.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=n[yt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,h);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):dr(n,a,l)}}}function qt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",n),Pe("load",n);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(n,r,d,v,a,null)}}h&&We(n,r,"srcSet",a.srcSet,a,null),l&&We(n,r,"src",a.src,a,null);return;case"input":Pe("invalid",n);var T=d=v=h=null,I=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":v=W;break;case"checked":I=W;break;case"defaultChecked":j=W;break;case"value":d=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:We(n,r,l,W,a,null)}}Ts(n,d,T,I,j,v,h,!1),ya(n);return;case"select":Pe("invalid",n),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:We(n,r,h,T,a,null)}r=d,a=v,n.multiple=!!l,r!=null?Ni(n,!!l,r,!1):a!=null&&Ni(n,!!l,a,!0);return;case"textarea":Pe("invalid",n),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:We(n,r,v,T,a,null)}As(n,l,h,d),ya(n);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(n,r,I,l,a,null)}return;case"dialog":Pe("beforetoggle",n),Pe("toggle",n),Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":Pe("load",n);break;case"video":case"audio":for(l=0;l<Cl.length;l++)Pe(Cl[l],n);break;case"image":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"embed":case"source":case"link":Pe("error",n),Pe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(n,r,j,l,a,null)}return;default:if(Go(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&sm(n,r,W,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&We(n,r,T,l,a,null))}function Qb(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,j=null,W=null;for(H in a){var J=a[H];if(a.hasOwnProperty(H)&&J!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=J;default:l.hasOwnProperty(H)||We(n,r,H,null,l,J)}}for(var q in l){var H=l[q];if(J=a[q],l.hasOwnProperty(q)&&(H!=null||J!=null))switch(q){case"type":d=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":W=H;break;case"value":v=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:H!==J&&We(n,r,q,H,l,J)}}mn(n,v,T,I,j,W,d,h);return;case"select":H=v=T=q=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":H=I;default:l.hasOwnProperty(d)||We(n,r,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":q=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&We(n,r,h,d,l,I)}r=T,a=v,l=H,q!=null?Ni(n,!!a,q,!1):!!l!=!!a&&(r!=null?Ni(n,!!a,r,!0):Ni(n,!!a,a?[]:"",!1));return;case"textarea":H=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:We(n,r,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":q=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(n,r,v,h,l,d)}$e(n,q,H);return;case"option":for(var be in a)if(q=a[be],a.hasOwnProperty(be)&&q!=null&&!l.hasOwnProperty(be))switch(be){case"selected":n.selected=!1;break;default:We(n,r,be,null,l,q)}for(I in l)if(q=l[I],H=a[I],l.hasOwnProperty(I)&&q!==H&&(q!=null||H!=null))switch(I){case"selected":n.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:We(n,r,I,q,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)q=a[Ee],a.hasOwnProperty(Ee)&&q!=null&&!l.hasOwnProperty(Ee)&&We(n,r,Ee,null,l,q);for(j in l)if(q=l[j],H=a[j],l.hasOwnProperty(j)&&q!==H&&(q!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:We(n,r,j,q,l,H)}return;default:if(Go(r)){for(var Ze in a)q=a[Ze],a.hasOwnProperty(Ze)&&q!==void 0&&!l.hasOwnProperty(Ze)&&sm(n,r,Ze,void 0,l,q);for(W in l)q=l[W],H=a[W],!l.hasOwnProperty(W)||q===H||q===void 0&&H===void 0||sm(n,r,W,q,l,H);return}}for(var L in a)q=a[L],a.hasOwnProperty(L)&&q!=null&&!l.hasOwnProperty(L)&&We(n,r,L,null,l,q);for(J in l)q=l[J],H=a[J],!l.hasOwnProperty(J)||q===H||q==null&&H==null||We(n,r,J,q,l,H)}var am=null,om=null;function qc(n){return n.nodeType===9?n:n.ownerDocument}function pv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function lm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var um=null;function Yb(){var n=window.event;return n&&n.type==="popstate"?n===um?!1:(um=n,!0):(um=null,!1)}var _v=typeof setTimeout=="function"?setTimeout:void 0,$b=typeof clearTimeout=="function"?clearTimeout:void 0,yv=typeof Promise=="function"?Promise:void 0,Xb=typeof queueMicrotask=="function"?queueMicrotask:typeof yv<"u"?function(n){return yv.resolve(null).then(n).catch(Wb)}:_v;function Wb(n){setTimeout(function(){throw n})}function Nr(n){return n==="head"}function vv(n,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=n.ownerDocument;if(a&1&&Ol(v.documentElement),a&2&&Ol(v.body),a&4)for(a=v.head,Ol(a),v=a.firstChild;v;){var T=v.nextSibling,I=v.nodeName;v[_s]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){n.removeChild(d),Ll(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Ll(r)}function cm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":cm(a),fr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function Zb(n,r,a,l){for(;n.nodeType===1;){var h=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[_s])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Fn(n.nextSibling),n===null)break}return null}function Jb(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Fn(n.nextSibling),n===null))return null;return n}function hm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function ew(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Fn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var fm=null;function Ev(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function Tv(n,r,a){switch(r=qc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Ol(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);fr(n)}var Ln=new Map,Av=new Set;function Hc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Xi=le.d;le.d={f:tw,r:nw,D:iw,C:rw,L:sw,m:aw,X:lw,S:ow,M:uw};function tw(){var n=Xi.f(),r=Pc();return n||r}function nw(n){var r=Jn(n);r!==null&&r.tag===5&&r.type==="form"?q_(r):Xi.r(n)}var Ja=typeof document>"u"?null:document;function Sv(n,r,a){var l=Ja;if(l&&typeof r=="string"&&r){var h=vt(r);h='link[rel="'+n+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Av.has(h)||(Av.add(h),n={rel:n,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),qt(r,"link",n),mt(r),l.head.appendChild(r)))}}function iw(n){Xi.D(n),Sv("dns-prefetch",n,null)}function rw(n,r){Xi.C(n,r),Sv("preconnect",n,r)}function sw(n,r,a){Xi.L(n,r,a);var l=Ja;if(l&&n&&r){var h='link[rel="preload"][as="'+vt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+vt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+vt(a.imageSizes)+'"]')):h+='[href="'+vt(n)+'"]';var d=h;switch(r){case"style":d=eo(n);break;case"script":d=to(n)}Ln.has(d)||(n=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Ln.set(d,n),l.querySelector(h)!==null||r==="style"&&l.querySelector(Nl(d))||r==="script"&&l.querySelector(xl(d))||(r=l.createElement("link"),qt(r,"link",n),mt(r),l.head.appendChild(r)))}}function aw(n,r){Xi.m(n,r);var a=Ja;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+vt(l)+'"][href="'+vt(n)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=to(n)}if(!Ln.has(d)&&(n=E({rel:"modulepreload",href:n},r),Ln.set(d,n),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xl(d)))return}l=a.createElement("link"),qt(l,"link",n),mt(l),a.head.appendChild(l)}}}function ow(n,r,a){Xi.S(n,r,a);var l=Ja;if(l&&n){var h=en(l).hoistableStyles,d=eo(n);r=r||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Nl(d)))T.loading=5;else{n=E({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Ln.get(d))&&dm(n,a);var I=v=l.createElement("link");mt(I),qt(I,"link",n),I._p=new Promise(function(j,W){I.onload=j,I.onerror=W}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Fc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function lw(n,r){Xi.X(n,r);var a=Ja;if(a&&n){var l=en(a).hoistableScripts,h=to(n),d=l.get(h);d||(d=a.querySelector(xl(h)),d||(n=E({src:n,async:!0},r),(r=Ln.get(h))&&mm(n,r),d=a.createElement("script"),mt(d),qt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function uw(n,r){Xi.M(n,r);var a=Ja;if(a&&n){var l=en(a).hoistableScripts,h=to(n),d=l.get(h);d||(d=a.querySelector(xl(h)),d||(n=E({src:n,async:!0,type:"module"},r),(r=Ln.get(h))&&mm(n,r),d=a.createElement("script"),mt(d),qt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function bv(n,r,a,l){var h=(h=we.current)?Hc(h):null;if(!h)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=eo(a.href),a=en(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=eo(a.href);var d=en(h).hoistableStyles,v=d.get(n);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,v),(d=h.querySelector(Nl(n)))&&!d._p&&(v.instance=d,v.state.loading=5),Ln.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(n,a),d||cw(h,n,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=to(a),a=en(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function eo(n){return'href="'+vt(n)+'"'}function Nl(n){return'link[rel="stylesheet"]['+n+"]"}function wv(n){return E({},n,{"data-precedence":n.precedence,precedence:null})}function cw(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),qt(r,"link",a),mt(r),n.head.appendChild(r))}function to(n){return'[src="'+vt(n)+'"]'}function xl(n){return"script[async]"+n}function Rv(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+vt(a.href)+'"]');if(l)return r.instance=l,mt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),mt(l),qt(l,"style",h),Fc(l,a.precedence,n),r.instance=l;case"stylesheet":h=eo(a.href);var d=n.querySelector(Nl(h));if(d)return r.state.loading|=4,r.instance=d,mt(d),d;l=wv(a),(h=Ln.get(h))&&dm(l,h),d=(n.ownerDocument||n).createElement("link"),mt(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),qt(d,"link",l),r.state.loading|=4,Fc(d,a.precedence,n),r.instance=d;case"script":return d=to(a.src),(h=n.querySelector(xl(d)))?(r.instance=h,mt(h),h):(l=a,(h=Ln.get(d))&&(l=E({},a),mm(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),mt(h),qt(h,"link",l),n.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Fc(l,a.precedence,n));return r.instance}function Fc(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function dm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function mm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Gc=null;function Iv(n,r,a){if(Gc===null){var l=new Map,h=Gc=new Map;h.set(a,l)}else h=Gc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),h=0;h<a.length;h++){var d=a[h];if(!(d[_s]||d[bt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=n+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function Cv(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function hw(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Dv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Ml=null;function fw(){}function dw(n,r,a){if(Ml===null)throw Error(s(475));var l=Ml;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=eo(a.href),d=n.querySelector(Nl(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Kc.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=d,mt(d);return}d=n.ownerDocument||n,a=wv(a),(h=Ln.get(h))&&dm(a,h),d=d.createElement("link"),mt(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),qt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Kc.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function mw(){if(Ml===null)throw Error(s(475));var n=Ml;return n.stylesheets&&n.count===0&&pm(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&pm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Kc(){if(this.count--,this.count===0){if(this.stylesheets)pm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Qc=null;function pm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Qc=new Map,r.forEach(pw,n),Qc=null,Kc.call(n))}function pw(n,r){if(!(r.state.loading&4)){var a=Qc.get(n);if(a)var l=a.get(null);else{a=new Map,Qc.set(n,a);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Kc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),r.state.loading|=4}}var Pl={$$typeof:X,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function gw(n,r,a,l,h,d,v,T){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ri(0),this.hiddenUpdates=Ri(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Ov(n,r,a,l,h,d,v,T,I,j,W,J){return n=new gw(n,r,a,v,T,I,j,J),r=1,d===!0&&(r|=24),d=gn(3,null,null,r),n.current=d,d.stateNode=n,r=Xf(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},ed(d),n}function Nv(n){return n?(n=xa,n):xa}function xv(n,r,a,l,h,d){h=Nv(h),l.context===null?l.context=h:l.pendingContext=h,l=yr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=vr(n,l,r),a!==null&&(Tn(a,n,r),cl(a,n,r))}function Mv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function gm(n,r){Mv(n,r),(n=n.alternate)&&Mv(n,r)}function Pv(n){if(n.tag===13){var r=Na(n,67108864);r!==null&&Tn(r,n,67108864),gm(n,67108864)}}var Yc=!0;function _w(n,r,a,l){var h=F.T;F.T=null;var d=le.p;try{le.p=2,_m(n,r,a,l)}finally{le.p=d,F.T=h}}function yw(n,r,a,l){var h=F.T;F.T=null;var d=le.p;try{le.p=8,_m(n,r,a,l)}finally{le.p=d,F.T=h}}function _m(n,r,a,l){if(Yc){var h=ym(l);if(h===null)rm(n,r,l,$c,a),Vv(n,l);else if(Ew(h,n,r,a,l))l.stopPropagation();else if(Vv(n,l),r&4&&-1<vw.indexOf(n)){for(;h!==null;){var d=Jn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=zn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-Qt(v);T.entanglements[1]|=I,v&=~I}di(d),(Qe&6)===0&&(xc=Rn()+500,Il(0))}}break;case 13:T=Na(d,2),T!==null&&Tn(T,d,2),Pc(),gm(d,2)}if(d=ym(l),d===null&&rm(n,r,l,$c,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else rm(n,r,l,null,a)}}function ym(n){return n=Dn(n),vm(n)}var $c=null;function vm(n){if($c=null,n=Ci(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=f(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return $c=n,null}function kv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Af()){case xo:return 2;case ca:return 8;case fs:case Sf:return 32;case ha:return 268435456;default:return 32}default:return 32}}var Em=!1,xr=null,Mr=null,Pr=null,kl=new Map,Vl=new Map,kr=[],vw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vv(n,r){switch(n){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":kl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(r.pointerId)}}function Ul(n,r,a,l,h,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=Jn(r),r!==null&&Pv(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),n)}function Ew(n,r,a,l,h){switch(r){case"focusin":return xr=Ul(xr,n,r,a,l,h),!0;case"dragenter":return Mr=Ul(Mr,n,r,a,l,h),!0;case"mouseover":return Pr=Ul(Pr,n,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return kl.set(d,Ul(kl.get(d)||null,n,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Vl.set(d,Ul(Vl.get(d)||null,n,r,a,l,h)),!0}return!1}function Uv(n){var r=Ci(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){n.blockedOn=r,Pu(n.priority,function(){if(a.tag===13){var l=En();l=ur(l);var h=Na(a,l);h!==null&&Tn(h,a,l),gm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Xc(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=ym(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);xi=l,a.target.dispatchEvent(l),xi=null}else return r=Jn(a),r!==null&&Pv(r),n.blockedOn=a,!1;r.shift()}return!0}function Lv(n,r,a){Xc(n)&&a.delete(r)}function Tw(){Em=!1,xr!==null&&Xc(xr)&&(xr=null),Mr!==null&&Xc(Mr)&&(Mr=null),Pr!==null&&Xc(Pr)&&(Pr=null),kl.forEach(Lv),Vl.forEach(Lv)}function Wc(n,r){n.blockedOn===r&&(n.blockedOn=null,Em||(Em=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Tw)))}var Zc=null;function zv(n){Zc!==n&&(Zc=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Zc===n&&(Zc=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],h=n[r+2];if(typeof l!="function"){if(vm(l||a)===null)continue;break}var d=Jn(a);d!==null&&(n.splice(r,3),r-=3,vd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ll(n){function r(I){return Wc(I,n)}xr!==null&&Wc(xr,n),Mr!==null&&Wc(Mr,n),Pr!==null&&Wc(Pr,n),kl.forEach(r),Vl.forEach(r);for(var a=0;a<kr.length;a++){var l=kr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<kr.length&&(a=kr[0],a.blockedOn===null);)Uv(a),a.blockedOn===null&&kr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[yt]||null;if(typeof d=="function")v||zv(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[yt]||null)T=v.formAction;else if(vm(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),zv(a)}}}function Tm(n){this._internalRoot=n}Jc.prototype.render=Tm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=En();xv(a,l,n,r,null,null)},Jc.prototype.unmount=Tm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;xv(n.current,2,null,n,null,null),Pc(),r[In]=null}};function Jc(n){this._internalRoot=n}Jc.prototype.unstable_scheduleHydration=function(n){if(n){var r=cr();n={blockedOn:null,target:n,priority:r};for(var a=0;a<kr.length&&r!==0&&r<kr[a].priority;a++);kr.splice(a,0,n),a===0&&Uv(n)}};var Bv=e.version;if(Bv!=="19.1.0")throw Error(s(527,Bv,"19.1.0"));le.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(r),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var Aw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eh.isDisabled&&eh.supportsFiber)try{ct=eh.inject(Aw),Ke=eh}catch{}}return Bl.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",h=ny,d=iy,v=ry,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=Ov(n,1,!1,null,null,a,l,h,d,v,T,null),n[In]=r.current,im(n),new Tm(r)},Bl.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,h="",d=ny,v=iy,T=ry,I=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),r=Ov(n,1,!0,r,a??null,l,h,d,v,T,I,j),r.context=Nv(null),a=r.current,l=En(),l=ur(l),h=yr(l),h.callback=null,vr(a,h,l),a=l,r.current.lanes=a,Ii(r,a),di(r),n[In]=r.current,im(n),new Jc(r)},Bl.version="19.1.0",Bl}var Xv;function Mw(){if(Xv)return bm.exports;Xv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),bm.exports=xw(),bm.exports}var Pw=Mw(),jl={},Wv;function kw(){if(Wv)return jl;Wv=1,Object.defineProperty(jl,"__esModule",{value:!0}),jl.parse=f,jl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function f(b,M){const D=new u,G=b.length;if(G<2)return D;const U=(M==null?void 0:M.decode)||E;let Y=0;do{const ie=b.indexOf("=",Y);if(ie===-1)break;const X=b.indexOf(";",Y),oe=X===-1?G:X;if(ie>oe){Y=b.lastIndexOf(";",ie-1)+1;continue}const ce=m(b,Y,ie),_e=p(b,ie,ce),O=b.slice(ce,_e);if(D[O]===void 0){let w=m(b,ie+1,oe),R=p(b,oe,w);const x=U(b.slice(w,R));D[O]=x}Y=oe+1}while(Y<G);return D}function m(b,M,D){do{const G=b.charCodeAt(M);if(G!==32&&G!==9)return M}while(++M<D);return D}function p(b,M,D){for(;M>D;){const G=b.charCodeAt(--M);if(G!==32&&G!==9)return M+1}return D}function g(b,M,D){const G=(D==null?void 0:D.encode)||encodeURIComponent;if(!i.test(b))throw new TypeError(`argument name is invalid: ${b}`);const U=G(M);if(!e.test(U))throw new TypeError(`argument val is invalid: ${M}`);let Y=b+"="+U;if(!D)return Y;if(D.maxAge!==void 0){if(!Number.isInteger(D.maxAge))throw new TypeError(`option maxAge is invalid: ${D.maxAge}`);Y+="; Max-Age="+D.maxAge}if(D.domain){if(!t.test(D.domain))throw new TypeError(`option domain is invalid: ${D.domain}`);Y+="; Domain="+D.domain}if(D.path){if(!s.test(D.path))throw new TypeError(`option path is invalid: ${D.path}`);Y+="; Path="+D.path}if(D.expires){if(!S(D.expires)||!Number.isFinite(D.expires.valueOf()))throw new TypeError(`option expires is invalid: ${D.expires}`);Y+="; Expires="+D.expires.toUTCString()}if(D.httpOnly&&(Y+="; HttpOnly"),D.secure&&(Y+="; Secure"),D.partitioned&&(Y+="; Partitioned"),D.priority)switch(typeof D.priority=="string"?D.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${D.priority}`)}if(D.sameSite)switch(typeof D.sameSite=="string"?D.sameSite.toLowerCase():D.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${D.sameSite}`)}return Y}function E(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function S(b){return o.call(b)==="[object Date]"}return jl}kw();var Zv="popstate";function Vw(i={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Fm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:iu(o)}return Lw(e,t,null,i)}function at(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Qn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Uw(){return Math.random().toString(36).substring(2,10)}function Jv(i,e){return{usr:i.state,key:i.key,idx:e}}function Fm(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?To(e):e,state:t,key:e&&e.key||s||Uw()}}function iu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function To(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function Lw(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let U=E(),Y=U==null?null:U-g;g=U,p&&p({action:m,location:G.location,delta:Y})}function b(U,Y){m="PUSH";let ie=Fm(G.location,U,Y);g=E()+1;let X=Jv(ie,g),oe=G.createHref(ie);try{f.pushState(X,"",oe)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(oe)}u&&p&&p({action:m,location:G.location,delta:1})}function M(U,Y){m="REPLACE";let ie=Fm(G.location,U,Y);g=E();let X=Jv(ie,g),oe=G.createHref(ie);f.replaceState(X,"",oe),u&&p&&p({action:m,location:G.location,delta:0})}function D(U){let Y=o.location.origin!=="null"?o.location.origin:o.location.href,ie=typeof U=="string"?U:iu(U);return ie=ie.replace(/ $/,"%20"),at(Y,`No window.location.(origin|href) available to create URL for href: ${ie}`),new URL(ie,Y)}let G={get action(){return m},get location(){return i(o,f)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Zv,S),p=U,()=>{o.removeEventListener(Zv,S),p=null}},createHref(U){return e(o,U)},createURL:D,encodeLocation(U){let Y=D(U);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:b,replace:M,go(U){return f.go(U)}};return G}function jE(i,e,t="/"){return zw(i,e,t,!1)}function zw(i,e,t,s){let o=typeof e=="string"?To(e):e,u=nr(o.pathname||"/",t);if(u==null)return null;let f=qE(i);Bw(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=Ww(u);m=$w(f[p],g,s)}return m}function qE(i,e=[],t=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(at(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Ji([s,p.relativePath]),E=t.concat(p);u.children&&u.children.length>0&&(at(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),qE(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:Qw(g,u.index),routesMeta:E})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of HE(u.path))o(u,f,p)}),e}function HE(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=HE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function Bw(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:Yw(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var jw=/^:[\w-]+$/,qw=3,Hw=2,Fw=1,Gw=10,Kw=-2,e0=i=>i==="*";function Qw(i,e){let t=i.split("/"),s=t.length;return t.some(e0)&&(s+=Kw),e&&(s+=Hw),t.filter(o=>!e0(o)).reduce((o,u)=>o+(jw.test(u)?qw:u===""?Fw:Gw),s)}function Yw(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function $w(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=Sh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),b=p.route;if(!S&&g&&t&&!s[s.length-1].route.index&&(S=Sh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:Ji([u,S.pathname]),pathnameBase:t1(Ji([u,S.pathnameBase])),route:b}),S.pathnameBase!=="/"&&(u=Ji([u,S.pathnameBase]))}return f}function Sh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=Xw(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:S},b)=>{if(E==="*"){let D=m[b]||"";f=u.slice(0,u.length-D.length).replace(/(.)\/+$/,"$1")}const M=m[b];return S&&!M?g[E]=void 0:g[E]=(M||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function Xw(i,e=!1,t=!0){Qn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Ww(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function nr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function Zw(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?To(i):i;return{pathname:t?t.startsWith("/")?t:Jw(t,e):e,search:n1(s),hash:i1(o)}}function Jw(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Cm(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function e1(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ap(i){let e=e1(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Sp(i,e,t,s=!1){let o;typeof i=="string"?o=To(i):(o={...i},at(!o.pathname||!o.pathname.includes("?"),Cm("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),Cm("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),Cm("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=t;else{let S=e.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),S-=1;o.pathname=b.join("/")}m=S>=0?e[S]:"/"}let p=Zw(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Ji=i=>i.join("/").replace(/\/\/+/g,"/"),t1=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),n1=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,i1=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function r1(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var FE=["POST","PUT","PATCH","DELETE"];new Set(FE);var s1=["GET",...FE];new Set(s1);var Ao=K.createContext(null);Ao.displayName="DataRouter";var Kh=K.createContext(null);Kh.displayName="DataRouterState";var GE=K.createContext({isTransitioning:!1});GE.displayName="ViewTransition";var a1=K.createContext(new Map);a1.displayName="Fetchers";var o1=K.createContext(null);o1.displayName="Await";var Xn=K.createContext(null);Xn.displayName="Navigation";var gu=K.createContext(null);gu.displayName="Location";var Si=K.createContext({outlet:null,matches:[],isDataRoute:!1});Si.displayName="Route";var bp=K.createContext(null);bp.displayName="RouteError";function l1(i,{relative:e}={}){at(So(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=K.useContext(Xn),{hash:o,pathname:u,search:f}=_u(i,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:Ji([t,u])),s.createHref({pathname:m,search:f,hash:o})}function So(){return K.useContext(gu)!=null}function is(){return at(So(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(gu).location}var KE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function QE(i){K.useContext(Xn).static||K.useLayoutEffect(i)}function Qh(){let{isDataRoute:i}=K.useContext(Si);return i?T1():u1()}function u1(){at(So(),"useNavigate() may be used only in the context of a <Router> component.");let i=K.useContext(Ao),{basename:e,navigator:t}=K.useContext(Xn),{matches:s}=K.useContext(Si),{pathname:o}=is(),u=JSON.stringify(Ap(s)),f=K.useRef(!1);return QE(()=>{f.current=!0}),K.useCallback((p,g={})=>{if(Qn(f.current,KE),!f.current)return;if(typeof p=="number"){t.go(p);return}let E=Sp(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Ji([e,E.pathname])),(g.replace?t.replace:t.push)(E,g.state,g)},[e,t,u,o,i])}K.createContext(null);function _u(i,{relative:e}={}){let{matches:t}=K.useContext(Si),{pathname:s}=is(),o=JSON.stringify(Ap(t));return K.useMemo(()=>Sp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function c1(i,e){return YE(i,e)}function YE(i,e,t,s){var ie;at(So(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=K.useContext(Xn),{matches:f}=K.useContext(Si),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let X=S&&S.path||"";$E(g,!S||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let b=is(),M;if(e){let X=typeof e=="string"?To(e):e;at(E==="/"||((ie=X.pathname)==null?void 0:ie.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${X.pathname}" was given in the \`location\` prop.`),M=X}else M=b;let D=M.pathname||"/",G=D;if(E!=="/"){let X=E.replace(/^\//,"").split("/");G="/"+D.replace(/^\//,"").split("/").slice(X.length).join("/")}let U=!u&&t&&t.matches&&t.matches.length>0?t.matches:jE(i,{pathname:G});Qn(S||U!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Qn(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=p1(U&&U.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:Ji([E,o.encodeLocation?o.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?E:Ji([E,o.encodeLocation?o.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),f,t,s);return e&&Y?K.createElement(gu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},Y):Y}function h1(){let i=E1(),e=r1(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=K.createElement(K.Fragment,null,K.createElement("p",null," Hey developer "),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:u},"ErrorBoundary")," or"," ",K.createElement("code",{style:u},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:o},t):null,f)}var f1=K.createElement(h1,null),d1=class extends K.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?K.createElement(Si.Provider,{value:this.props.routeContext},K.createElement(bp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function m1({routeContext:i,match:e,children:t}){let s=K.useContext(Ao);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(Si.Provider,{value:i},t)}function p1(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,u=t==null?void 0:t.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);at(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:S}=t,b=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!S||S[g.route.id]===void 0);if(g.route.lazy||b){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let S,b=!1,M=null,D=null;t&&(S=u&&g.route.id?u[g.route.id]:void 0,M=g.route.errorElement||f1,f&&(m<0&&E===0?($E("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,D=null):m===E&&(b=!0,D=g.route.hydrateFallbackElement||null)));let G=e.concat(o.slice(0,E+1)),U=()=>{let Y;return S?Y=M:b?Y=D:g.route.Component?Y=K.createElement(g.route.Component,null):g.route.element?Y=g.route.element:Y=p,K.createElement(m1,{match:g,routeContext:{outlet:p,matches:G,isDataRoute:t!=null},children:Y})};return t&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?K.createElement(d1,{location:t.location,revalidation:t.revalidation,component:M,error:S,children:U(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):U()},null)}function wp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g1(i){let e=K.useContext(Ao);return at(e,wp(i)),e}function _1(i){let e=K.useContext(Kh);return at(e,wp(i)),e}function y1(i){let e=K.useContext(Si);return at(e,wp(i)),e}function Rp(i){let e=y1(i),t=e.matches[e.matches.length-1];return at(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function v1(){return Rp("useRouteId")}function E1(){var s;let i=K.useContext(bp),e=_1("useRouteError"),t=Rp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function T1(){let{router:i}=g1("useNavigate"),e=Rp("useNavigate"),t=K.useRef(!1);return QE(()=>{t.current=!0}),K.useCallback(async(o,u={})=>{Qn(t.current,KE),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var t0={};function $E(i,e,t){!e&&!t0[i]&&(t0[i]=!0,Qn(!1,t))}K.memo(A1);function A1({routes:i,future:e,state:t}){return YE(i,void 0,t,e)}function S1({to:i,replace:e,state:t,relative:s}){at(So(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=K.useContext(Xn);Qn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=K.useContext(Si),{pathname:f}=is(),m=Qh(),p=Sp(i,Ap(u),f,s==="path"),g=JSON.stringify(p);return K.useEffect(()=>{m(JSON.parse(g),{replace:e,state:t,relative:s})},[m,g,s,e,t]),null}function ch(i){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function b1({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){at(!So(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=K.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof t=="string"&&(t=To(t));let{pathname:p="/",search:g="",hash:E="",state:S=null,key:b="default"}=t,M=K.useMemo(()=>{let D=nr(p,f);return D==null?null:{location:{pathname:D,search:g,hash:E,state:S,key:b},navigationType:s}},[f,p,g,E,S,b,s]);return Qn(M!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:K.createElement(Xn.Provider,{value:m},K.createElement(gu.Provider,{children:e,value:M}))}function w1({children:i,location:e}){return c1(Gm(i),e)}function Gm(i,e=[]){let t=[];return K.Children.forEach(i,(s,o)=>{if(!K.isValidElement(s))return;let u=[...e,o];if(s.type===K.Fragment){t.push.apply(t,Gm(s.props.children,u));return}at(s.type===ch,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Gm(s.props.children,u)),t.push(f)}),t}var hh="get",fh="application/x-www-form-urlencoded";function Yh(i){return i!=null&&typeof i.tagName=="string"}function R1(i){return Yh(i)&&i.tagName.toLowerCase()==="button"}function I1(i){return Yh(i)&&i.tagName.toLowerCase()==="form"}function C1(i){return Yh(i)&&i.tagName.toLowerCase()==="input"}function D1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function O1(i,e){return i.button===0&&(!e||e==="_self")&&!D1(i)}var th=null;function N1(){if(th===null)try{new FormData(document.createElement("form"),0),th=!1}catch{th=!0}return th}var x1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dm(i){return i!=null&&!x1.has(i)?(Qn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fh}"`),null):i}function M1(i,e){let t,s,o,u,f;if(I1(i)){let m=i.getAttribute("action");s=m?nr(m,e):null,t=i.getAttribute("method")||hh,o=Dm(i.getAttribute("enctype"))||fh,u=new FormData(i)}else if(R1(i)||C1(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?nr(p,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||hh,o=Dm(i.getAttribute("formenctype"))||Dm(m.getAttribute("enctype"))||fh,u=new FormData(m,i),!N1()){let{name:g,type:E,value:S}=i;if(E==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,S)}}else{if(Yh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=hh,s=null,o=fh,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:f}}function Ip(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function P1(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function k1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function V1(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await P1(u,t);return f.links?f.links():[]}return[]}));return B1(s.flat(1).filter(k1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function n0(i,e,t,s,o,u){let f=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>{var E;return t[g].pathname!==p.pathname||((E=t[g].route.path)==null?void 0:E.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var S;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=t[0])==null?void 0:S.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function U1(i,e,{includeHydrateFallback:t}={}){return L1(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function L1(i){return[...new Set(i)]}function z1(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function B1(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(z1(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}var j1=new Set([100,101,204,205]);function q1(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&nr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function XE(){let i=K.useContext(Ao);return Ip(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function H1(){let i=K.useContext(Kh);return Ip(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Cp=K.createContext(void 0);Cp.displayName="FrameworkContext";function WE(){let i=K.useContext(Cp);return Ip(i,"You must render this element inside a <HydratedRouter> element"),i}function F1(i,e){let t=K.useContext(Cp),[s,o]=K.useState(!1),[u,f]=K.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:S}=e,b=K.useRef(null);K.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let G=Y=>{Y.forEach(ie=>{f(ie.isIntersecting)})},U=new IntersectionObserver(G,{threshold:.5});return b.current&&U.observe(b.current),()=>{U.disconnect()}}},[i]),K.useEffect(()=>{if(s){let G=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(G)}}},[s]);let M=()=>{o(!0)},D=()=>{o(!1),f(!1)};return t?i!=="intent"?[u,b,{}]:[u,b,{onFocus:ql(m,M),onBlur:ql(p,D),onMouseEnter:ql(g,M),onMouseLeave:ql(E,D),onTouchStart:ql(S,M)}]:[!1,b,{}]}function ql(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function G1({page:i,...e}){let{router:t}=XE(),s=K.useMemo(()=>jE(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?K.createElement(Q1,{page:i,matches:s,...e}):null}function K1(i){let{manifest:e,routeModules:t}=WE(),[s,o]=K.useState([]);return K.useEffect(()=>{let u=!1;return V1(i,e,t).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,t]),s}function Q1({page:i,matches:e,...t}){let s=is(),{manifest:o,routeModules:u}=WE(),{basename:f}=XE(),{loaderData:m,matches:p}=H1(),g=K.useMemo(()=>n0(i,e,p,o,s,"data"),[i,e,p,o,s]),E=K.useMemo(()=>n0(i,e,p,o,s,"assets"),[i,e,p,o,s]),S=K.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let D=new Set,G=!1;if(e.forEach(Y=>{var X;let ie=o.routes[Y.route.id];!ie||!ie.hasLoader||(!g.some(oe=>oe.route.id===Y.route.id)&&Y.route.id in m&&((X=u[Y.route.id])!=null&&X.shouldRevalidate)||ie.hasClientLoader?G=!0:D.add(Y.route.id))}),D.size===0)return[];let U=q1(i,f);return G&&D.size>0&&U.searchParams.set("_routes",e.filter(Y=>D.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[U.pathname+U.search]},[f,m,s,o,g,e,i,u]),b=K.useMemo(()=>U1(E,o),[E,o]),M=K1(E);return K.createElement(K.Fragment,null,S.map(D=>K.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...t})),b.map(D=>K.createElement("link",{key:D,rel:"modulepreload",href:D,...t})),M.map(({key:D,link:G})=>K.createElement("link",{key:D,...G})))}function Y1(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ZE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZE&&(window.__reactRouterVersion="7.5.2")}catch{}function $1({basename:i,children:e,window:t}){let s=K.useRef();s.current==null&&(s.current=Vw({window:t,v5Compat:!0}));let o=s.current,[u,f]=K.useState({action:o.action,location:o.location}),m=K.useCallback(p=>{K.startTransition(()=>f(p))},[f]);return K.useLayoutEffect(()=>o.listen(m),[o,m]),K.createElement(b1,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var JE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$h=K.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:S,...b},M){let{basename:D}=K.useContext(Xn),G=typeof g=="string"&&JE.test(g),U,Y=!1;if(typeof g=="string"&&G&&(U=g,ZE))try{let R=new URL(window.location.href),x=g.startsWith("//")?new URL(R.protocol+g):new URL(g),k=nr(x.pathname,D);x.origin===R.origin&&k!=null?g=k+x.search+x.hash:Y=!0}catch{Qn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ie=l1(g,{relative:o}),[X,oe,ce]=F1(s,b),_e=J1(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:S});function O(R){e&&e(R),R.defaultPrevented||_e(R)}let w=K.createElement("a",{...b,...ce,href:U||ie,onClick:Y||u?e:O,ref:Y1(M,oe),target:p,"data-discover":!G&&t==="render"?"true":void 0});return X&&!G?K.createElement(K.Fragment,null,w,K.createElement(G1,{page:ie})):w});$h.displayName="Link";var X1=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let S=_u(f,{relative:g.relative}),b=is(),M=K.useContext(Kh),{navigator:D,basename:G}=K.useContext(Xn),U=M!=null&&rR(S)&&m===!0,Y=D.encodeLocation?D.encodeLocation(S).pathname:S.pathname,ie=b.pathname,X=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;t||(ie=ie.toLowerCase(),X=X?X.toLowerCase():null,Y=Y.toLowerCase()),X&&G&&(X=nr(X,G)||X);const oe=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let ce=ie===Y||!o&&ie.startsWith(Y)&&ie.charAt(oe)==="/",_e=X!=null&&(X===Y||!o&&X.startsWith(Y)&&X.charAt(Y.length)==="/"),O={isActive:ce,isPending:_e,isTransitioning:U},w=ce?e:void 0,R;typeof s=="function"?R=s(O):R=[s,ce?"active":null,_e?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(O):u;return K.createElement($h,{...g,"aria-current":w,className:R,ref:E,style:x,to:f,viewTransition:m},typeof p=="function"?p(O):p)});X1.displayName="NavLink";var W1=K.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:f=hh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:S,...b},M)=>{let D=nR(),G=iR(m,{relative:g}),U=f.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&JE.test(m),ie=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let oe=X.nativeEvent.submitter,ce=(oe==null?void 0:oe.getAttribute("formmethod"))||f;D(oe||X.currentTarget,{fetcherKey:e,method:ce,navigate:t,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:S})};return K.createElement("form",{ref:M,method:U,action:G,onSubmit:s?p:ie,...b,"data-discover":!Y&&i==="render"?"true":void 0})});W1.displayName="Form";function Z1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eT(i){let e=K.useContext(Ao);return at(e,Z1(i)),e}function J1(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Qh(),p=is(),g=_u(i,{relative:u});return K.useCallback(E=>{if(O1(E,e)){E.preventDefault();let S=t!==void 0?t:iu(p)===iu(g);m(i,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,t,s,e,i,o,u,f])}var eR=0,tR=()=>`__${String(++eR)}__`;function nR(){let{router:i}=eT("useSubmit"),{basename:e}=K.useContext(Xn),t=v1();return K.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=M1(s,e);if(o.navigate===!1){let E=o.fetcherKey||tR();await i.fetch(E,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function iR(i,{relative:e}={}){let{basename:t}=K.useContext(Xn),s=K.useContext(Si);at(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={..._u(i||".",{relative:e})},f=is();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:Ji([t,u.pathname])),iu(u)}function rR(i,e={}){let t=K.useContext(GE);at(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=eT("useViewTransitionState"),o=_u(i,{relative:e.relative});if(!t.isTransitioning)return!1;let u=nr(t.currentLocation.pathname,s)||t.currentLocation.pathname,f=nr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Sh(o.pathname,f)!=null||Sh(o.pathname,u)!=null}new TextEncoder;[...j1];const sR=()=>{};var i0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},aR=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],f=i[t++],m=i[t++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],f=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},nT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,M=g&63;p||(M=64,f||(b=64)),s.push(t[E],t[S],t[b],t[M])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(tT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):aR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const S=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||S==null)throw new oR;const b=u<<2|m>>4;if(s.push(b),g!==64){const M=m<<4&240|g>>2;if(s.push(M),S!==64){const D=g<<6&192|S;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class oR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lR=function(i){const e=tT(i);return nT.encodeByteArray(e,!0)},bh=function(i){return lR(i).replace(/\./g,"")},iT=function(i){try{return nT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=()=>uR().__FIREBASE_DEFAULTS__,hR=()=>{if(typeof process>"u"||typeof i0>"u")return;const i=i0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},fR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&iT(i[1]);return e&&JSON.parse(e)},Xh=()=>{try{return sR()||cR()||hR()||fR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},rT=i=>{var e,t;return(t=(e=Xh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},sT=i=>{const e=rT(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},aT=()=>{var i;return(i=Xh())===null||i===void 0?void 0:i.config},oT=i=>{var e;return(e=Xh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[bh(JSON.stringify(t)),bh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function pR(){var i;const e=(i=Xh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _R(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function yR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vR(){const i=Jt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function ER(){return!pR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TR(){try{return typeof indexedDB=="object"}catch{return!1}}function AR(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="FirebaseError";class bi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=SR,Object.setPrototypeOf(this,bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yu.prototype.create)}}class yu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?bR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new bi(o,m,s)}}function bR(i,e){return i.replace(wR,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const wR=/\{\$([^}]+)}/g;function RR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Zs(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(r0(u)&&r0(f)){if(!Zs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function r0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Gl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Kl(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function IR(i,e){const t=new CR(i,e);return t.subscribe.bind(t)}class CR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");DR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Om),o.error===void 0&&(o.error=Om),o.complete===void 0&&(o.complete=Om);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DR(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Om(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(i){return i&&i._delegate?i._delegate:i}class Xr{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new dR;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xR(e))try{this.getOrInitializeService({instanceIdentifier:Ks})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ks){return this.instances.has(e)}getOptions(e=Ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:NR(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ks){return this.component?this.component.multipleInstances?e:Ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NR(i){return i===Ks?void 0:i}function xR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new OR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ke||(ke={}));const PR={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},kR=ke.INFO,VR={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},UR=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=VR[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dp{constructor(e){this.name=e,this._logLevel=kR,this._logHandler=UR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const LR=(i,e)=>e.some(t=>i instanceof t);let s0,a0;function zR(){return s0||(s0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BR(){return a0||(a0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uT=new WeakMap,Km=new WeakMap,cT=new WeakMap,Nm=new WeakMap,Op=new WeakMap;function jR(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{t(Fr(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(t=>{t instanceof IDBCursor&&uT.set(t,i)}).catch(()=>{}),Op.set(e,i),e}function qR(i){if(Km.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{t(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Km.set(i,e)}let Qm={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Km.get(i);if(e==="objectStoreNames")return i.objectStoreNames||cT.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Fr(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function HR(i){Qm=i(Qm)}function FR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(xm(this),e,...t);return cT.set(s,e.sort?e.sort():[e]),Fr(s)}:BR().includes(i)?function(...e){return i.apply(xm(this),e),Fr(uT.get(this))}:function(...e){return Fr(i.apply(xm(this),e))}}function GR(i){return typeof i=="function"?FR(i):(i instanceof IDBTransaction&&qR(i),LR(i,zR())?new Proxy(i,Qm):i)}function Fr(i){if(i instanceof IDBRequest)return jR(i);if(Nm.has(i))return Nm.get(i);const e=GR(i);return e!==i&&(Nm.set(i,e),Op.set(e,i)),e}const xm=i=>Op.get(i);function KR(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=Fr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Fr(f.result),p.oldVersion,p.newVersion,Fr(f.transaction),p)}),t&&f.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const QR=["get","getKey","getAll","getAllKeys","count"],YR=["put","add","delete","clear"],Mm=new Map;function o0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Mm.get(e))return Mm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=YR.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||QR.includes(t)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return Mm.set(e,u),u}HR(i=>({...i,get:(e,t,s)=>o0(e,t)||i.get(e,t,s),has:(e,t)=>!!o0(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(XR(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function XR(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ym="@firebase/app",l0="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir=new Dp("@firebase/app"),WR="@firebase/app-compat",ZR="@firebase/analytics-compat",JR="@firebase/analytics",e2="@firebase/app-check-compat",t2="@firebase/app-check",n2="@firebase/auth",i2="@firebase/auth-compat",r2="@firebase/database",s2="@firebase/data-connect",a2="@firebase/database-compat",o2="@firebase/functions",l2="@firebase/functions-compat",u2="@firebase/installations",c2="@firebase/installations-compat",h2="@firebase/messaging",f2="@firebase/messaging-compat",d2="@firebase/performance",m2="@firebase/performance-compat",p2="@firebase/remote-config",g2="@firebase/remote-config-compat",_2="@firebase/storage",y2="@firebase/storage-compat",v2="@firebase/firestore",E2="@firebase/vertexai",T2="@firebase/firestore-compat",A2="firebase",S2="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="[DEFAULT]",b2={[Ym]:"fire-core",[WR]:"fire-core-compat",[JR]:"fire-analytics",[ZR]:"fire-analytics-compat",[t2]:"fire-app-check",[e2]:"fire-app-check-compat",[n2]:"fire-auth",[i2]:"fire-auth-compat",[r2]:"fire-rtdb",[s2]:"fire-data-connect",[a2]:"fire-rtdb-compat",[o2]:"fire-fn",[l2]:"fire-fn-compat",[u2]:"fire-iid",[c2]:"fire-iid-compat",[h2]:"fire-fcm",[f2]:"fire-fcm-compat",[d2]:"fire-perf",[m2]:"fire-perf-compat",[p2]:"fire-rc",[g2]:"fire-rc-compat",[_2]:"fire-gcs",[y2]:"fire-gcs-compat",[v2]:"fire-fst",[T2]:"fire-fst-compat",[E2]:"fire-vertex","fire-js":"fire-js",[A2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new Map,w2=new Map,Xm=new Map;function u0(i,e){try{i.container.addComponent(e)}catch(t){ir.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Js(i){const e=i.name;if(Xm.has(e))return ir.debug(`There were multiple attempts to register component ${e}.`),!1;Xm.set(e,i);for(const t of wh.values())u0(t,i);for(const t of w2.values())u0(t,i);return!0}function Wh(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function An(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new yu("app","Firebase",R2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=S2;function hT(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:$m,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Gr.create("bad-app-name",{appName:String(o)});if(t||(t=aT()),!t)throw Gr.create("no-options");const u=wh.get(o);if(u){if(Zs(t,u.options)&&Zs(s,u.config))return u;throw Gr.create("duplicate-app",{appName:o})}const f=new MR(o);for(const p of Xm.values())f.addComponent(p);const m=new I2(t,s,f);return wh.set(o,m),m}function Np(i=$m){const e=wh.get(i);if(!e&&i===$m&&aT())return hT();if(!e)throw Gr.create("no-app",{appName:i});return e}function gi(i,e,t){var s;let o=(s=b2[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ir.warn(m.join(" "));return}Js(new Xr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2="firebase-heartbeat-database",D2=1,ru="firebase-heartbeat-store";let Pm=null;function fT(){return Pm||(Pm=KR(C2,D2,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ru)}catch(t){console.warn(t)}}}}).catch(i=>{throw Gr.create("idb-open",{originalErrorMessage:i.message})})),Pm}async function O2(i){try{const t=(await fT()).transaction(ru),s=await t.objectStore(ru).get(dT(i));return await t.done,s}catch(e){if(e instanceof bi)ir.warn(e.message);else{const t=Gr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ir.warn(t.message)}}}async function c0(i,e){try{const s=(await fT()).transaction(ru,"readwrite");await s.objectStore(ru).put(e,dT(i)),await s.done}catch(t){if(t instanceof bi)ir.warn(t.message);else{const s=Gr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ir.warn(s.message)}}}function dT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=1024,x2=30;class M2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new k2(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=h0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>x2){const f=V2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ir.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=h0(),{heartbeatsToSend:s,unsentEntries:o}=P2(this._heartbeatsCache.heartbeats),u=bh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return ir.warn(t),""}}}function h0(){return new Date().toISOString().substring(0,10)}function P2(i,e=N2){const t=[];let s=i.slice();for(const o of i){const u=t.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),f0(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),f0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class k2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TR()?AR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await O2(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return c0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return c0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function f0(i){return bh(JSON.stringify({version:2,heartbeats:i})).length}function V2(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(i){Js(new Xr("platform-logger",e=>new $R(e),"PRIVATE")),Js(new Xr("heartbeat",e=>new M2(e),"PRIVATE")),gi(Ym,l0,i),gi(Ym,l0,"esm2017"),gi("fire-js","")}U2("");function xp(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function mT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const L2=mT,pT=new yu("auth","Firebase",mT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new Dp("@firebase/auth");function z2(i,...e){Rh.logLevel<=ke.WARN&&Rh.warn(`Auth (${aa}): ${i}`,...e)}function dh(i,...e){Rh.logLevel<=ke.ERROR&&Rh.error(`Auth (${aa}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(i,...e){throw Mp(i,...e)}function _i(i,...e){return Mp(i,...e)}function gT(i,e,t){const s=Object.assign(Object.assign({},L2()),{[e]:t});return new yu("auth","Firebase",s).create(e,{appName:i.name})}function er(i){return gT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mp(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return pT.create(i,...e)}function Ae(i,e,...t){if(!i)throw Mp(e,...t)}function Wi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw dh(e),new Error(e)}function rr(i,e){i||Wi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function B2(){return d0()==="http:"||d0()==="https:"}function d0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(B2()||_R()||"connection"in navigator)?navigator.onLine:!0}function q2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,t){this.shortDelay=e,this.longDelay=t,rr(t>e,"Short delay should be less than long delay!"),this.isMobile=mR()||yR()}get(){return j2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(i,e){rr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],G2=new Eu(3e4,6e4);function rs(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function ss(i,e,t,s,o={}){return yT(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=vu(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return gR()||(g.referrerPolicy="no-referrer"),_T.fetch()(await vT(i,i.config.apiHost,t,m),g)})}async function yT(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},H2),e);try{const o=new Q2(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw nh(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw nh(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw nh(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw nh(i,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw gT(i,E,g);Yn(i,E)}}catch(o){if(o instanceof bi)throw o;Yn(i,"network-request-failed",{message:String(o)})}}async function Tu(i,e,t,s,o={}){const u=await ss(i,e,t,s,o);return"mfaPendingCredential"in u&&Yn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function vT(i,e,t,s){const o=`${e}${t}?${s}`,u=i,f=u.config.emulator?Pp(i.config,o):`${i.config.apiScheme}://${o}`;return F2.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function K2(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Q2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(_i(this.auth,"network-request-failed")),G2.get())})}}function nh(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=_i(i,e,s);return o.customData._tokenResponse=t,o}function m0(i){return i!==void 0&&i.enterprise!==void 0}class Y2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return K2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $2(i,e){return ss(i,"GET","/v2/recaptchaConfig",rs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X2(i,e){return ss(i,"POST","/v1/accounts:delete",e)}async function Ih(i,e){return ss(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function W2(i,e=!1){const t=dt(i),s=await t.getIdToken(e),o=kp(s);Ae(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Wl(km(o.auth_time)),issuedAtTime:Wl(km(o.iat)),expirationTime:Wl(km(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function km(i){return Number(i)*1e3}function kp(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return dh("JWT malformed, contained fewer than 3 sections"),null;try{const o=iT(t);return o?JSON.parse(o):(dh("Failed to decode base64 JWT payload"),null)}catch(o){return dh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function p0(i){const e=kp(i);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function su(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof bi&&Z2(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function Z2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wl(this.lastLoginAt),this.creationTime=Wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(i){var e;const t=i.auth,s=await i.getIdToken(),o=await su(i,Ih(t,{idToken:s}));Ae(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?ET(u.providerUserInfo):[],m=tI(i.providerData,f),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Zm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,S)}async function eI(i){const e=dt(i);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tI(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function ET(i){return i.map(e=>{var{providerId:t}=e,s=xp(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nI(i,e){const t=await yT(i,{},async()=>{const s=vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await vT(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",_T.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function iI(i,e){return ss(i,"POST","/v2/accounts:revokeToken",rs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):p0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=p0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await nI(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,f=new uo;return s&&(Ae(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ae(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ae(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(i,e){Ae(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Gn{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=xp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new J2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Zm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await su(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return W2(this,e)}reload(){return eI(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Gn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Ch(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(er(this.auth));const e=await this.getIdToken();return await su(this,X2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,f,m,p,g,E;const S=(s=t.displayName)!==null&&s!==void 0?s:void 0,b=(o=t.email)!==null&&o!==void 0?o:void 0,M=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,D=(f=t.photoURL)!==null&&f!==void 0?f:void 0,G=(m=t.tenantId)!==null&&m!==void 0?m:void 0,U=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,Y=(g=t.createdAt)!==null&&g!==void 0?g:void 0,ie=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:X,emailVerified:oe,isAnonymous:ce,providerData:_e,stsTokenManager:O}=t;Ae(X&&O,e,"internal-error");const w=uo.fromJSON(this.name,O);Ae(typeof X=="string",e,"internal-error"),Ur(S,e.name),Ur(b,e.name),Ae(typeof oe=="boolean",e,"internal-error"),Ae(typeof ce=="boolean",e,"internal-error"),Ur(M,e.name),Ur(D,e.name),Ur(G,e.name),Ur(U,e.name),Ur(Y,e.name),Ur(ie,e.name);const R=new Gn({uid:X,auth:e,email:b,emailVerified:oe,displayName:S,isAnonymous:ce,photoURL:D,phoneNumber:M,tenantId:G,stsTokenManager:w,createdAt:Y,lastLoginAt:ie});return _e&&Array.isArray(_e)&&(R.providerData=_e.map(x=>Object.assign({},x))),U&&(R._redirectEventId=U),R}static async _fromIdTokenResponse(e,t,s=!1){const o=new uo;o.updateFromServerResponse(t);const u=new Gn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ch(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ae(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?ET(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new uo;m.updateFromIdToken(s);const p=new Gn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Zm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0=new Map;function Zi(i){rr(i instanceof Function,"Expected a class definition");let e=g0.get(i);return e?(rr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,g0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}TT.type="NONE";const _0=TT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(i,e,t){return`firebase:${i}:${e}:${t}`}class co{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=mh(this.userKey,o.apiKey,u),this.fullPersistenceKey=mh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ih(this.auth,{idToken:e}).catch(()=>{});return t?Gn._fromGetAccountInfoResponse(this.auth,t,e):null}return Gn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new co(Zi(_0),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Zi(_0);const f=mh(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const E=await g._get(f);if(E){let S;if(typeof E=="string"){const b=await Ih(e,{idToken:E}).catch(()=>{});if(!b)break;S=await Gn._fromGetAccountInfoResponse(e,b,E)}else S=Gn._fromJSON(e,E);g!==u&&(m=S),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new co(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new co(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IT(e))return"Blackberry";if(CT(e))return"Webos";if(ST(e))return"Safari";if((e.includes("chrome/")||bT(e))&&!e.includes("edge/"))return"Chrome";if(RT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function AT(i=Jt()){return/firefox\//i.test(i)}function ST(i=Jt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bT(i=Jt()){return/crios\//i.test(i)}function wT(i=Jt()){return/iemobile/i.test(i)}function RT(i=Jt()){return/android/i.test(i)}function IT(i=Jt()){return/blackberry/i.test(i)}function CT(i=Jt()){return/webos/i.test(i)}function Vp(i=Jt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function rI(i=Jt()){var e;return Vp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function sI(){return vR()&&document.documentMode===10}function DT(i=Jt()){return Vp(i)||RT(i)||CT(i)||IT(i)||/windows phone/i.test(i)||wT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(i,e=[]){let t;switch(i){case"Browser":t=y0(Jt());break;case"Worker":t=`${y0(Jt())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${aa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oI(i,e={}){return ss(i,"GET","/v2/passwordPolicy",rs(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=6;class uI{constructor(e){var t,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=f.minPasswordLength)!==null&&t!==void 0?t:lI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new v0(this),this.idTokenSubscription=new v0(this),this.beforeStateQueue=new aI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Zi(t)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await co.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ih(this,{idToken:e}),s=await Gn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(An(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=q2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(An(this.app))return Promise.reject(er(this));const t=e?dt(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return An(this.app)?Promise.reject(er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oI(this),t=new uI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await iI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Zi(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await co.create(this,[Zi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(t);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&z2(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function oa(i){return dt(i)}class v0{constructor(e){this.auth=e,this.observer=null,this.addObserver=IR(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hI(i){Zh=i}function NT(i){return Zh.loadJS(i)}function fI(){return Zh.recaptchaEnterpriseScript}function dI(){return Zh.gapiScript}function mI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class pI{constructor(){this.enterprise=new gI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class gI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const _I="recaptcha-enterprise",xT="NO_RECAPTCHA";class yI{constructor(e){this.type=_I,this.auth=oa(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{$2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new Y2(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;m0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(xT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pI().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!t&&m0(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=fI();p.length!==0&&(p+=m),NT(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function E0(i,e,t,s=!1,o=!1){const u=new yI(i);let f;if(o)f=xT;else try{f=await u.verify(t)}catch{f=await u.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Jm(i,e,t,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await E0(i,e,t,t==="getOobCode");return s(i,f)}else return s(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await E0(i,e,t,t==="getOobCode");return s(i,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(i,e){const t=Wh(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Zs(u,e??{}))return o;Yn(o,"already-initialized")}return t.initialize({options:e})}function EI(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Zi);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function TI(i,e,t){const s=oa(i);Ae(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=MT(e),{host:f,port:m}=AI(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ae(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ae(Zs(g,s.config.emulator)&&Zs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,SI()}function MT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function AI(i){const e=MT(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:T0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:T0(f)}}}function T0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function SI(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Wi("not implemented")}_getIdTokenResponse(e){return Wi("not implemented")}_linkToIdToken(e,t){return Wi("not implemented")}_getReauthenticationResolver(e){return Wi("not implemented")}}async function bI(i,e){return ss(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI(i,e){return Tu(i,"POST","/v1/accounts:signInWithPassword",rs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RI(i,e){return Tu(i,"POST","/v1/accounts:signInWithEmailLink",rs(i,e))}async function II(i,e){return Tu(i,"POST","/v1/accounts:signInWithEmailLink",rs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends Up{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new au(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new au(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jm(e,t,"signInWithPassword",wI);case"emailLink":return RI(e,{email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jm(e,s,"signUpPassword",bI);case"emailLink":return II(e,{idToken:t,email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(i,e){return Tu(i,"POST","/v1/accounts:signInWithIdp",rs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="http://localhost";class ea extends Up{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Yn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=xp(t,["providerId","signInMethod"]);if(!s||!o)return null;const f=new ea(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const t=this.buildRequest();return ho(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,ho(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ho(e,t)}buildRequest(){const e={requestUri:CI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=vu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OI(i){const e=Gl(Kl(i)).link,t=e?Gl(Kl(e)).deep_link_id:null,s=Gl(Kl(i)).deep_link_id;return(s?Gl(Kl(s)).link:null)||s||t||e||i}class Lp{constructor(e){var t,s,o,u,f,m;const p=Gl(Kl(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,S=DI((o=p.mode)!==null&&o!==void 0?o:null);Ae(g&&E&&S,"argument-error"),this.apiKey=g,this.operation=S,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=OI(e);try{return new Lp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.providerId=bo.PROVIDER_ID}static credential(e,t){return au._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Lp.parseLink(t);return Ae(s,"argument-error"),au._fromEmailAndCode(e,s.code,s.tenantId)}}bo.PROVIDER_ID="password";bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends PT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Au{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ea._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return zr.credential(t,s)}catch{return null}}}zr.GOOGLE_SIGN_IN_METHOD="google.com";zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Au{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.GITHUB_SIGN_IN_METHOD="github.com";Br.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Au{constructor(){super("twitter.com")}static credential(e,t){return ea._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return jr.credential(t,s)}catch{return null}}}jr.TWITTER_SIGN_IN_METHOD="twitter.com";jr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NI(i,e){return Tu(i,"POST","/v1/accounts:signUp",rs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Gn._fromIdTokenResponse(e,s,o),f=A0(s);return new ta({user:u,providerId:f,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=A0(s);return new ta({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function A0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh extends bi{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Dh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Dh(e,t,s,o)}}function kT(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Dh._fromErrorAndOperation(i,u,e,s):u})}async function xI(i,e,t=!1){const s=await su(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return ta._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(i,e,t=!1){const{auth:s}=i;if(An(s.app))return Promise.reject(er(s));const o="reauthenticate";try{const u=await su(i,kT(s,o,e,i),t);Ae(u.idToken,s,"internal-error");const f=kp(u.idToken);Ae(f,s,"internal-error");const{sub:m}=f;return Ae(i.uid===m,s,"user-mismatch"),ta._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Yn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VT(i,e,t=!1){if(An(i.app))return Promise.reject(er(i));const s="signIn",o=await kT(i,s,e),u=await ta._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function PI(i,e){return VT(oa(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UT(i){const e=oa(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function kI(i,e,t){if(An(i.app))return Promise.reject(er(i));const s=oa(i),f=await Jm(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",NI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&UT(i),p}),m=await ta._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function VI(i,e,t){return An(i.app)?Promise.reject(er(i)):PI(dt(i),bo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&UT(i),s})}function UI(i,e,t,s){return dt(i).onIdTokenChanged(e,t,s)}function LI(i,e,t){return dt(i).beforeAuthStateChanged(e,t)}function zI(i,e,t,s){return dt(i).onAuthStateChanged(e,t,s)}const Oh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Oh,"1"),this.storage.removeItem(Oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=1e3,jI=10;class zT extends LT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!t&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);sI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,jI):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},BI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}zT.type="LOCAL";const qI=zT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT extends LT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}BT.type="SESSION";const jT=BT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Jh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(t.origin,u)),p=await HI(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=zp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const b=S;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(){return window}function GI(i){yi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(){return typeof yi().WorkerGlobalScope<"u"&&typeof yi().importScripts=="function"}async function KI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QI(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function YI(){return qT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="firebaseLocalStorageDb",$I=1,Nh="firebaseLocalStorage",FT="fbase_key";class Su{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ef(i,e){return i.transaction([Nh],e?"readwrite":"readonly").objectStore(Nh)}function XI(){const i=indexedDB.deleteDatabase(HT);return new Su(i).toPromise()}function ep(){const i=indexedDB.open(HT,$I);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Nh,{keyPath:FT})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Nh)?e(s):(s.close(),await XI(),e(await ep()))})})}async function S0(i,e,t){const s=ef(i,!0).put({[FT]:e,value:t});return new Su(s).toPromise()}async function WI(i,e){const t=ef(i,!1).get(e),s=await new Su(t).toPromise();return s===void 0?null:s.value}function b0(i,e){const t=ef(i,!0).delete(e);return new Su(t).toPromise()}const ZI=800,JI=3;class GT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ep(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>JI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jh._getInstance(YI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await KI(),!this.activeServiceWorker)return;this.sender=new FI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ep();return await S0(e,Oh,"1"),await b0(e,Oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>S0(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>WI(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>b0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=ef(o,!1).getAll();return new Su(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GT.type="LOCAL";const eC=GT;new Eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(i,e){return e?Zi(e):(Ae(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp extends Up{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ho(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function nC(i){return VT(i.auth,new Bp(i),i.bypassAuthState)}function iC(i){const{auth:e,user:t}=i;return Ae(t,e,"internal-error"),MI(t,new Bp(i),i.bypassAuthState)}async function rC(i){const{auth:e,user:t}=i;return Ae(t,e,"internal-error"),xI(t,new Bp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nC;case"linkViaPopup":case"linkViaRedirect":return rC;case"reauthViaPopup":case"reauthViaRedirect":return iC;default:Yn(this.auth,"internal-error")}}resolve(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=new Eu(2e3,1e4);class lo extends KT{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,lo.currentPopupAction&&lo.currentPopupAction.cancel(),lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){rr(this.filter.length===1,"Popup operations only handle one event");const e=zp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(_i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sC.get())};e()}}lo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="pendingRedirect",ph=new Map;class oC extends KT{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=ph.get(this.auth._key());if(!e){try{const s=await lC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lC(i,e){const t=hC(e),s=cC(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function uC(i,e){ph.set(i._key(),e)}function cC(i){return Zi(i._redirectPersistence)}function hC(i){return mh(aC,i.config.apiKey,i.name)}async function fC(i,e,t=!1){if(An(i.app))return Promise.reject(er(i));const s=oa(i),o=tC(s,e),f=await new oC(s,o,t).execute();return f&&!t&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=10*60*1e3;class mC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!QT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(_i(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dC&&this.cachedEventUids.clear(),this.cachedEventUids.has(w0(e))}saveEventToCache(e){this.cachedEventUids.add(w0(e)),this.lastProcessedEventTime=Date.now()}}function w0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function QT({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function pC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gC(i,e={}){return ss(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yC=/^https?/;async function vC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await gC(i);for(const t of e)try{if(EC(t))return}catch{}Yn(i,"unauthorized-domain")}function EC(i){const e=Wm(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&f.hostname===s}if(!yC.test(t))return!1;if(_C.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=new Eu(3e4,6e4);function R0(){const i=yi().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function AC(i){return new Promise((e,t)=>{var s,o,u;function f(){R0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{R0(),t(_i(i,"network-request-failed"))},timeout:TC.get()})}if(!((o=(s=yi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=yi().gapi)===null||u===void 0)&&u.load)f();else{const m=mI("iframefcb");return yi()[m]=()=>{gapi.load?f():t(_i(i,"network-request-failed"))},NT(`${dI()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw gh=null,e})}let gh=null;function SC(i){return gh=gh||AC(i),gh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=new Eu(5e3,15e3),wC="__/auth/iframe",RC="emulator/auth/iframe",IC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DC(i){const e=i.config;Ae(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Pp(e,RC):`https://${i.config.authDomain}/${wC}`,s={apiKey:e.apiKey,appName:i.name,v:aa},o=CC.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${vu(s).slice(1)}`}async function OC(i){const e=await SC(i),t=yi().gapi;return Ae(t,i,"internal-error"),e.open({where:document.body,url:DC(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=_i(i,"network-request-failed"),m=yi().setTimeout(()=>{u(f)},bC.get());function p(){yi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xC=500,MC=600,PC="_blank",kC="http://localhost";class I0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VC(i,e,t,s=xC,o=MC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},NC),{width:s.toString(),height:o.toString(),top:u,left:f}),g=Jt().toLowerCase();t&&(m=bT(g)?PC:t),AT(g)&&(e=e||kC,p.scrollbars="yes");const E=Object.entries(p).reduce((b,[M,D])=>`${b}${M}=${D},`,"");if(rI(g)&&m!=="_self")return UC(e||"",m),new I0(null);const S=window.open(e||"",m,E);Ae(S,i,"popup-blocked");try{S.focus()}catch{}return new I0(S)}function UC(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="__/auth/handler",zC="emulator/auth/handler",BC=encodeURIComponent("fac");async function C0(i,e,t,s,o,u){Ae(i.config.authDomain,i,"auth-domain-config-required"),Ae(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:aa,eventId:o};if(e instanceof PT){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",RR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof Au){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${BC}=${encodeURIComponent(p)}`:"";return`${jC(i)}?${vu(m).slice(1)}${g}`}function jC({config:i}){return i.emulator?Pp(i,zC):`https://${i.authDomain}/${LC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="webStorageSupport";class qC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jT,this._completeRedirectFn=fC,this._overrideRedirectResult=uC}async _openPopup(e,t,s,o){var u;rr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await C0(e,t,s,Wm(),o);return VC(e,f,zp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await C0(e,t,s,Wm(),o);return GI(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(rr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await OC(e),s=new mC(e);return t.register("authEvent",o=>(Ae(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Vm,{type:Vm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Vm];f!==void 0&&t(!!f),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=vC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return DT()||ST()||Vp()}}const HC=qC;var D0="@firebase/auth",O0="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KC(i){Js(new Xr("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ae(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OT(i)},g=new cI(s,o,u,p);return EI(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Js(new Xr("auth-internal",e=>{const t=oa(e.getProvider("auth").getImmediate());return(s=>new FC(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),gi(D0,O0,GC(i)),gi(D0,O0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=5*60,YC=oT("authIdTokenMaxAge")||QC;let N0=null;const $C=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>YC)return;const o=t==null?void 0:t.token;N0!==o&&(N0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function or(i=Np()){const e=Wh(i,"auth");if(e.isInitialized())return e.getImmediate();const t=vI(i,{popupRedirectResolver:HC,persistence:[eC,qI,jT]}),s=oT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=$C(u.toString());LI(t,f,()=>f(t.currentUser)),UI(t,m=>f(m))}}const o=rT("auth");return o&&TI(t,`http://${o}`),t}function XC(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}hI({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=_i("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",XC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KC("Browser");const YT=K.createContext();function tf(){return K.useContext(YT)}function WC({children:i}){const[e,t]=K.useState(null),[s,o]=K.useState("Home"),[u,f]=K.useState([]),[m,p]=K.useState("home"),g=()=>{t(null),o("Home"),p("home"),f([])},E=(G,U="Folder")=>{e&&f(Y=>[...Y,{id:e,name:s}]),t(G),o(U),p("folder")},S=()=>{if(u.length>0){const G=u[u.length-1];t(G.id),o(G.name),f(U=>U.slice(0,-1))}else g()},b=()=>{t(null),o("Pictures"),p("pictures"),f([])},M=()=>{t(null),o("Shared Files"),p("shared"),f([])},D=()=>{t(null),o("Deleted Files"),p("deleted"),f([])};return $.jsx(YT.Provider,{value:{currentFolderId:e,currentFolderName:s,currentView:m,goHome:g,openFolder:E,openParentFolder:S,openPictures:b,openSharedFiles:M,openDeletedFiles:D},children:i})}var $T={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},x0=Xs.createContext&&Xs.createContext($T),ZC=["attr","size","title"];function JC(i,e){if(i==null)return{};var t=eD(i,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(t[s]=i[s])}return t}function eD(i,e){if(i==null)return{};var t={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function xh(){return xh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},xh.apply(this,arguments)}function M0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),t.push.apply(t,s)}return t}function Mh(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?M0(Object(t),!0).forEach(function(s){tD(i,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):M0(Object(t)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(t,s))})}return i}function tD(i,e,t){return e=nD(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function nD(i){var e=iD(i,"string");return typeof e=="symbol"?e:e+""}function iD(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var s=t.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function XT(i){return i&&i.map((e,t)=>Xs.createElement(e.tag,Mh({key:t},e.attr),XT(e.child)))}function wn(i){return e=>Xs.createElement(rD,xh({attr:Mh({},i.attr)},e),XT(i.child))}function rD(i){var e=t=>{var{attr:s,size:o,title:u}=i,f=JC(i,ZC),m=o||t.size||"1em",p;return t.className&&(p=t.className),i.className&&(p=(p?p+" ":"")+i.className),Xs.createElement("svg",xh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,f,{className:p,style:Mh(Mh({color:i.color||t.color},t.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&Xs.createElement("title",null,u),i.children)};return x0!==void 0?Xs.createElement(x0.Consumer,null,t=>e(t)):e($T)}function sD(i){return wn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-200 0H360v-72h304v72z"},child:[]}]})(i)}function aD(i){return wn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z"},child:[]}]})(i)}function oD(i){return wn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 0 0-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM632 577c0 3.8-3.4 7-7.5 7H540v84.9c0 3.9-3.2 7.1-7 7.1h-42c-3.8 0-7-3.2-7-7.1V584h-84.5c-4.1 0-7.5-3.2-7.5-7v-42c0-3.8 3.4-7 7.5-7H484v-84.9c0-3.9 3.2-7.1 7-7.1h42c3.8 0 7 3.2 7 7.1V528h84.5c4.1 0 7.5 3.2 7.5 7v42z"},child:[]}]})(i)}function lD(i){return wn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 0 0-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32z"},child:[]}]})(i)}function uD(i){return wn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M946.5 505L534.6 93.4a31.93 31.93 0 0 0-45.2 0L77.5 505c-12 12-18.8 28.3-18.8 45.3 0 35.3 28.7 64 64 64h43.4V908c0 17.7 14.3 32 32 32H448V716h112v224h265.9c17.7 0 32-14.3 32-32V614.3h43.4c17 0 33.3-6.7 45.3-18.8 24.9-25 24.9-65.5-.1-90.5z"},child:[]}]})(i)}function cD(i){return wn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zM338 304c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm513.9 437.1a8.11 8.11 0 0 1-5.2 1.9H177.2c-4.4 0-8-3.6-8-8 0-1.9.7-3.7 1.9-5.2l170.3-202c2.8-3.4 7.9-3.8 11.3-1 .3.3.7.6 1 1l99.4 118 158.1-187.5c2.8-3.4 7.9-3.8 11.3-1 .3.3.7.6 1 1l229.6 271.6c2.6 3.3 2.2 8.4-1.2 11.2z"},child:[]}]})(i)}function hD(i){return wn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 0 0 0 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"},child:[]}]})(i)}function fD(i){return wn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M505.7 661a8 8 0 0 0 12.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"},child:[]}]})(i)}function dD(i){return wn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M574 665.4a8.03 8.03 0 0 0-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 0 0-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 0 0 0 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 0 0 0 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 0 0-11.3 0L372.3 598.7a8.03 8.03 0 0 0 0 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"},child:[]}]})(i)}function mD(i){return wn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 0 1-112.7 75.9A352.8 352.8 0 0 1 512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 0 1-112.7-75.9 353.28 353.28 0 0 1-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 0 0 0-12.6z"},child:[]}]})(i)}function pD(i){return wn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"},child:[]}]})(i)}function gD(i){return wn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 0 0 0-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"},child:[]}]})(i)}function _D(i){return wn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 0 0-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"},child:[]}]})(i)}function yD(){const{goHome:i,openPictures:e,openSharedFiles:t,openDeletedFiles:s}=tf();return $.jsxs("div",{className:"sidebar",style:{padding:"1.5rem 1rem"},children:[$.jsx("h2",{onClick:i,style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",marginBottom:"2rem"},children:$.jsx("span",{children:"MyDropbox"})}),$.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0},children:[$.jsxs("li",{onClick:i,style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",marginBottom:"1.5rem",fontSize:"16px"},children:[$.jsx(uD,{size:20})," Home"]}),$.jsxs("li",{onClick:e,style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",marginBottom:"1.5rem",fontSize:"16px"},children:[$.jsx(cD,{size:20})," Pictures"]}),$.jsxs("li",{onClick:t,style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"5px",marginBottom:"1.5rem",fontSize:"16px"},children:[$.jsx(gD,{size:20})," Shared Files"]}),$.jsxs("li",{onClick:s,style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontSize:"16px"},children:[$.jsx(sD,{size:20})," Trash"]})]})]})}var vD="firebase",ED="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gi(vD,ED,"app");var P0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Kr,WT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,w){function R(){}R.prototype=w.prototype,O.D=w.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(x,k,V){for(var C=Array(arguments.length-2),se=2;se<arguments.length;se++)C[se-2]=arguments[se];return w.prototype[k].apply(x,C)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,w,R){R||(R=0);var x=Array(16);if(typeof w=="string")for(var k=0;16>k;++k)x[k]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(k=0;16>k;++k)x[k]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=O.g[0],R=O.g[1],k=O.g[2];var V=O.g[3],C=w+(V^R&(k^V))+x[0]+3614090360&4294967295;w=R+(C<<7&4294967295|C>>>25),C=V+(k^w&(R^k))+x[1]+3905402710&4294967295,V=w+(C<<12&4294967295|C>>>20),C=k+(R^V&(w^R))+x[2]+606105819&4294967295,k=V+(C<<17&4294967295|C>>>15),C=R+(w^k&(V^w))+x[3]+3250441966&4294967295,R=k+(C<<22&4294967295|C>>>10),C=w+(V^R&(k^V))+x[4]+4118548399&4294967295,w=R+(C<<7&4294967295|C>>>25),C=V+(k^w&(R^k))+x[5]+1200080426&4294967295,V=w+(C<<12&4294967295|C>>>20),C=k+(R^V&(w^R))+x[6]+2821735955&4294967295,k=V+(C<<17&4294967295|C>>>15),C=R+(w^k&(V^w))+x[7]+4249261313&4294967295,R=k+(C<<22&4294967295|C>>>10),C=w+(V^R&(k^V))+x[8]+1770035416&4294967295,w=R+(C<<7&4294967295|C>>>25),C=V+(k^w&(R^k))+x[9]+2336552879&4294967295,V=w+(C<<12&4294967295|C>>>20),C=k+(R^V&(w^R))+x[10]+4294925233&4294967295,k=V+(C<<17&4294967295|C>>>15),C=R+(w^k&(V^w))+x[11]+2304563134&4294967295,R=k+(C<<22&4294967295|C>>>10),C=w+(V^R&(k^V))+x[12]+1804603682&4294967295,w=R+(C<<7&4294967295|C>>>25),C=V+(k^w&(R^k))+x[13]+4254626195&4294967295,V=w+(C<<12&4294967295|C>>>20),C=k+(R^V&(w^R))+x[14]+2792965006&4294967295,k=V+(C<<17&4294967295|C>>>15),C=R+(w^k&(V^w))+x[15]+1236535329&4294967295,R=k+(C<<22&4294967295|C>>>10),C=w+(k^V&(R^k))+x[1]+4129170786&4294967295,w=R+(C<<5&4294967295|C>>>27),C=V+(R^k&(w^R))+x[6]+3225465664&4294967295,V=w+(C<<9&4294967295|C>>>23),C=k+(w^R&(V^w))+x[11]+643717713&4294967295,k=V+(C<<14&4294967295|C>>>18),C=R+(V^w&(k^V))+x[0]+3921069994&4294967295,R=k+(C<<20&4294967295|C>>>12),C=w+(k^V&(R^k))+x[5]+3593408605&4294967295,w=R+(C<<5&4294967295|C>>>27),C=V+(R^k&(w^R))+x[10]+38016083&4294967295,V=w+(C<<9&4294967295|C>>>23),C=k+(w^R&(V^w))+x[15]+3634488961&4294967295,k=V+(C<<14&4294967295|C>>>18),C=R+(V^w&(k^V))+x[4]+3889429448&4294967295,R=k+(C<<20&4294967295|C>>>12),C=w+(k^V&(R^k))+x[9]+568446438&4294967295,w=R+(C<<5&4294967295|C>>>27),C=V+(R^k&(w^R))+x[14]+3275163606&4294967295,V=w+(C<<9&4294967295|C>>>23),C=k+(w^R&(V^w))+x[3]+4107603335&4294967295,k=V+(C<<14&4294967295|C>>>18),C=R+(V^w&(k^V))+x[8]+1163531501&4294967295,R=k+(C<<20&4294967295|C>>>12),C=w+(k^V&(R^k))+x[13]+2850285829&4294967295,w=R+(C<<5&4294967295|C>>>27),C=V+(R^k&(w^R))+x[2]+4243563512&4294967295,V=w+(C<<9&4294967295|C>>>23),C=k+(w^R&(V^w))+x[7]+1735328473&4294967295,k=V+(C<<14&4294967295|C>>>18),C=R+(V^w&(k^V))+x[12]+2368359562&4294967295,R=k+(C<<20&4294967295|C>>>12),C=w+(R^k^V)+x[5]+4294588738&4294967295,w=R+(C<<4&4294967295|C>>>28),C=V+(w^R^k)+x[8]+2272392833&4294967295,V=w+(C<<11&4294967295|C>>>21),C=k+(V^w^R)+x[11]+1839030562&4294967295,k=V+(C<<16&4294967295|C>>>16),C=R+(k^V^w)+x[14]+4259657740&4294967295,R=k+(C<<23&4294967295|C>>>9),C=w+(R^k^V)+x[1]+2763975236&4294967295,w=R+(C<<4&4294967295|C>>>28),C=V+(w^R^k)+x[4]+1272893353&4294967295,V=w+(C<<11&4294967295|C>>>21),C=k+(V^w^R)+x[7]+4139469664&4294967295,k=V+(C<<16&4294967295|C>>>16),C=R+(k^V^w)+x[10]+3200236656&4294967295,R=k+(C<<23&4294967295|C>>>9),C=w+(R^k^V)+x[13]+681279174&4294967295,w=R+(C<<4&4294967295|C>>>28),C=V+(w^R^k)+x[0]+3936430074&4294967295,V=w+(C<<11&4294967295|C>>>21),C=k+(V^w^R)+x[3]+3572445317&4294967295,k=V+(C<<16&4294967295|C>>>16),C=R+(k^V^w)+x[6]+76029189&4294967295,R=k+(C<<23&4294967295|C>>>9),C=w+(R^k^V)+x[9]+3654602809&4294967295,w=R+(C<<4&4294967295|C>>>28),C=V+(w^R^k)+x[12]+3873151461&4294967295,V=w+(C<<11&4294967295|C>>>21),C=k+(V^w^R)+x[15]+530742520&4294967295,k=V+(C<<16&4294967295|C>>>16),C=R+(k^V^w)+x[2]+3299628645&4294967295,R=k+(C<<23&4294967295|C>>>9),C=w+(k^(R|~V))+x[0]+4096336452&4294967295,w=R+(C<<6&4294967295|C>>>26),C=V+(R^(w|~k))+x[7]+1126891415&4294967295,V=w+(C<<10&4294967295|C>>>22),C=k+(w^(V|~R))+x[14]+2878612391&4294967295,k=V+(C<<15&4294967295|C>>>17),C=R+(V^(k|~w))+x[5]+4237533241&4294967295,R=k+(C<<21&4294967295|C>>>11),C=w+(k^(R|~V))+x[12]+1700485571&4294967295,w=R+(C<<6&4294967295|C>>>26),C=V+(R^(w|~k))+x[3]+2399980690&4294967295,V=w+(C<<10&4294967295|C>>>22),C=k+(w^(V|~R))+x[10]+4293915773&4294967295,k=V+(C<<15&4294967295|C>>>17),C=R+(V^(k|~w))+x[1]+2240044497&4294967295,R=k+(C<<21&4294967295|C>>>11),C=w+(k^(R|~V))+x[8]+1873313359&4294967295,w=R+(C<<6&4294967295|C>>>26),C=V+(R^(w|~k))+x[15]+4264355552&4294967295,V=w+(C<<10&4294967295|C>>>22),C=k+(w^(V|~R))+x[6]+2734768916&4294967295,k=V+(C<<15&4294967295|C>>>17),C=R+(V^(k|~w))+x[13]+1309151649&4294967295,R=k+(C<<21&4294967295|C>>>11),C=w+(k^(R|~V))+x[4]+4149444226&4294967295,w=R+(C<<6&4294967295|C>>>26),C=V+(R^(w|~k))+x[11]+3174756917&4294967295,V=w+(C<<10&4294967295|C>>>22),C=k+(w^(V|~R))+x[2]+718787259&4294967295,k=V+(C<<15&4294967295|C>>>17),C=R+(V^(k|~w))+x[9]+3951481745&4294967295,O.g[0]=O.g[0]+w&4294967295,O.g[1]=O.g[1]+(k+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+k&4294967295,O.g[3]=O.g[3]+V&4294967295}s.prototype.u=function(O,w){w===void 0&&(w=O.length);for(var R=w-this.blockSize,x=this.B,k=this.h,V=0;V<w;){if(k==0)for(;V<=R;)o(this,O,V),V+=this.blockSize;if(typeof O=="string"){for(;V<w;)if(x[k++]=O.charCodeAt(V++),k==this.blockSize){o(this,x),k=0;break}}else for(;V<w;)if(x[k++]=O[V++],k==this.blockSize){o(this,x),k=0;break}}this.h=k,this.o+=w},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var w=1;w<O.length-8;++w)O[w]=0;var R=8*this.o;for(w=O.length-8;w<O.length;++w)O[w]=R&255,R/=256;for(this.u(O),O=Array(16),w=R=0;4>w;++w)for(var x=0;32>x;x+=8)O[R++]=this.g[w]>>>x&255;return O};function u(O,w){var R=m;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=w(O)}function f(O,w){this.h=w;for(var R=[],x=!0,k=O.length-1;0<=k;k--){var V=O[k]|0;x&&V==w||(R[k]=V,x=!1)}this.g=R}var m={};function p(O){return-128<=O&&128>O?u(O,function(w){return new f([w|0],0>w?-1:0)}):new f([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return S;if(0>O)return U(g(-O));for(var w=[],R=1,x=0;O>=R;x++)w[x]=O/R|0,R*=4294967296;return new f(w,0)}function E(O,w){if(O.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(O.charAt(0)=="-")return U(E(O.substring(1),w));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(w,8)),x=S,k=0;k<O.length;k+=8){var V=Math.min(8,O.length-k),C=parseInt(O.substring(k,k+V),w);8>V?(V=g(Math.pow(w,V)),x=x.j(V).add(g(C))):(x=x.j(R),x=x.add(g(C)))}return x}var S=p(0),b=p(1),M=p(16777216);i=f.prototype,i.m=function(){if(G(this))return-U(this).m();for(var O=0,w=1,R=0;R<this.g.length;R++){var x=this.i(R);O+=(0<=x?x:4294967296+x)*w,w*=4294967296}return O},i.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(D(this))return"0";if(G(this))return"-"+U(this).toString(O);for(var w=g(Math.pow(O,6)),R=this,x="";;){var k=oe(R,w).g;R=Y(R,k.j(w));var V=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=k,D(R))return V+x;for(;6>V.length;)V="0"+V;x=V+x}},i.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function D(O){if(O.h!=0)return!1;for(var w=0;w<O.g.length;w++)if(O.g[w]!=0)return!1;return!0}function G(O){return O.h==-1}i.l=function(O){return O=Y(this,O),G(O)?-1:D(O)?0:1};function U(O){for(var w=O.g.length,R=[],x=0;x<w;x++)R[x]=~O.g[x];return new f(R,~O.h).add(b)}i.abs=function(){return G(this)?U(this):this},i.add=function(O){for(var w=Math.max(this.g.length,O.g.length),R=[],x=0,k=0;k<=w;k++){var V=x+(this.i(k)&65535)+(O.i(k)&65535),C=(V>>>16)+(this.i(k)>>>16)+(O.i(k)>>>16);x=C>>>16,V&=65535,C&=65535,R[k]=C<<16|V}return new f(R,R[R.length-1]&-2147483648?-1:0)};function Y(O,w){return O.add(U(w))}i.j=function(O){if(D(this)||D(O))return S;if(G(this))return G(O)?U(this).j(U(O)):U(U(this).j(O));if(G(O))return U(this.j(U(O)));if(0>this.l(M)&&0>O.l(M))return g(this.m()*O.m());for(var w=this.g.length+O.g.length,R=[],x=0;x<2*w;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var k=0;k<O.g.length;k++){var V=this.i(x)>>>16,C=this.i(x)&65535,se=O.i(k)>>>16,pe=O.i(k)&65535;R[2*x+2*k]+=C*pe,ie(R,2*x+2*k),R[2*x+2*k+1]+=V*pe,ie(R,2*x+2*k+1),R[2*x+2*k+1]+=C*se,ie(R,2*x+2*k+1),R[2*x+2*k+2]+=V*se,ie(R,2*x+2*k+2)}for(x=0;x<w;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=w;x<2*w;x++)R[x]=0;return new f(R,0)};function ie(O,w){for(;(O[w]&65535)!=O[w];)O[w+1]+=O[w]>>>16,O[w]&=65535,w++}function X(O,w){this.g=O,this.h=w}function oe(O,w){if(D(w))throw Error("division by zero");if(D(O))return new X(S,S);if(G(O))return w=oe(U(O),w),new X(U(w.g),U(w.h));if(G(w))return w=oe(O,U(w)),new X(U(w.g),w.h);if(30<O.g.length){if(G(O)||G(w))throw Error("slowDivide_ only works with positive integers.");for(var R=b,x=w;0>=x.l(O);)R=ce(R),x=ce(x);var k=_e(R,1),V=_e(x,1);for(x=_e(x,2),R=_e(R,2);!D(x);){var C=V.add(x);0>=C.l(O)&&(k=k.add(R),V=C),x=_e(x,1),R=_e(R,1)}return w=Y(O,k.j(w)),new X(k,w)}for(k=S;0<=O.l(w);){for(R=Math.max(1,Math.floor(O.m()/w.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),V=g(R),C=V.j(w);G(C)||0<C.l(O);)R-=x,V=g(R),C=V.j(w);D(V)&&(V=b),k=k.add(V),O=Y(O,C)}return new X(k,O)}i.A=function(O){return oe(this,O).h},i.and=function(O){for(var w=Math.max(this.g.length,O.g.length),R=[],x=0;x<w;x++)R[x]=this.i(x)&O.i(x);return new f(R,this.h&O.h)},i.or=function(O){for(var w=Math.max(this.g.length,O.g.length),R=[],x=0;x<w;x++)R[x]=this.i(x)|O.i(x);return new f(R,this.h|O.h)},i.xor=function(O){for(var w=Math.max(this.g.length,O.g.length),R=[],x=0;x<w;x++)R[x]=this.i(x)^O.i(x);return new f(R,this.h^O.h)};function ce(O){for(var w=O.g.length+1,R=[],x=0;x<w;x++)R[x]=O.i(x)<<1|O.i(x-1)>>>31;return new f(R,O.h)}function _e(O,w){var R=w>>5;w%=32;for(var x=O.g.length-R,k=[],V=0;V<x;V++)k[V]=0<w?O.i(V+R)>>>w|O.i(V+R+1)<<32-w:O.i(V+R);return new f(k,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,WT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Kr=f}).apply(typeof P0<"u"?P0:typeof self<"u"?self:typeof window<"u"?window:{});var ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ZT,Ql,JT,_h,tp,eA,tA,nA;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,_,y){return c==Array.prototype||c==Object.prototype||(c[_]=y.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ih=="object"&&ih];for(var _=0;_<c.length;++_){var y=c[_];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=t(this);function o(c,_){if(_)e:{var y=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in y))break e;y=y[z]}c=c[c.length-1],A=y[c],_=_(A),_!=A&&_!=null&&e(y,c,{configurable:!0,writable:!0,value:_})}}function u(c,_){c instanceof String&&(c+="");var y=0,A=!1,z={next:function(){if(!A&&y<c.length){var Q=y++;return{value:_(Q,c[Q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(_,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var _=typeof c;return _=_!="object"?_:c?Array.isArray(c)?"array":_:"null",_=="array"||_=="object"&&typeof c.length=="number"}function g(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function E(c,_,y){return c.call.apply(c.bind,arguments)}function S(c,_,y){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),c.apply(_,z)}}return function(){return c.apply(_,arguments)}}function b(c,_,y){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,b.apply(null,arguments)}function M(c,_){var y=Array.prototype.slice.call(arguments,1);return function(){var A=y.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function D(c,_){function y(){}y.prototype=_.prototype,c.aa=_.prototype,c.prototype=new y,c.prototype.constructor=c,c.Qb=function(A,z,Q){for(var ae=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)ae[Ue-2]=arguments[Ue];return _.prototype[z].apply(A,ae)}}function G(c){const _=c.length;if(0<_){const y=Array(_);for(let A=0;A<_;A++)y[A]=c[A];return y}return[]}function U(c,_){for(let y=1;y<arguments.length;y++){const A=arguments[y];if(p(A)){const z=c.length||0,Q=A.length||0;c.length=z+Q;for(let ae=0;ae<Q;ae++)c[z+ae]=A[ae]}else c.push(A)}}class Y{constructor(_,y){this.i=_,this.j=y,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function ie(c){return/^[\s\xa0]*$/.test(c)}function X(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function oe(c){return oe[" "](c),c}oe[" "]=function(){};var ce=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function _e(c,_,y){for(const A in c)_.call(y,c[A],A,c)}function O(c,_){for(const y in c)_.call(void 0,c[y],y,c)}function w(c){const _={};for(const y in c)_[y]=c[y];return _}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,_){let y,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(y in A)c[y]=A[y];for(let Q=0;Q<R.length;Q++)y=R[Q],Object.prototype.hasOwnProperty.call(A,y)&&(c[y]=A[y])}}function k(c){var _=1;c=c.split(":");const y=[];for(;0<_&&c.length;)y.push(c.shift()),_--;return c.length&&y.push(c.join(":")),y}function V(c){m.setTimeout(()=>{throw c},0)}function C(){var c=qe;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class se{constructor(){this.h=this.g=null}add(_,y){const A=pe.get();A.set(_,y),this.h?this.h.next=A:this.g=A,this.h=A}}var pe=new Y(()=>new F,c=>c.reset());class F{constructor(){this.next=this.g=this.h=null}set(_,y){this.h=_,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let le,me=!1,qe=new se,N=()=>{const c=m.Promise.resolve(void 0);le=()=>{c.then(ne)}};var ne=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(y){V(y)}var _=pe;_.j(c),100>_.h&&(_.h++,c.next=_.g,_.g=c)}me=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const y=()=>{};m.addEventListener("test",y,_),m.removeEventListener("test",y,_)}catch{}return c}();function Ne(c,_){if(re.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var y=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget){if(ce){e:{try{oe(_.nodeName);var z=!0;break e}catch{}z=!1}z||(_=null)}}else y=="mouseover"?_=c.fromElement:y=="mouseout"&&(_=c.toElement);this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ne.aa.h.call(this)}}D(Ne,re);var we={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Nt="closure_listenable_"+(1e6*Math.random()|0),et=0;function Wn(c,_,y,A,z){this.listener=c,this.proxy=null,this.src=_,this.type=y,this.capture=!!A,this.ha=z,this.key=++et,this.da=this.fa=!1}function lr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function wi(c){this.src=c,this.g={},this.h=0}wi.prototype.add=function(c,_,y,A,z){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var ae=cs(c,_,A,z);return-1<ae?(_=c[ae],y||(_.fa=!1)):(_=new Wn(_,this.src,Q,!!A,z),_.fa=y,c.push(_)),_};function us(c,_){var y=_.type;if(y in c.g){var A=c.g[y],z=Array.prototype.indexOf.call(A,_,void 0),Q;(Q=0<=z)&&Array.prototype.splice.call(A,z,1),Q&&(lr(_),c.g[y].length==0&&(delete c.g[y],c.h--))}}function cs(c,_,y,A){for(var z=0;z<c.length;++z){var Q=c[z];if(!Q.da&&Q.listener==_&&Q.capture==!!y&&Q.ha==A)return z}return-1}var hs="closure_lm_"+(1e6*Math.random()|0),No={};function Nu(c,_,y,A,z){if(Array.isArray(_)){for(var Q=0;Q<_.length;Q++)Nu(c,_[Q],y,A,z);return null}return y=xu(y),c&&c[Nt]?c.K(_,y,g(A)?!!A.capture:!1,z):Rn(c,_,y,!1,A,z)}function Rn(c,_,y,A,z,Q){if(!_)throw Error("Invalid event type");var ae=g(z)?!!z.capture:!!z,Ue=ha(c);if(Ue||(c[hs]=Ue=new wi(c)),y=Ue.add(_,y,A,ae,Q),y.proxy)return y;if(A=Af(),y.proxy=A,A.src=c,A.listener=y,c.addEventListener)ve||(z=ae),z===void 0&&(z=!1),c.addEventListener(_.toString(),A,z);else if(c.attachEvent)c.attachEvent(fs(_.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Af(){function c(y){return _.call(c.src,c.listener,y)}const _=Sf;return c}function xo(c,_,y,A,z){if(Array.isArray(_))for(var Q=0;Q<_.length;Q++)xo(c,_[Q],y,A,z);else A=g(A)?!!A.capture:!!A,y=xu(y),c&&c[Nt]?(c=c.i,_=String(_).toString(),_ in c.g&&(Q=c.g[_],y=cs(Q,y,A,z),-1<y&&(lr(Q[y]),Array.prototype.splice.call(Q,y,1),Q.length==0&&(delete c.g[_],c.h--)))):c&&(c=ha(c))&&(_=c.g[_.toString()],c=-1,_&&(c=cs(_,y,A,z)),(y=-1<c?_[c]:null)&&ca(y))}function ca(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[Nt])us(_.i,c);else{var y=c.type,A=c.proxy;_.removeEventListener?_.removeEventListener(y,A,c.capture):_.detachEvent?_.detachEvent(fs(y),A):_.addListener&&_.removeListener&&_.removeListener(A),(y=ha(_))?(us(y,c),y.h==0&&(y.src=null,_[hs]=null)):lr(c)}}}function fs(c){return c in No?No[c]:No[c]="on"+c}function Sf(c,_){if(c.da)c=!0;else{_=new Ne(_,this);var y=c.listener,A=c.ha||c.src;c.fa&&ca(c),c=y.call(A,_)}return c}function ha(c){return c=c[hs],c instanceof wi?c:null}var Mo="__closure_events_fn_"+(1e9*Math.random()>>>0);function xu(c){return typeof c=="function"?c:(c[Mo]||(c[Mo]=function(_){return c.handleEvent(_)}),c[Mo])}function ct(){ue.call(this),this.i=new wi(this),this.M=this,this.F=null}D(ct,ue),ct.prototype[Nt]=!0,ct.prototype.removeEventListener=function(c,_,y,A){xo(this,c,_,y,A)};function Ke(c,_){var y,A=c.F;if(A)for(y=[];A;A=A.F)y.push(A);if(c=c.M,A=_.type||_,typeof _=="string")_=new re(_,c);else if(_ instanceof re)_.target=_.target||c;else{var z=_;_=new re(A,c),x(_,z)}if(z=!0,y)for(var Q=y.length-1;0<=Q;Q--){var ae=_.g=y[Q];z=dn(ae,A,!0,_)&&z}if(ae=_.g=c,z=dn(ae,A,!0,_)&&z,z=dn(ae,A,!1,_)&&z,y)for(Q=0;Q<y.length;Q++)ae=_.g=y[Q],z=dn(ae,A,!1,_)&&z}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var c=this.i,_;for(_ in c.g){for(var y=c.g[_],A=0;A<y.length;A++)lr(y[A]);delete c.g[_],c.h--}}this.F=null},ct.prototype.K=function(c,_,y,A){return this.i.add(String(c),_,!1,y,A)},ct.prototype.L=function(c,_,y,A){return this.i.add(String(c),_,!0,y,A)};function dn(c,_,y,A){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();for(var z=!0,Q=0;Q<_.length;++Q){var ae=_[Q];if(ae&&!ae.da&&ae.capture==y){var Ue=ae.listener,wt=ae.ha||ae.src;ae.fa&&us(c.i,ae),z=Ue.call(wt,A)!==!1&&z}}return z&&!A.defaultPrevented}function Qt(c,_,y){if(typeof c=="function")y&&(c=b(c,y));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:m.setTimeout(c,_||0)}function Mu(c){c.g=Qt(()=>{c.g=null,c.i&&(c.i=!1,Mu(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class bf extends ue{constructor(_,y){super(),this.m=_,this.l=y,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Mu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ds(c){ue.call(this),this.h=c,this.g={}}D(ds,ue);var ms=[];function ps(c){_e(c.g,function(_,y){this.g.hasOwnProperty(y)&&ca(_)},c),c.g={}}ds.prototype.N=function(){ds.aa.N.call(this),ps(this)},ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=m.JSON.stringify,fa=m.JSON.parse,gs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Po(){}Po.prototype.h=null;function ko(c){return c.h||(c.h=c.i())}function Vo(){}var Ri={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ii(){re.call(this,"d")}D(Ii,re);function Uo(){re.call(this,"c")}D(Uo,re);var Zn={},Lo=null;function ur(){return Lo=Lo||new ct}Zn.La="serverreachability";function da(c){re.call(this,Zn.La,c)}D(da,re);function cr(c){const _=ur();Ke(_,new da(_))}Zn.STAT_EVENT="statevent";function Pu(c,_){re.call(this,Zn.STAT_EVENT,c),this.stat=_}D(Pu,re);function rt(c){const _=ur();Ke(_,new Pu(_,c))}Zn.Ma="timingevent";function bt(c,_){re.call(this,Zn.Ma,c),this.size=_}D(bt,re);function yt(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},_)}function In(){this.g=!0}In.prototype.xa=function(){this.g=!1};function zo(c,_,y,A,z,Q){c.info(function(){if(c.g)if(Q)for(var ae="",Ue=Q.split("&"),wt=0;wt<Ue.length;wt++){var Le=Ue[wt].split("=");if(1<Le.length){var Mt=Le[0];Le=Le[1];var Rt=Mt.split("_");ae=2<=Rt.length&&Rt[1]=="type"?ae+(Mt+"="+Le+"&"):ae+(Mt+"=redacted&")}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+_+`
`+y+`
`+ae})}function wf(c,_,y,A,z,Q,ae){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+_+`
`+y+`
`+Q+" "+ae})}function hr(c,_,y,A){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+_s(c,y)+(A?" "+A:"")})}function ku(c,_){c.info(function(){return"TIMEOUT: "+_})}In.prototype.info=function(){};function _s(c,_){if(!c.g)return _;if(!_)return null;try{var y=JSON.parse(_);if(y){for(c=0;c<y.length;c++)if(Array.isArray(y[c])){var A=y[c];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var Q=z[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ae=1;ae<z.length;ae++)z[ae]=""}}}}return zn(y)}catch{return _}}var fr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ci={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jn;function ei(){}D(ei,Po),ei.prototype.g=function(){return new XMLHttpRequest},ei.prototype.i=function(){return{}},Jn=new ei;function en(c,_,y,A){this.j=c,this.i=_,this.l=y,this.R=A||1,this.U=new ds(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mt}function mt(){this.i=null,this.g="",this.h=!1}var Bo={},ma={};function Bn(c,_,y){c.L=1,c.v=As(mn(_)),c.m=y,c.P=!0,Di(c,null)}function Di(c,_){c.F=Date.now(),ys(c),c.A=mn(c.v);var y=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Ko(y.i,"t",A),c.C=0,y=c.j.J,c.h=new mt,c.g=Wu(c.j,y?_:null,!c.m),0<c.O&&(c.M=new bf(b(c.Y,c,c.g),c.O)),_=c.U,y=c.g,A=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(ms[0]=z.toString()),z=ms);for(var Q=0;Q<z.length;Q++){var ae=Nu(y,z[Q],A||_.handleEvent,!1,_.h||_);if(!ae)break;_.g[ae.key]=ae}_=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,_)):(c.u="GET",c.g.ea(c.A,c.u,null,_)),cr(),zo(c.i,c.u,c.A,c.l,c.R,c.m)}en.prototype.ca=function(c){c=c.target;const _=this.M;_&&Nn(c)==3?_.j():this.Y(c)},en.prototype.Y=function(c){try{if(c==this.g)e:{const Rt=Nn(this.g);var _=this.g.Ba();const Ui=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||Hu(this.g)))){this.J||Rt!=4||_==7||(_==8||0>=Ui?cr(3):cr(2)),dr(this);var y=this.g.Z();this.X=y;t:if(Vu(this)){var A=Hu(this.g);c="";var z=A.length,Q=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Lt(this),ti(this);var ae="";break t}this.h.i=new m.TextDecoder}for(_=0;_<z;_++)this.h.h=!0,c+=this.h.i.decode(A[_],{stream:!(Q&&_==z-1)});A.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=y==200,wf(this.i,this.u,this.A,this.l,this.R,Rt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,wt=this.g;if((Ue=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ie(Ue)){var Le=Ue;break t}}Le=null}if(y=Le)hr(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vs(this,y);else{this.o=!1,this.s=3,rt(12),Lt(this),ti(this);break e}}if(this.P){y=!0;let zt;for(;!this.J&&this.C<ae.length;)if(zt=Uu(this,ae),zt==ma){Rt==4&&(this.s=4,rt(14),y=!1),hr(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Bo){this.s=4,rt(15),hr(this.i,this.l,ae,"[Invalid Chunk]"),y=!1;break}else hr(this.i,this.l,zt,null),vs(this,zt);if(Vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||ae.length!=0||this.h.h||(this.s=1,rt(16),y=!1),this.o=this.o&&y,!y)hr(this.i,this.l,ae,"[Invalid Chunked Response]"),Lt(this),ti(this);else if(0<ae.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Os(Mt),Mt.M=!0,rt(11))}}else hr(this.i,this.l,ae,null),vs(this,ae);Rt==4&&Lt(this),this.o&&!this.J&&(Rt==4?Yu(this.j,this):(this.o=!1,ys(this)))}else Of(this.g),y==400&&0<ae.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),Lt(this),ti(this)}}}catch{}finally{}};function Vu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Uu(c,_){var y=c.C,A=_.indexOf(`
`,y);return A==-1?ma:(y=Number(_.substring(y,A)),isNaN(y)?Bo:(A+=1,A+y>_.length?ma:(_=_.slice(A,A+y),c.C=A+y,_)))}en.prototype.cancel=function(){this.J=!0,Lt(this)};function ys(c){c.S=Date.now()+c.I,Lu(c,c.I)}function Lu(c,_){if(c.B!=null)throw Error("WatchDog timer not null");c.B=yt(b(c.ba,c),_)}function dr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}en.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ku(this.i,this.A),this.L!=2&&(cr(),rt(17)),Lt(this),this.s=2,ti(this)):Lu(this,this.S-c)};function ti(c){c.j.G==0||c.J||Yu(c.j,c)}function Lt(c){dr(c);var _=c.M;_&&typeof _.ma=="function"&&_.ma(),c.M=null,ps(c.U),c.g&&(_=c.g,c.g=null,_.abort(),_.ma())}function vs(c,_){try{var y=c.j;if(y.G!=0&&(y.g==c||jo(y.h,c))){if(!c.K&&jo(y.h,c)&&y.G==3){try{var A=y.Da.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<c.F)Ra(y),ba(y);else break e;Wo(y),rt(18)}}else y.za=z[1],0<y.za-y.T&&37500>z[2]&&y.F&&y.v==0&&!y.C&&(y.C=yt(b(y.Za,y),6e3));if(1>=ga(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Vi(y,11)}else if((c.K||y.g==c)&&Ra(y),!ie(_))for(z=y.Da.g.parse(_),_=0;_<z.length;_++){let Le=z[_];if(y.T=Le[0],Le=Le[1],y.G==2)if(Le[0]=="c"){y.K=Le[1],y.ia=Le[2];const Mt=Le[3];Mt!=null&&(y.la=Mt,y.j.info("VER="+y.la));const Rt=Le[4];Rt!=null&&(y.Aa=Rt,y.j.info("SVER="+y.Aa));const Ui=Le[5];Ui!=null&&typeof Ui=="number"&&0<Ui&&(A=1.5*Ui,y.L=A,y.j.info("backChannelRequestTimeoutMs_="+A)),A=y;const zt=c.g;if(zt){const li=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(li){var Q=A.h;Q.g||li.indexOf("spdy")==-1&&li.indexOf("quic")==-1&&li.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(_a(Q,Q.h),Q.h=null))}if(A.D){const Jo=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Jo&&(A.ya=Jo,$e(A.I,A.D,Jo))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-c.F,y.j.info("Handshake RTT: "+y.R+"ms")),A=y;var ae=c;if(A.qa=Xu(A,A.J?A.ia:null,A.W),ae.K){tn(A.h,ae);var Ue=ae,wt=A.L;wt&&(Ue.I=wt),Ue.B&&(dr(Ue),ys(Ue)),A.g=ae}else Ku(A);0<y.i.length&&wa(y)}else Le[0]!="stop"&&Le[0]!="close"||Vi(y,7);else y.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Vi(y,7):$o(y):Le[0]!="noop"&&y.l&&y.l.ta(Le),y.v=0)}}cr(4)}catch{}}var zu=class{constructor(c,_){this.g=c,this.map=_}};function Oi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ga(c){return c.h?1:c.g?c.g.size:0}function jo(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function _a(c,_){c.g?c.g.add(_):c.h=_}function tn(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}Oi.prototype.cancel=function(){if(this.i=qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function qo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const y of c.g.values())_=_.concat(y.D);return _}return G(c.i)}function Rf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var _=[],y=c.length,A=0;A<y;A++)_.push(c[A]);return _}_=[],y=0;for(A in c)_[y++]=c[A];return _}function ya(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var _=[];c=c.length;for(var y=0;y<c;y++)_.push(y);return _}_=[],y=0;for(const A in c)_[y++]=A;return _}}}function Ho(c,_){if(c.forEach&&typeof c.forEach=="function")c.forEach(_,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,_,void 0);else for(var y=ya(c),A=Rf(c),z=A.length,Q=0;Q<z;Q++)_.call(void 0,A[Q],y&&y[Q],c)}var Es=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function If(c,_){if(c){c=c.split("&");for(var y=0;y<c.length;y++){var A=c[y].indexOf("="),z=null;if(0<=A){var Q=c[y].substring(0,A);z=c[y].substring(A+1)}else Q=c[y];_(Q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function vt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof vt){this.h=c.h,Ts(this,c.j),this.o=c.o,this.g=c.g,mr(this,c.s),this.l=c.l;var _=c.i,y=new xi;y.i=_.i,_.g&&(y.g=new Map(_.g),y.h=_.h),Ni(this,y),this.m=c.m}else c&&(_=String(c).match(Es))?(this.h=!1,Ts(this,_[1]||"",!0),this.o=Cn(_[2]||""),this.g=Cn(_[3]||"",!0),mr(this,_[4]),this.l=Cn(_[5]||"",!0),Ni(this,_[6]||"",!0),this.m=Cn(_[7]||"")):(this.h=!1,this.i=new xi(null,this.h))}vt.prototype.toString=function(){var c=[],_=this.j;_&&c.push(Ss(_,Fo,!0),":");var y=this.g;return(y||_=="file")&&(c.push("//"),(_=this.o)&&c.push(Ss(_,Fo,!0),"@"),c.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&c.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&c.push("/"),c.push(Ss(y,y.charAt(0)=="/"?Cf:Go,!0))),(y=this.i.toString())&&c.push("?",y),(y=this.m)&&c.push("#",Ss(y,va)),c.join("")};function mn(c){return new vt(c)}function Ts(c,_,y){c.j=y?Cn(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function mr(c,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);c.s=_}else c.s=null}function Ni(c,_,y){_ instanceof xi?(c.i=_,ju(c.i,c.h)):(y||(_=Ss(_,Df)),c.i=new xi(_,c.h))}function $e(c,_,y){c.i.set(_,y)}function As(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Cn(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ss(c,_,y){return typeof c=="string"?(c=encodeURI(c).replace(_,Bu),y&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Bu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Fo=/[#\/\?@]/g,Go=/[#\?:]/g,Cf=/[#\?]/g,Df=/[#\?@]/g,va=/#/g;function xi(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function Dn(c){c.g||(c.g=new Map,c.h=0,c.i&&If(c.i,function(_,y){c.add(decodeURIComponent(_.replace(/\+/g," ")),y)}))}i=xi.prototype,i.add=function(c,_){Dn(this),this.i=null,c=ni(this,c);var y=this.g.get(c);return y||this.g.set(c,y=[]),y.push(_),this.h+=1,this};function Mi(c,_){Dn(c),_=ni(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function Pi(c,_){return Dn(c),_=ni(c,_),c.g.has(_)}i.forEach=function(c,_){Dn(this),this.g.forEach(function(y,A){y.forEach(function(z){c.call(_,z,A,this)},this)},this)},i.na=function(){Dn(this);const c=Array.from(this.g.values()),_=Array.from(this.g.keys()),y=[];for(let A=0;A<_.length;A++){const z=c[A];for(let Q=0;Q<z.length;Q++)y.push(_[A])}return y},i.V=function(c){Dn(this);let _=[];if(typeof c=="string")Pi(this,c)&&(_=_.concat(this.g.get(ni(this,c))));else{c=Array.from(this.g.values());for(let y=0;y<c.length;y++)_=_.concat(c[y])}return _},i.set=function(c,_){return Dn(this),this.i=null,c=ni(this,c),Pi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},i.get=function(c,_){return c?(c=this.V(c),0<c.length?String(c[0]):_):_};function Ko(c,_,y){Mi(c,_),0<y.length&&(c.i=null,c.g.set(ni(c,_),G(y)),c.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(var y=0;y<_.length;y++){var A=_[y];const Q=encodeURIComponent(String(A)),ae=this.V(A);for(A=0;A<ae.length;A++){var z=Q;ae[A]!==""&&(z+="="+encodeURIComponent(String(ae[A]))),c.push(z)}}return this.i=c.join("&")};function ni(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function ju(c,_){_&&!c.j&&(Dn(c),c.i=null,c.g.forEach(function(y,A){var z=A.toLowerCase();A!=z&&(Mi(this,A),Ko(this,z,y))},c)),c.j=_}function bs(c,_){const y=new In;if(m.Image){const A=new Image;A.onload=M(On,y,"TestLoadImage: loaded",!0,_,A),A.onerror=M(On,y,"TestLoadImage: error",!1,_,A),A.onabort=M(On,y,"TestLoadImage: abort",!1,_,A),A.ontimeout=M(On,y,"TestLoadImage: timeout",!1,_,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else _(!1)}function jn(c,_){const y=new In,A=new AbortController,z=setTimeout(()=>{A.abort(),On(y,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:A.signal}).then(Q=>{clearTimeout(z),Q.ok?On(y,"TestPingServer: ok",!0,_):On(y,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(z),On(y,"TestPingServer: error",!1,_)})}function On(c,_,y,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(y)}catch{}}function ws(){this.g=new gs}function ii(c,_,y){const A=y||"";try{Ho(c,function(z,Q){let ae=z;g(z)&&(ae=zn(z)),_.push(A+Q+"="+encodeURIComponent(ae))})}catch(z){throw _.push(A+"type="+encodeURIComponent("_badmap")),z}}function pr(c){this.l=c.Ub||null,this.j=c.eb||!1}D(pr,Po),pr.prototype.g=function(){return new ki(this.l,this.j)},pr.prototype.i=function(c){return function(){return c}}({});function ki(c,_){ct.call(this),this.D=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(ki,ct),i=ki.prototype,i.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=_,this.readyState=1,si(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(_.body=c),(this.D||m).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ri(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?ri(this):si(this),this.readyState==3&&Qo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ri(this))},i.Qa=function(c){this.g&&(this.response=c,ri(this))},i.ga=function(){this.g&&ri(this)};function ri(c){c.readyState=4,c.l=null,c.j=null,c.v=null,si(c)}i.setRequestHeader=function(c,_){this.u.append(c,_)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var y=_.next();!y.done;)y=y.value,c.push(y[0]+": "+y[1]),y=_.next();return c.join(`\r
`)};function si(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ki.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Yo(c){let _="";return _e(c,function(y,A){_+=A,_+=":",_+=y,_+=`\r
`}),_}function xt(c,_,y){e:{for(A in y){var A=!1;break e}A=!0}A||(y=Yo(y),typeof c=="string"?y!=null&&encodeURIComponent(String(y)):$e(c,_,y))}function Fe(c){ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Fe,ct);var Ea=/^https?$/i,Rs=["POST","PUT"];i=Fe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,_,y,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jn.g(),this.v=this.o?ko(this.o):ko(Jn),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(Q){qu(this,Q);return}if(c=y||"",y=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)y.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())y.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(y.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Rs,_,void 0))||A||z||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of y)this.g.setRequestHeader(Q,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Is(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){qu(this,Q)}};function qu(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.m=5,Ta(c),ai(c)}function Ta(c){c.A||(c.A=!0,Ke(c,"complete"),Ke(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ke(this,"complete"),Ke(this,"abort"),ai(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ai(this,!0)),Fe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Aa(this):this.bb())},i.bb=function(){Aa(this)};function Aa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Nn(c)!=4||c.Z()!=2)){if(c.u&&Nn(c)==4)Qt(c.Ea,0,c);else if(Ke(c,"readystatechange"),Nn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var y;if(!(y=_)){var A;if(A=ae===0){var z=String(c.D).match(Es)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),A=!Ea.test(z?z.toLowerCase():"")}y=A}if(y)Ke(c,"complete"),Ke(c,"success");else{c.m=6;try{var Q=2<Nn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",Ta(c)}}finally{ai(c)}}}}function ai(c,_){if(c.g){Is(c);const y=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,_||Ke(c,"ready");try{y.onreadystatechange=A}catch{}}}function Is(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Nn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),fa(_)}};function Hu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Of(c){const _={};c=(c.g&&2<=Nn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(ie(c[A]))continue;var y=k(c[A]);const z=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const Q=_[z]||[];_[z]=Q,Q.push(y)}O(_,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cs(c,_,y){return y&&y.internalChannelParams&&y.internalChannelParams[c]||_}function Sa(c){this.Aa=0,this.i=[],this.j=new In,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cs("baseRetryDelayMs",5e3,c),this.cb=Cs("retryDelaySeedMs",1e4,c),this.Wa=Cs("forwardChannelMaxRetries",2,c),this.wa=Cs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Oi(c&&c.concurrentRequestLimit),this.Da=new ws,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Sa.prototype,i.la=8,i.G=1,i.connect=function(c,_,y,A){rt(0),this.W=c,this.H=_||{},y&&A!==void 0&&(this.H.OSID=y,this.H.OAID=A),this.F=this.X,this.I=Xu(this,null,this.W),wa(this)};function $o(c){if(Fu(c),c.G==3){var _=c.U++,y=mn(c.I);if($e(y,"SID",c.K),$e(y,"RID",_),$e(y,"TYPE","terminate"),Ds(c,y),_=new en(c,c.j,_),_.L=2,_.v=As(mn(y)),y=!1,m.navigator&&m.navigator.sendBeacon)try{y=m.navigator.sendBeacon(_.v.toString(),"")}catch{}!y&&m.Image&&(new Image().src=_.v,y=!0),y||(_.g=Wu(_.j,null),_.g.ea(_.v)),_.F=Date.now(),ys(_)}$u(c)}function ba(c){c.g&&(Os(c),c.g.cancel(),c.g=null)}function Fu(c){ba(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ra(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function wa(c){if(!pa(c.h)&&!c.s){c.s=!0;var _=c.Ga;le||N(),me||(le(),me=!0),qe.add(_,c),c.B=0}}function Nf(c,_){return ga(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=_.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=yt(b(c.Ga,c,_),Zo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new en(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=w(Q),x(Q,this.S)):Q=this.S),this.m!==null||this.O||(z.H=Q,Q=null),this.P)e:{for(var _=0,y=0;y<this.i.length;y++){t:{var A=this.i[y];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,4096<_){_=y;break e}if(_===4096||y===this.i.length-1){_=y+1;break e}}_=1e3}else _=1e3;_=Gu(this,z,_),y=mn(this.I),$e(y,"RID",c),$e(y,"CVER",22),this.D&&$e(y,"X-HTTP-Session-Id",this.D),Ds(this,y),Q&&(this.O?_="headers="+encodeURIComponent(String(Yo(Q)))+"&"+_:this.m&&xt(y,this.m,Q)),_a(this.h,z),this.Ua&&$e(y,"TYPE","init"),this.P?($e(y,"$req",_),$e(y,"SID","null"),z.T=!0,Bn(z,y,null)):Bn(z,y,_),this.G=2}}else this.G==3&&(c?Xo(this,c):this.i.length==0||pa(this.h)||Xo(this))};function Xo(c,_){var y;_?y=_.l:y=c.U++;const A=mn(c.I);$e(A,"SID",c.K),$e(A,"RID",y),$e(A,"AID",c.T),Ds(c,A),c.m&&c.o&&xt(A,c.m,c.o),y=new en(c,c.j,y,c.B+1),c.m===null&&(y.H=c.o),_&&(c.i=_.D.concat(c.i)),_=Gu(c,y,1e3),y.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),_a(c.h,y),Bn(y,A,_)}function Ds(c,_){c.H&&_e(c.H,function(y,A){$e(_,A,y)}),c.l&&Ho({},function(y,A){$e(_,A,y)})}function Gu(c,_,y){y=Math.min(c.i.length,y);var A=c.l?b(c.l.Na,c.l,c):null;e:{var z=c.i;let Q=-1;for(;;){const ae=["count="+y];Q==-1?0<y?(Q=z[0].g,ae.push("ofs="+Q)):Q=0:ae.push("ofs="+Q);let Ue=!0;for(let wt=0;wt<y;wt++){let Le=z[wt].g;const Mt=z[wt].map;if(Le-=Q,0>Le)Q=Math.max(0,z[wt].g-100),Ue=!1;else try{ii(Mt,ae,"req"+Le+"_")}catch{A&&A(Mt)}}if(Ue){A=ae.join("&");break e}}}return c=c.i.splice(0,y),_.D=c,A}function Ku(c){if(!c.g&&!c.u){c.Y=1;var _=c.Fa;le||N(),me||(le(),me=!0),qe.add(_,c),c.v=0}}function Wo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=yt(b(c.Fa,c),Zo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Qu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=yt(b(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),ba(this),Qu(this))};function Os(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Qu(c){c.g=new en(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var _=mn(c.qa);$e(_,"RID","rpc"),$e(_,"SID",c.K),$e(_,"AID",c.T),$e(_,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(_,"TO",c.ja),$e(_,"TYPE","xmlhttp"),Ds(c,_),c.m&&c.o&&xt(_,c.m,c.o),c.L&&(c.g.I=c.L);var y=c.g;c=c.ia,y.L=1,y.v=As(mn(_)),y.m=null,y.P=!0,Di(y,c)}i.Za=function(){this.C!=null&&(this.C=null,ba(this),Wo(this),rt(19))};function Ra(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Yu(c,_){var y=null;if(c.g==_){Ra(c),Os(c),c.g=null;var A=2}else if(jo(c.h,_))y=_.D,tn(c.h,_),A=1;else return;if(c.G!=0){if(_.o)if(A==1){y=_.m?_.m.length:0,_=Date.now()-_.F;var z=c.B;A=ur(),Ke(A,new bt(A,y)),wa(c)}else Ku(c);else if(z=_.s,z==3||z==0&&0<_.X||!(A==1&&Nf(c,_)||A==2&&Wo(c)))switch(y&&0<y.length&&(_=c.h,_.i=_.i.concat(y)),z){case 1:Vi(c,5);break;case 4:Vi(c,10);break;case 3:Vi(c,6);break;default:Vi(c,2)}}}function Zo(c,_){let y=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(y*=2),y*_}function Vi(c,_){if(c.j.info("Error code "+_),_==2){var y=b(c.fb,c),A=c.Xa;const z=!A;A=new vt(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ts(A,"https"),As(A),z?bs(A.toString(),y):jn(A.toString(),y)}else rt(2);c.G=0,c.l&&c.l.sa(_),$u(c),Fu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function $u(c){if(c.G=0,c.ka=[],c.l){const _=qo(c.h);(_.length!=0||c.i.length!=0)&&(U(c.ka,_),U(c.ka,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.ra()}}function Xu(c,_,y){var A=y instanceof vt?mn(y):new vt(y);if(A.g!="")_&&(A.g=_+"."+A.g),mr(A,A.s);else{var z=m.location;A=z.protocol,_=_?_+"."+z.hostname:z.hostname,z=+z.port;var Q=new vt(null);A&&Ts(Q,A),_&&(Q.g=_),z&&mr(Q,z),y&&(Q.l=y),A=Q}return y=c.D,_=c.ya,y&&_&&$e(A,y,_),$e(A,"VER",c.la),Ds(c,A),A}function Wu(c,_,y){if(_&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Ca&&!c.pa?new Fe(new pr({eb:y})):new Fe(c.pa),_.Ha(c.J),_}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zu(){}i=Zu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ia(){}Ia.prototype.g=function(c,_){return new nn(c,_)};function nn(c,_){ct.call(this),this.g=new Sa(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(c?c["X-WebChannel-Client-Profile"]=_.va:c={"X-WebChannel-Client-Profile":_.va}),this.g.S=c,(c=_&&_.Sb)&&!ie(c)&&(this.g.m=c),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!ie(_)&&(this.g.D=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new oi(this)}D(nn,ct),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){$o(this.g)},nn.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var y={};y.__data__=c,c=y}else this.u&&(y={},y.__data__=zn(c),c=y);_.i.push(new zu(_.Ya++,c)),_.G==3&&wa(_)},nn.prototype.N=function(){this.g.l=null,delete this.j,$o(this.g),delete this.g,nn.aa.N.call(this)};function Ju(c){Ii.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const y in _){c=y;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}D(Ju,Ii);function ec(){Uo.call(this),this.status=1}D(ec,Uo);function oi(c){this.g=c}D(oi,Zu),oi.prototype.ua=function(){Ke(this.g,"a")},oi.prototype.ta=function(c){Ke(this.g,new Ju(c))},oi.prototype.sa=function(c){Ke(this.g,new ec)},oi.prototype.ra=function(){Ke(this.g,"b")},Ia.prototype.createWebChannel=Ia.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,nA=function(){return new Ia},tA=function(){return ur()},eA=Zn,tp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fr.NO_ERROR=0,fr.TIMEOUT=8,fr.HTTP_ERROR=6,_h=fr,Ci.COMPLETE="complete",JT=Ci,Vo.EventType=Ri,Ri.OPEN="a",Ri.CLOSE="b",Ri.ERROR="c",Ri.MESSAGE="d",ct.prototype.listen=ct.prototype.K,Ql=Vo,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,ZT=Fe}).apply(typeof ih<"u"?ih:typeof self<"u"?self:typeof window<"u"?window:{});const k0="@firebase/firestore",V0="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wo="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new Dp("@firebase/firestore");function io(){return na.logLevel}function he(i,...e){if(na.logLevel<=ke.DEBUG){const t=e.map(jp);na.debug(`Firestore (${wo}): ${i}`,...t)}}function sr(i,...e){if(na.logLevel<=ke.ERROR){const t=e.map(jp);na.error(`Firestore (${wo}): ${i}`,...t)}}function mo(i,...e){if(na.logLevel<=ke.WARN){const t=e.map(jp);na.warn(`Firestore (${wo}): ${i}`,...t)}}function jp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,iA(i,s,t)}function iA(i,e,t){let s=`FIRESTORE (${wo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw sr(s),new Error(s)}function Ge(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||iA(e,o,s)}function Ie(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends bi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class TD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wt.UNAUTHENTICATED))}shutdown(){}}class AD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class SD{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Qr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Qr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new rA(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class bD{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wD{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new bD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class U0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,An(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new U0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ge(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new U0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=ID(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Oe(i,e){return i<e?-1:i>e?1:0}function np(i,e){let t=0;for(;t<i.length&&t<e.length;){const s=i.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return Oe(s,o);{const u=sA(),f=CD(u.encode(L0(i,t)),u.encode(L0(e,t)));return f!==0?f:Oe(s,o)}}t+=s>65535?2:1}return Oe(i.length,e.length)}function L0(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function CD(i,e){for(let t=0;t<i.length&&t<e.length;++t)if(i[t]!==e[t])return Oe(i[t],e[t]);return Oe(i.length,e.length)}function po(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=-62135596800,B0=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*B0);return new Dt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<z0)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/B0}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-z0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new Dt(0,0))}static max(){return new Re(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="__name__";class mi{constructor(e,t,s){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Se(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return mi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof mi?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=mi.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Oe(e.length,t.length)}static compareSegments(e,t){const s=mi.isNumericId(e),o=mi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?mi.extractNumericId(e).compare(mi.extractNumericId(t)):np(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Kr.fromString(e.substring(4,e.length-2))}}class nt extends mi{construct(e,t,s){return new nt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new nt(t)}static emptyPath(){return new nt([])}}const DD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends mi{construct(e,t,s){return new Gt(e,t,s)}static isValidIdentifier(e){return DD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===j0}static keyField(){return new Gt([j0])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new fe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new fe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(t)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(nt.fromString(e))}static fromName(e){return new ye(nt.fromString(e).popFirst(5))}static empty(){return new ye(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new nt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou=-1;function OD(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new Dt(t+1,0):new Dt(t,s));return new Wr(o,ye.empty(),e)}function ND(i){return new Wr(i.readTime,i.key,ou)}class Wr{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Wr(Re.min(),ye.empty(),ou)}static max(){return new Wr(Re.max(),ye.empty(),ou)}}function xD(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(i.documentKey,e.documentKey),t!==0?t:Oe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(i){if(i.code!==te.FAILED_PRECONDITION||i.message!==MD)throw i;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,s)=>{t(e)})}static reject(e){return new ee((t,s)=>{s(e)})}static waitFor(e){return new ee((t,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&t()},p=>s(p))}),f=!0,u===o&&t()})}static or(e){let t=ee.resolve(!1);for(const s of e)t=t.next(o=>o?ee.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new ee((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,t){return new ee((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function kD(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Io(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>t.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}nf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp=-1;function rf(i){return i==null}function Ph(i){return i===0&&1/i==-1/0}function VD(i){return typeof i=="number"&&Number.isInteger(i)&&!Ph(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA="";function UD(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=q0(e)),e=LD(i.get(t),e);return q0(e)}function LD(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case oA:t+="";break;default:t+=u}}return t}function q0(i){return i+oA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function as(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function lA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,t){this.comparator=e,this.root=t||Ft.EMPTY}insert(e,t){return new lt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rh(this.root,e,this.comparator,!0)}}class rh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Ft.RED,this.left=o??Ft.EMPTY,this.right=u??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Ft(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Ft(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new F0(this.data.getIterator())}getIteratorFrom(e){return new F0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ot(this.comparator);return t.data=e,t}}class F0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new Sn([])}unionWith(e){let t=new Ot(Gt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Sn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new uA("Invalid base64 string: "+u):u}}(e);return new Kt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Kt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const zD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zr(i){if(Ge(!!i,39018),typeof i=="string"){let e=0;const t=zD.exec(i);if(Ge(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(i.seconds),nanos:_t(i.nanos)}}function _t(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Jr(i){return typeof i=="string"?Kt.fromBase64String(i):Kt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="server_timestamp",hA="__type__",fA="__previous_value__",dA="__local_write_time__";function Hp(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[hA])===null||t===void 0?void 0:t.stringValue)===cA}function sf(i){const e=i.mapValue.fields[fA];return Hp(e)?sf(e):e}function lu(i){const e=Zr(i.mapValue.fields[dA].timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,t,s,o,u,f,m,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const kh="(default)";class uu{constructor(e,t){this.projectId=e,this.database=t||kh}static empty(){return new uu("","")}get isDefaultDatabase(){return this.database===kh}isEqual(e){return e instanceof uu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="__type__",jD="__max__",sh={mapValue:{}},pA="__vector__",Vh="value";function es(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Hp(i)?4:HD(i)?9007199254740991:qD(i)?10:11:Se(28295,{value:i})}function Ai(i,e){if(i===e)return!0;const t=es(i);if(t!==es(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return lu(i).isEqual(lu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Zr(o.timestampValue),m=Zr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Jr(o.bytesValue).isEqual(Jr(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=_t(o.doubleValue),m=_t(u.doubleValue);return f===m?Ph(f)===Ph(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return po(i.arrayValue.values||[],e.arrayValue.values||[],Ai);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(H0(f)!==H0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ai(f[p],m[p])))return!1;return!0}(i,e);default:return Se(52216,{left:i})}}function cu(i,e){return(i.values||[]).find(t=>Ai(t,e))!==void 0}function go(i,e){if(i===e)return 0;const t=es(i),s=es(e);if(t!==s)return Oe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Oe(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=_t(u.integerValue||u.doubleValue),p=_t(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return G0(i.timestampValue,e.timestampValue);case 4:return G0(lu(i),lu(e));case 5:return np(i.stringValue,e.stringValue);case 6:return function(u,f){const m=Jr(u),p=Jr(f);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Oe(m[g],p[g]);if(E!==0)return E}return Oe(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Oe(_t(u.latitude),_t(f.latitude));return m!==0?m:Oe(_t(u.longitude),_t(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return K0(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,E;const S=u.fields||{},b=f.fields||{},M=(m=S[Vh])===null||m===void 0?void 0:m.arrayValue,D=(p=b[Vh])===null||p===void 0?void 0:p.arrayValue,G=Oe(((g=M==null?void 0:M.values)===null||g===void 0?void 0:g.length)||0,((E=D==null?void 0:D.values)===null||E===void 0?void 0:E.length)||0);return G!==0?G:K0(M,D)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===sh.mapValue&&f===sh.mapValue)return 0;if(u===sh.mapValue)return 1;if(f===sh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const b=np(p[S],E[S]);if(b!==0)return b;const M=go(m[p[S]],g[E[S]]);if(M!==0)return M}return Oe(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Se(23264,{Pe:t})}}function G0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Oe(i,e);const t=Zr(i),s=Zr(e),o=Oe(t.seconds,s.seconds);return o!==0?o:Oe(t.nanos,s.nanos)}function K0(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=go(t[o],s[o]);if(u)return u}return Oe(t.length,s.length)}function _o(i){return ip(i)}function ip(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=Zr(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return Jr(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return ye.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=ip(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${ip(t.fields[f])}`;return o+"}"}(i.mapValue):Se(61005,{value:i})}function yh(i){switch(es(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sf(i);return e?16+yh(e):16;case 5:return 2*i.stringValue.length;case 6:return Jr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+yh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return as(s.fields,(u,f)=>{o+=u.length+yh(f)}),o}(i.mapValue);default:throw Se(13486,{value:i})}}function Q0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function rp(i){return!!i&&"integerValue"in i}function Fp(i){return!!i&&"arrayValue"in i}function Y0(i){return!!i&&"nullValue"in i}function $0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function vh(i){return!!i&&"mapValue"in i}function qD(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[mA])===null||t===void 0?void 0:t.stringValue)===pA}function Zl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return as(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Zl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Zl(i.arrayValue.values[t]);return e}return Object.assign({},i)}function HD(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===jD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!vh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zl(t)}setAll(e){let t=Gt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}f?s[m.lastSegment()]=Zl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());vh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ai(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];vh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){as(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new hn(Zl(this.value))}}function gA(i){const e=[];return as(i.fields,(t,s)=>{const o=new Gt([t]);if(vh(s)){const u=gA(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,t,s,o,u,f,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Re.min(),Re.min(),Re.min(),hn.empty(),0)}static newFoundDocument(e,t,s,o){return new Zt(e,1,t,Re.min(),s,o,0)}static newNoDocument(e,t){return new Zt(e,2,t,Re.min(),Re.min(),hn.empty(),0)}static newUnknownDocument(e,t){return new Zt(e,3,t,Re.min(),Re.min(),hn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,t){this.position=e,this.inclusive=t}}function X0(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),t.key):s=go(f,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function W0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ai(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,t="asc"){this.field=e,this.dir=t}}function FD(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{}class St extends _A{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new KD(e,t,s):t==="array-contains"?new $D(e,s):t==="in"?new XD(e,s):t==="not-in"?new WD(e,s):t==="array-contains-any"?new ZD(e,s):new St(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new QD(e,s):new YD(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(go(t,this.value)):t!==null&&es(this.value)===es(t)&&this.matchesComparison(go(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends _A{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new $n(e,t)}matches(e){return yA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function yA(i){return i.op==="and"}function vA(i){return GD(i)&&yA(i)}function GD(i){for(const e of i.filters)if(e instanceof $n)return!1;return!0}function sp(i){if(i instanceof St)return i.field.canonicalString()+i.op.toString()+_o(i.value);if(vA(i))return i.filters.map(e=>sp(e)).join(",");{const e=i.filters.map(t=>sp(t)).join(",");return`${i.op}(${e})`}}function EA(i,e){return i instanceof St?function(s,o){return o instanceof St&&s.op===o.op&&s.field.isEqual(o.field)&&Ai(s.value,o.value)}(i,e):i instanceof $n?function(s,o){return o instanceof $n&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&EA(f,o.filters[m]),!0):!1}(i,e):void Se(19439)}function TA(i){return i instanceof St?function(t){return`${t.field.canonicalString()} ${t.op} ${_o(t.value)}`}(i):i instanceof $n?function(t){return t.op.toString()+" {"+t.getFilters().map(TA).join(" ,")+"}"}(i):"Filter"}class KD extends St{constructor(e,t,s){super(e,t,s),this.key=ye.fromName(s.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class QD extends St{constructor(e,t){super(e,"in",t),this.keys=AA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class YD extends St{constructor(e,t){super(e,"not-in",t),this.keys=AA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function AA(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ye.fromName(s.referenceValue))}class $D extends St{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Fp(t)&&cu(t.arrayValue,this.value)}}class XD extends St{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&cu(this.value.arrayValue,t)}}class WD extends St{constructor(e,t){super(e,"not-in",t)}matches(e){if(cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!cu(this.value.arrayValue,t)}}class ZD extends St{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Fp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>cu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,t=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function Z0(i,e=null,t=[],s=[],o=null,u=null,f=null){return new JD(i,e,t,s,o,u,f)}function Gp(i){const e=Ie(i);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>sp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),rf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>_o(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>_o(s)).join(",")),e.Ie=t}return e.Ie}function Kp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!FD(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!EA(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!W0(i.startAt,e.startAt)&&W0(i.endAt,e.endAt)}function ap(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,t=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function eO(i,e,t,s,o,u,f,m){return new Co(i,e,t,s,o,u,f,m)}function Qp(i){return new Co(i)}function J0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function SA(i){return i.collectionGroup!==null}function Jl(i){const e=Ie(i);if(e.Ee===null){e.Ee=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ot(Gt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new hu(u,s))}),t.has(Gt.keyField().canonicalString())||e.Ee.push(new hu(Gt.keyField(),s))}return e.Ee}function vi(i){const e=Ie(i);return e.de||(e.de=tO(e,Jl(i))),e.de}function tO(i,e){if(i.limitType==="F")return Z0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new hu(o.field,u)});const t=i.endAt?new Uh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Uh(i.startAt.position,i.startAt.inclusive):null;return Z0(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function op(i,e){const t=i.filters.concat([e]);return new Co(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function lp(i,e,t){return new Co(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function af(i,e){return Kp(vi(i),vi(e))&&i.limitType===e.limitType}function bA(i){return`${Gp(vi(i))}|lt:${i.limitType}`}function ro(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>TA(o)).join(", ")}]`),rf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>_o(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>_o(o)).join(",")),`Target(${s})`}(vi(i))}; limitType=${i.limitType})`}function of(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Jl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=X0(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Jl(s),o)||s.endAt&&!function(f,m,p){const g=X0(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Jl(s),o))}(i,e)}function nO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function wA(i){return(e,t)=>{let s=!1;for(const o of Jl(i)){const u=iO(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function iO(i,e,t){const s=i.field.isKeyField()?ye.comparator(e.key,t.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?go(p,g):Se(42886)}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Se(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){as(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return lA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=new lt(ye.comparator);function ar(){return rO}const RA=new lt(ye.comparator);function Yl(...i){let e=RA;for(const t of i)e=e.insert(t.key,t);return e}function IA(i){let e=RA;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function $s(){return eu()}function CA(){return eu()}function eu(){return new la(i=>i.toString(),(i,e)=>i.isEqual(e))}const sO=new lt(ye.comparator),aO=new Ot(ye.comparator);function Ve(...i){let e=aO;for(const t of i)e=e.add(t);return e}const oO=new Ot(Oe);function lO(){return oO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ph(e)?"-0":e}}function DA(i){return{integerValue:""+i}}function uO(i,e){return VD(e)?DA(e):Yp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(){this._=void 0}}function cO(i,e,t){return i instanceof fu?function(o,u){const f={fields:{[hA]:{stringValue:cA},[dA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Hp(u)&&(u=sf(u)),u&&(f.fields[fA]=u),{mapValue:f}}(t,e):i instanceof du?NA(i,e):i instanceof mu?xA(i,e):function(o,u){const f=OA(o,u),m=eE(f)+eE(o.Re);return rp(f)&&rp(o.Re)?DA(m):Yp(o.serializer,m)}(i,e)}function hO(i,e,t){return i instanceof du?NA(i,e):i instanceof mu?xA(i,e):t}function OA(i,e){return i instanceof Lh?function(s){return rp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class fu extends lf{}class du extends lf{constructor(e){super(),this.elements=e}}function NA(i,e){const t=MA(e);for(const s of i.elements)t.some(o=>Ai(o,s))||t.push(s);return{arrayValue:{values:t}}}class mu extends lf{constructor(e){super(),this.elements=e}}function xA(i,e){let t=MA(e);for(const s of i.elements)t=t.filter(o=>!Ai(o,s));return{arrayValue:{values:t}}}class Lh extends lf{constructor(e,t){super(),this.serializer=e,this.Re=t}}function eE(i){return _t(i.integerValue||i.doubleValue)}function MA(i){return Fp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e,t){this.field=e,this.transform=t}}function dO(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof du&&o instanceof du||s instanceof mu&&o instanceof mu?po(s.elements,o.elements,Ai):s instanceof Lh&&o instanceof Lh?Ai(s.Re,o.Re):s instanceof fu&&o instanceof fu}(i.transform,e.transform)}class mO{constructor(e,t){this.version=e,this.transformResults=t}}class Kn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class uf{}function PA(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new $p(i.key,Kn.none()):new bu(i.key,i.data,Kn.none());{const t=i.data,s=hn.empty();let o=new Ot(Gt.comparator);for(let u of e.fields)if(!o.has(u)){let f=t.field(u);f===null&&u.length>1&&(u=u.popLast(),f=t.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new os(i.key,s,new Sn(o.toArray()),Kn.none())}}function pO(i,e,t){i instanceof bu?function(o,u,f){const m=o.value.clone(),p=nE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,t):i instanceof os?function(o,u,f){if(!Eh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=nE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(kA(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,t):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,t)}function tu(i,e,t,s){return i instanceof bu?function(u,f,m,p){if(!Eh(u.precondition,f))return m;const g=u.value.clone(),E=iE(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof os?function(u,f,m,p){if(!Eh(u.precondition,f))return m;const g=iE(u.fieldTransforms,p,f),E=f.data;return E.setAll(kA(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(i,e,t,s):function(u,f,m){return Eh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,t)}function gO(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=OA(s.transform,o||null);u!=null&&(t===null&&(t=hn.empty()),t.set(s.field,u))}return t||null}function tE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&po(s,o,(u,f)=>dO(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class bu extends uf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class os extends uf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function kA(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function nE(i,e,t){const s=new Map;Ge(i.length===t.length,32656,{Ve:t.length,me:i.length});for(let o=0;o<t.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,hO(f,m,t[o]))}return s}function iE(i,e,t){const s=new Map;for(const o of i){const u=o.transform,f=t.data.field(o.field);s.set(o.field,cO(u,f,e))}return s}class $p extends uf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _O extends uf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&pO(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=tu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=tu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=CA();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=t.has(o.key)?null:m;const p=PA(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Re.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,(t,s)=>tE(t,s))&&po(this.baseMutations,e.baseMutations,(t,s)=>tE(t,s))}}class Xp{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ge(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return sO}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Xp(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,Be;function TO(i){switch(i){case te.OK:return Se(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Se(15467,{code:i})}}function VA(i){if(i===void 0)return sr("GRPC error has no .code"),te.UNKNOWN;switch(i){case At.OK:return te.OK;case At.CANCELLED:return te.CANCELLED;case At.UNKNOWN:return te.UNKNOWN;case At.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case At.INTERNAL:return te.INTERNAL;case At.UNAVAILABLE:return te.UNAVAILABLE;case At.UNAUTHENTICATED:return te.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case At.NOT_FOUND:return te.NOT_FOUND;case At.ALREADY_EXISTS:return te.ALREADY_EXISTS;case At.PERMISSION_DENIED:return te.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case At.ABORTED:return te.ABORTED;case At.OUT_OF_RANGE:return te.OUT_OF_RANGE;case At.UNIMPLEMENTED:return te.UNIMPLEMENTED;case At.DATA_LOSS:return te.DATA_LOSS;default:return Se(39323,{code:i})}}(Be=At||(At={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=new Kr([4294967295,4294967295],0);function rE(i){const e=sA().encode(i),t=new WT;return t.update(e),new Uint8Array(t.digest())}function sE(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Kr([t,s],0),new Kr([o,u],0)]}class Wp{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new $l(`Invalid padding: ${t}`);if(s<0)throw new $l(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new $l(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new $l(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Kr.fromNumber(this.pe)}we(e,t,s){let o=e.add(t.multiply(Kr.fromNumber(s)));return o.compare(AO)===1&&(o=new Kr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=rE(e),[s,o]=sE(t);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Wp(u,o,t);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.pe===0)return;const t=rE(e),[s,o]=sE(t);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class $l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,wu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new cf(Re.min(),o,new lt(Oe),ar(),Ve())}}class wu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new wu(s,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,t,s,o){this.De=e,this.removedTargetIds=t,this.key=s,this.ve=o}}class UA{constructor(e,t){this.targetId=e,this.Ce=t}}class LA{constructor(e,t,s=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class aE{constructor(){this.Fe=0,this.Me=oE(),this.xe=Kt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ve(),t=Ve(),s=Ve();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Se(38017,{changeType:u})}}),new wu(this.xe,this.Oe,e,t,s)}Qe(){this.Ne=!1,this.Me=oE()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ge(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class SO{constructor(e){this.ze=e,this.je=new Map,this.He=ar(),this.Je=ah(),this.Ye=ah(),this.Ze=new lt(Oe)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const s=this.rt(t);switch(e.state){case 0:this.it(t)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(t);break;case 3:this.it(t)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),s.ke(e.resumeToken));break;default:Se(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((s,o)=>{this.it(o)&&t(o)})}ot(e){const t=e.targetId,s=e.Ce.count,o=this._t(t);if(o){const u=o.target;if(ap(u))if(s===0){const f=new ye(u.path);this.tt(t,f,Zt.newNoDocument(f,Re.min()))}else Ge(s===1,20013,{expectedCount:s});else{const f=this.ut(t);if(f!==s){const m=this.ct(e),p=m?this.lt(m,e,f):1;if(p!==0){this.st(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let f,m;try{f=Jr(s).toUint8Array()}catch(p){if(p instanceof uA)return mo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Wp(f,o,u)}catch(p){return mo(p instanceof $l?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(e,t,s){return t.Ce.count===s-this.Tt(e,t.targetId)?0:2}Tt(e,t){const s=this.ze.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(t,u,null),o++)}),o}It(e){const t=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&ap(m.target)){const p=new ye(m.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,Zt.newNoDocument(p,e))}u.Le&&(t.set(f,u.qe()),u.Qe())}});let s=Ve();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new cf(e,t,this.Ze,this.He,s);return this.He=ar(),this.Je=ah(),this.Ye=ah(),this.Ze=new lt(Oe),o}et(e,t){if(!this.it(e))return;const s=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,s),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,t)?o.$e(t,1):o.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),s&&(this.He=this.He.insert(t,s))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new aE,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Ot(Oe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Ot(Oe),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new aE),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function ah(){return new lt(ye.comparator)}function oE(){return new lt(ye.comparator)}const bO={asc:"ASCENDING",desc:"DESCENDING"},wO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RO={and:"AND",or:"OR"};class IO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function up(i,e){return i.useProto3Json||rf(e)?e:{value:e}}function zh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zA(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function CO(i,e){return zh(i,e.toTimestamp())}function Ei(i){return Ge(!!i,49232),Re.fromTimestamp(function(t){const s=Zr(t);return new Dt(s.seconds,s.nanos)}(i))}function Zp(i,e){return cp(i,e).canonicalString()}function cp(i,e){const t=function(o){return new nt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function BA(i){const e=nt.fromString(i);return Ge(GA(e),10190,{key:e.toString()}),e}function hp(i,e){return Zp(i.databaseId,e.path)}function Um(i,e){const t=BA(e);if(t.get(1)!==i.databaseId.projectId)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ye(qA(t))}function jA(i,e){return Zp(i.databaseId,e)}function DO(i){const e=BA(i);return e.length===4?nt.emptyPath():qA(e)}function fp(i){return new nt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function qA(i){return Ge(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function lE(i,e,t){return{name:hp(i,e),fields:t.value.mapValue.fields}}function OO(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Ge(E===void 0||typeof E=="string",58123),Kt.fromBase64String(E||"")):(Ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Kt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?te.UNKNOWN:VA(g.code);return new fe(E,g.message||"")}(f);t=new LA(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Um(i,s.document.name),u=Ei(s.document.updateTime),f=s.document.createTime?Ei(s.document.createTime):Re.min(),m=new hn({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];t=new Th(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Um(i,s.document),u=s.readTime?Ei(s.readTime):Re.min(),f=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];t=new Th([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Um(i,s.document),u=s.removedTargetIds||[];t=new Th([],u,o,null)}else{if(!("filter"in e))return Se(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new EO(o,u),m=s.targetId;t=new UA(m,f)}}return t}function NO(i,e){let t;if(e instanceof bu)t={update:lE(i,e.key,e.value)};else if(e instanceof $p)t={delete:hp(i,e.key)};else if(e instanceof os)t={update:lE(i,e.key,e.data),updateMask:BO(e.fieldMask)};else{if(!(e instanceof _O))return Se(16599,{ft:e.type});t={verify:hp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof fu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof du)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof mu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Lh)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw Se(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:CO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se(27497)}(i,e.precondition)),t}function xO(i,e){return i&&i.length>0?(Ge(e!==void 0,14353),i.map(t=>function(o,u){let f=o.updateTime?Ei(o.updateTime):Ei(u);return f.isEqual(Re.min())&&(f=Ei(u)),new mO(f,o.transformResults||[])}(t,e))):[]}function MO(i,e){return{documents:[jA(i,e.path)]}}function PO(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=jA(i,o);const u=function(g){if(g.length!==0)return FA($n.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(b){return{field:so(b.field),direction:UO(b.dir)}}(E))}(e.orderBy);f&&(t.structuredQuery.orderBy=f);const m=up(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:t,parent:o}}function kO(i){let e=DO(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=function(S){const b=HA(S);return b instanceof $n&&vA(b)?b.getFilters():[b]}(t.where));let f=[];t.orderBy&&(f=function(S){return S.map(b=>function(D){return new hu(ao(D.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(b))}(t.orderBy));let m=null;t.limit&&(m=function(S){let b;return b=typeof S=="object"?S.value:S,rf(b)?null:b}(t.limit));let p=null;t.startAt&&(p=function(S){const b=!!S.before,M=S.values||[];return new Uh(M,b)}(t.startAt));let g=null;return t.endAt&&(g=function(S){const b=!S.before,M=S.values||[];return new Uh(M,b)}(t.endAt)),eO(e,o,f,u,m,"F",p,g)}function VO(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function HA(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=ao(t.unaryFilter.field);return St.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ao(t.unaryFilter.field);return St.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ao(t.unaryFilter.field);return St.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ao(t.unaryFilter.field);return St.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(i):i.fieldFilter!==void 0?function(t){return St.create(ao(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return $n.create(t.compositeFilter.filters.map(s=>HA(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(t.compositeFilter.op))}(i):Se(30097,{filter:i})}function UO(i){return bO[i]}function LO(i){return wO[i]}function zO(i){return RO[i]}function so(i){return{fieldPath:i.canonicalString()}}function ao(i){return Gt.fromServerFormat(i.fieldPath)}function FA(i){return i instanceof St?function(t){if(t.op==="=="){if($0(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NAN"}};if(Y0(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($0(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NOT_NAN"}};if(Y0(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(t.field),op:LO(t.op),value:t.value}}}(i):i instanceof $n?function(t){const s=t.getFilters().map(o=>FA(o));return s.length===1?s[0]:{compositeFilter:{op:zO(t.op),filters:s}}}(i):Se(54877,{filter:i})}function BO(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function GA(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,t,s,o,u=Re.min(),f=Re.min(),m=Kt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e){this.wt=e}}function qO(i){const e=kO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?lp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(){this.yn=new FO}addToCollectionParentIndex(e,t){return this.yn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(Wr.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(Wr.min())}updateCollectionGroup(e,t,s){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class FO{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Ot(nt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ot(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},KA=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(KA,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new yo(0)}static ir(){return new yo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="LruGarbageCollector",GO=1048576;function hE([i,e],[t,s]){const o=Oe(i,t);return o===0?Oe(e,s):o}class KO{constructor(e){this.cr=e,this.buffer=new Ot(hE),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();hE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class QO{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){he(cE,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Io(t)?he(cE,"Ignoring IndexedDB error during garbage collection: ",t):await Ro(t)}await this.Ir(3e5)})}}class YO{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(nf.le);const s=new KO(t);return this.Er.forEachTarget(e,o=>s.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>s.Pr(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Er.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(uE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uE):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(e,s,t))).next(S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(g=Date.now(),io()<=ke.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function $O(i,e){return new YO(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(){this.changes=new la(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ee.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&tu(s.mutation,o,Sn.empty(),Dt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ve()){const o=$s();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let f=Yl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const s=$s();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ve()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{t.set(f,m)})})}computeViews(e,t,s,o){let u=ar();const f=eu(),m=function(){return eu()}();return t.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof os)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),tu(E.mutation,g,E.mutation.getFieldMask(),Dt.now())):f.set(g.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),t.forEach((g,E)=>{var S;return m.set(g,new WO(E,(S=f.get(g))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(e,t){const s=eu();let o=new lt((f,m)=>f-m),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let E=s.get(p)||Sn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const S=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,S=CA();E.forEach(b=>{if(!u.has(b)){const M=PA(t.get(b),s.get(b));M!==null&&S.set(b,M),u=u.add(b)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,S))}return ee.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):SA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):ee.resolve($s());let m=ou,p=u;return f.next(g=>ee.forEach(g,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next(b=>{p=p.insert(E,b)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Ve())).next(E=>({batchId:m,changes:IA(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(s=>{let o=Yl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let f=Yl();return this.indexManager.getCollectionParents(e,u).next(m=>ee.forEach(m,p=>{const g=function(S,b){return new Co(b,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((S,b)=>{f=f.insert(S,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Zt.newInvalidDocument(E)))});let m=Yl();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&tu(E.mutation,g,Sn.empty(),Dt.now()),of(t,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return ee.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Ei(o.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(o){return{name:o.name,query:qO(o.bundledQuery),readTime:Ei(o.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(){this.overlays=new lt(ye.comparator),this.Or=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const s=$s();return ee.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.St(e,t,u)}),ee.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Or.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(s)),ee.resolve()}getOverlaysForCollection(e,t,s){const o=$s(),u=t.length+1,f=new ye(t.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new lt((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=$s(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=$s(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return ee.resolve(m)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Or.get(o.largestBatchId).delete(s.key);this.Or.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new vO(t,s));let u=this.Or.get(t);u===void 0&&(u=Ve(),this.Or.set(t,u)),this.Or.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(){this.Nr=new Ot(Ut.Br),this.Lr=new Ot(Ut.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const s=new Ut(e,t);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Qr(new Ut(e,t))}$r(e,t){e.forEach(s=>this.removeReference(s,t))}Ur(e){const t=new ye(new nt([])),s=new Ut(t,e),o=new Ut(t,e+1),u=[];return this.Lr.forEachInRange([s,o],f=>{this.Qr(f),u.push(f.key)}),u}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new ye(new nt([])),s=new Ut(t,e),o=new Ut(t,e+1);let u=Ve();return this.Lr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const t=new Ut(e,0),s=this.Nr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Ut{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return ye.comparator(e.key,t.key)||Oe(e.Gr,t.Gr)}static kr(e,t){return Oe(e.Gr,t.Gr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Ot(Ut.Br)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new yO(u,t,s,o);this.mutationQueue.push(f);for(const m of o)this.zr=this.zr.add(new Ut(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,t){return ee.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Hr(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?qp:this.Jn-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ut(t,0),o=new Ut(t,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([s,o],f=>{const m=this.jr(f.Gr);u.push(m)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ot(Oe);return t.forEach(o=>{const u=new Ut(o,0),f=new Ut(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,f],m=>{s=s.add(m.Gr)})}),ee.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new Ut(new ye(u),0);let m=new Ot(Oe);return this.zr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Gr)),!0)},f),ee.resolve(this.Jr(m))}Jr(e){const t=[];return e.forEach(s=>{const o=this.jr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ge(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return ee.forEach(t.mutations,o=>{const u=new Ut(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,t){const s=new Ut(t,0),o=this.zr.firstAfterOrEqual(s);return ee.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.Zr=e,this.docs=function(){return new lt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,f=this.Zr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ee.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(t))}getEntries(e,t){let s=ar();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))}),ee.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=ar();const f=t.path,m=new ye(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||xD(ND(E),s)<=0||(o.has(E.key)||of(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Se(9500)}Xr(e,t){return ee.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new rN(this)}getSize(e){return ee.resolve(this.size)}}class rN extends XO{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.vr.addEntry(e,o)):this.vr.removeEntry(s)}),ee.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e){this.persistence=e,this.ei=new la(t=>Gp(t),Kp),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.ti=0,this.ni=new Jp,this.targetCount=0,this.ri=yo.rr()}forEachTarget(e,t){return this.ei.forEach((s,o)=>t(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.ti&&(this.ti=t),ee.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new yo(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.ar(t),ee.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.ei.forEach((f,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.ei.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const s=this.ei.get(t)||null;return ee.resolve(s)}addMatchingKeys(e,t,s){return this.ni.qr(t,s),ee.resolve()}removeMatchingKeys(e,t,s){this.ni.$r(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ni.Wr(t);return ee.resolve(s)}containsKey(e,t){return ee.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,t){this.ii={},this.overlays={},this.si=new nf(0),this.oi=!1,this.oi=!0,this._i=new tN,this.referenceDelegate=e(this),this.ai=new sN(this),this.indexManager=new HO,this.remoteDocumentCache=function(o){return new iN(o)}(s=>this.referenceDelegate.ui(s)),this.serializer=new jO(t),this.ci=new JO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new eN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ii[e.toKey()];return s||(s=new nN(t,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,s){he("MemoryPersistence","Starting transaction:",e);const o=new aN(this.si.next());return this.referenceDelegate.li(),s(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(e,t){return ee.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,t)))}}class aN extends PD{constructor(e){super(),this.currentSequenceNumber=e}}class eg{constructor(e){this.persistence=e,this.Ti=new Jp,this.Ii=null}static Ei(e){return new eg(e)}get di(){if(this.Ii)return this.Ii;throw Se(60996)}addReference(e,t,s){return this.Ti.addReference(s,t),this.di.delete(s.toString()),ee.resolve()}removeReference(e,t,s){return this.Ti.removeReference(s,t),this.di.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(o=>this.di.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.di,s=>{const o=ye.fromPath(s);return this.Ai(e,o).next(u=>{u||t.removeEntry(o,Re.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(s=>{s?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return ee.or([()=>ee.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Bh{constructor(e,t){this.persistence=e,this.Ri=new la(s=>UD(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=$O(this,t)}static Ei(e,t){return new Bh(e,t)}li(){}hi(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}Vr(e){let t=0;return this.Ar(e,s=>{t++}).next(()=>t)}Ar(e,t){return ee.forEach(this.Ri,(s,o)=>this.gr(e,s,o).next(u=>u?ee.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(e,f=>this.gr(e,f,t).next(m=>{m||(s++,u.removeEntry(f,Re.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.Ri.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,s){return this.Ri.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),ee.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=yh(e.data.value)),t}gr(e,t,s){return ee.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.Ri.get(t);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.ls=s,this.hs=o}static Ps(e,t){let s=Ve(),o=Ve();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new tg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return ER()?8:kD(Jt())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.Rs(e,t).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Vs(e,t,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new oN;return this.fs(e,t,f).next(m=>{if(u.result=m,this.Is)return this.gs(e,t,f,m.size)})}).next(()=>u.result)}gs(e,t,s,o){return s.documentReadCount<this.Es?(io()<=ke.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",ro(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ee.resolve()):(io()<=ke.DEBUG&&he("QueryEngine","Query:",ro(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(io()<=ke.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",ro(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vi(t))):ee.resolve())}Rs(e,t){if(J0(t))return ee.resolve(null);let s=vi(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=lp(t,null,"F"),s=vi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ve(...u);return this.As.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.ps(t,m);return this.ys(t,g,f,p.readTime)?this.Rs(e,lp(t,null,"F")):this.ws(e,g,t,p)}))})))}Vs(e,t,s,o){return J0(t)||o.isEqual(Re.min())?ee.resolve(null):this.As.getDocuments(e,s).next(u=>{const f=this.ps(t,u);return this.ys(t,f,s,o)?ee.resolve(null):(io()<=ke.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ro(t)),this.ws(e,f,t,OD(o,ou)).next(m=>m))})}ps(e,t){let s=new Ot(wA(e));return t.forEach((o,u)=>{of(e,u)&&(s=s.add(u))}),s}ys(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(e,t,s){return io()<=ke.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",ro(t)),this.As.getDocumentsMatchingQuery(e,t,Wr.min(),s)}ws(e,t,s,o){return this.As.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="LocalStore",uN=3e8;class cN{constructor(e,t,s,o){this.persistence=e,this.bs=t,this.serializer=o,this.Ss=new lt(Oe),this.Ds=new la(u=>Gp(u),Kp),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZO(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function hN(i,e,t,s){return new cN(i,e,t,s)}async function YA(i,e){const t=Ie(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Fs(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Ve();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Ms:g,removedBatchIds:f,addedBatchIds:m}))})})}function fN(i,e){const t=Ie(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.Cs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const S=g.batch,b=S.keys();let M=ee.resolve();return b.forEach(D=>{M=M.next(()=>E.getEntry(p,D)).next(G=>{const U=g.docVersions.get(D);Ge(U!==null,48541),G.version.compareTo(U)<0&&(S.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),E.addEntry(G)))})}),M.next(()=>m.mutationQueue.removeMutationBatch(p,S))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ve();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function $A(i){const e=Ie(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function dN(i,e){const t=Ie(i),s=e.snapshotVersion;let o=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=t.Cs.newChangeBuffer({trackRemovals:!0});o=t.Ss;const m=[];e.targetChanges.forEach((E,S)=>{const b=o.get(S);if(!b)return;m.push(t.ai.removeMatchingKeys(u,E.removedDocuments,S).next(()=>t.ai.addMatchingKeys(u,E.addedDocuments,S)));let M=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?M=M.withResumeToken(Kt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,s)),o=o.insert(S,M),function(G,U,Y){return G.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=uN?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(b,M,E)&&m.push(t.ai.updateTargetData(u,M))});let p=ar(),g=Ve();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(mN(u,f,e.documentUpdates).next(E=>{p=E.xs,g=E.Os})),!s.isEqual(Re.min())){const E=t.ai.getLastRemoteSnapshotVersion(u).next(S=>t.ai.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return ee.waitFor(m).next(()=>f.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Ss=o,u))}function mN(i,e,t){let s=Ve(),o=Ve();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=ar();return t.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):he(ng,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{xs:f,Os:o}})}function pN(i,e){const t=Ie(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=qp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function gN(i,e){const t=Ie(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.ai.getTargetData(s,e).next(u=>u?(o=u,ee.resolve(o)):t.ai.allocateTargetId(s).next(f=>(o=new Hr(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.ai.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ss.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(s.targetId,s),t.Ds.set(e,s.targetId)),s})}async function dp(i,e,t){const s=Ie(i),o=s.Ss.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Io(f))throw f;he(ng,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(o.target)}function fE(i,e,t){const s=Ie(i);let o=Re.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const S=Ie(p),b=S.Ds.get(E);return b!==void 0?ee.resolve(S.Ss.get(b)):S.ai.getTargetData(g,E)}(s,f,vi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.bs.getDocumentsMatchingQuery(f,e,t?o:Re.min(),t?u:Ve())).next(m=>(_N(s,nO(e),m),{documents:m,Ns:u})))}function _N(i,e,t){let s=i.vs.get(e)||Re.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.vs.set(e,s)}class dE{constructor(){this.activeTargetIds=lO()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yN{constructor(){this.So=new dE,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,s){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new dE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="ConnectivityMonitor";class pE{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){he(mE,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){he(mE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oh=null;function mp(){return oh===null?oh=function(){return 268435456+Math.round(2147483648*Math.random())}():oh++,"0x"+oh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="RestConnection",EN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TN{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${s}/databases/${o}`,this.qo=this.databaseId.database===kh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Qo(e,t,s,o,u){const f=mp(),m=this.$o(e,t.toUriEncodedString());he(Lm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(p,o,u),this.Ko(e,m,p,s).then(g=>(he(Lm,`Received RPC '${e}' ${f}: `,g),g),g=>{throw mo(Lm,`RPC '${e}' ${f} failed with error: `,g,"url: ",m,"request:",s),g})}Wo(e,t,s,o,u,f){return this.Qo(e,t,s,o,u)}Uo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}$o(e,t){const s=EN[e];return`${this.Lo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class SN extends TN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,s,o){const u=mp();return new Promise((f,m)=>{const p=new ZT;p.setWithCredentials(!0),p.listenOnce(JT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case _h.NO_ERROR:const E=p.getResponseJson();he(Xt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case _h.TIMEOUT:he(Xt,`RPC '${e}' ${u} timed out`),m(new fe(te.DEADLINE_EXCEEDED,"Request time out"));break;case _h.HTTP_ERROR:const S=p.getStatus();if(he(Xt,`RPC '${e}' ${u} failed with status:`,S,"response text:",p.getResponseText()),S>0){let b=p.getResponseJson();Array.isArray(b)&&(b=b[0]);const M=b==null?void 0:b.error;if(M&&M.status&&M.message){const D=function(U){const Y=U.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(Y)>=0?Y:te.UNKNOWN}(M.status);m(new fe(D,M.message))}else m(new fe(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new fe(te.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{s_:e,streamId:u,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{he(Xt,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);he(Xt,`RPC '${e}' ${u} sending request:`,o),p.send(t,"POST",g,s,15)})}a_(e,t,s){const o=mp(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=nA(),m=tA(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const E=u.join("");he(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const S=f.createWebChannel(E,p);let b=!1,M=!1;const D=new AN({Go:U=>{M?he(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(b||(he(Xt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),b=!0),he(Xt,`RPC '${e}' stream ${o} sending:`,U),S.send(U))},zo:()=>S.close()}),G=(U,Y,ie)=>{U.listen(Y,X=>{try{ie(X)}catch(oe){setTimeout(()=>{throw oe},0)}})};return G(S,Ql.EventType.OPEN,()=>{M||(he(Xt,`RPC '${e}' stream ${o} transport opened.`),D.t_())}),G(S,Ql.EventType.CLOSE,()=>{M||(M=!0,he(Xt,`RPC '${e}' stream ${o} transport closed`),D.r_())}),G(S,Ql.EventType.ERROR,U=>{M||(M=!0,mo(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),D.r_(new fe(te.UNAVAILABLE,"The operation could not be completed")))}),G(S,Ql.EventType.MESSAGE,U=>{var Y;if(!M){const ie=U.data[0];Ge(!!ie,16349);const X=ie,oe=(X==null?void 0:X.error)||((Y=X[0])===null||Y===void 0?void 0:Y.error);if(oe){he(Xt,`RPC '${e}' stream ${o} received error:`,oe);const ce=oe.status;let _e=function(R){const x=At[R];if(x!==void 0)return VA(x)}(ce),O=oe.message;_e===void 0&&(_e=te.INTERNAL,O="Unknown error status: "+ce+" with message "+oe.message),M=!0,D.r_(new fe(_e,O)),S.close()}else he(Xt,`RPC '${e}' stream ${o} received:`,ie),D.i_(ie)}}),G(m,eA.STAT_EVENT,U=>{U.stat===tp.PROXY?he(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===tp.NOPROXY&&he(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{D.n_()},0),D}}function zm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(i){return new IO(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,t,s=1e3,o=1.5,u=6e4){this.bi=e,this.timerId=t,this.u_=s,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),o=Math.max(0,t-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="PersistentStream";class WA{constructor(e,t,s,o,u,f,m,p){this.bi=e,this.R_=s,this.V_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new XA(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(sr(t.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.m_===t&&this.B_(s,o)},s=>{e(()=>{const o=new fe(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(o)})})}B_(e,t){const s=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{s(()=>this.L_(o))}),this.stream.onMessage(o=>{s(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return he(gE,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(he(gE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bN extends WA{constructor(e,t,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=OO(this.serializer,e),s=function(u){if(!("targetChange"in u))return Re.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Re.min():f.readTime?Ei(f.readTime):Re.min()}(e);return this.listener.Q_(t,s)}U_(e){const t={};t.database=fp(this.serializer),t.addTarget=function(u,f){let m;const p=f.target;if(m=ap(p)?{documents:MO(u,p)}:{query:PO(u,p).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=zA(u,f.resumeToken);const g=up(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Re.min())>0){m.readTime=zh(u,f.snapshotVersion.toTimestamp());const g=up(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=VO(this.serializer,e);s&&(t.labels=s),this.F_(t)}K_(e){const t={};t.database=fp(this.serializer),t.removeTarget=e,this.F_(t)}}class wN extends WA{constructor(e,t,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=xO(e.writeResults,e.commitTime),s=Ei(e.commitTime);return this.listener.j_(s,t)}H_(){const e={};e.database=fp(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>NO(this.serializer,s))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{}class IN extends RN{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Qo(e,cp(t,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(te.UNKNOWN,u.toString())})}Wo(e,t,s,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Wo(e,cp(t,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new fe(te.UNKNOWN,f.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class CN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(sr(t),this.ea=!1):he("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="RemoteStore";class DN{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(f=>{s.enqueueAndForget(async()=>{ua(this)&&(he(ia,"Restarting streams for network reachability change."),await async function(p){const g=Ie(p);g.aa.add(4),await Ru(g),g.la.set("Unknown"),g.aa.delete(4),await ff(g)}(this))})}),this.la=new CN(s,o)}}async function ff(i){if(ua(i))for(const e of i.ua)await e(!0)}async function Ru(i){for(const e of i.ua)await e(!1)}function ZA(i,e){const t=Ie(i);t._a.has(e.targetId)||(t._a.set(e.targetId,e),ag(t)?sg(t):Do(t).b_()&&rg(t,e))}function ig(i,e){const t=Ie(i),s=Do(t);t._a.delete(e),s.b_()&&JA(t,e),t._a.size===0&&(s.b_()?s.v_():ua(t)&&t.la.set("Unknown"))}function rg(i,e){if(i.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Do(i).U_(e)}function JA(i,e){i.ha.Ke(e),Do(i).K_(e)}function sg(i){i.ha=new SO({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i._a.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),Do(i).start(),i.la.ta()}function ag(i){return ua(i)&&!Do(i).w_()&&i._a.size>0}function ua(i){return Ie(i).aa.size===0}function eS(i){i.ha=void 0}async function ON(i){i.la.set("Online")}async function NN(i){i._a.forEach((e,t)=>{rg(i,e)})}async function xN(i,e){eS(i),ag(i)?(i.la.ia(e),sg(i)):i.la.set("Unknown")}async function MN(i,e,t){if(i.la.set("Online"),e instanceof LA&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o._a.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o._a.delete(m),o.ha.removeTarget(m))}(i,e)}catch(s){he(ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await jh(i,s)}else if(e instanceof Th?i.ha.Xe(e):e instanceof UA?i.ha.ot(e):i.ha.nt(e),!t.isEqual(Re.min()))try{const s=await $A(i.localStore);t.compareTo(s)>=0&&await function(u,f){const m=u.ha.It(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u._a.get(g);E&&u._a.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u._a.get(p);if(!E)return;u._a.set(p,E.withResumeToken(Kt.EMPTY_BYTE_STRING,E.snapshotVersion)),JA(u,p);const S=new Hr(E.target,p,g,E.sequenceNumber);rg(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(i,t)}catch(s){he(ia,"Failed to raise snapshot:",s),await jh(i,s)}}async function jh(i,e,t){if(!Io(e))throw e;i.aa.add(1),await Ru(i),i.la.set("Offline"),t||(t=()=>$A(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{he(ia,"Retrying IndexedDB access"),await t(),i.aa.delete(1),await ff(i)})}function tS(i,e){return e().catch(t=>jh(i,t,e))}async function df(i){const e=Ie(i),t=ts(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:qp;for(;PN(e);)try{const o=await pN(e.localStore,s);if(o===null){e.oa.length===0&&t.v_();break}s=o.batchId,kN(e,o)}catch(o){await jh(e,o)}nS(e)&&iS(e)}function PN(i){return ua(i)&&i.oa.length<10}function kN(i,e){i.oa.push(e);const t=ts(i);t.b_()&&t.W_&&t.G_(e.mutations)}function nS(i){return ua(i)&&!ts(i).w_()&&i.oa.length>0}function iS(i){ts(i).start()}async function VN(i){ts(i).H_()}async function UN(i){const e=ts(i);for(const t of i.oa)e.G_(t.mutations)}async function LN(i,e,t){const s=i.oa.shift(),o=Xp.from(s,e,t);await tS(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await df(i)}async function zN(i,e){e&&ts(i).W_&&await async function(s,o){if(function(f){return TO(f)&&f!==te.ABORTED}(o.code)){const u=s.oa.shift();ts(s).D_(),await tS(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await df(s)}}(i,e),nS(i)&&iS(i)}async function _E(i,e){const t=Ie(i);t.asyncQueue.verifyOperationInProgress(),he(ia,"RemoteStore received new credentials");const s=ua(t);t.aa.add(3),await Ru(t),s&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await ff(t)}async function BN(i,e){const t=Ie(i);e?(t.aa.delete(2),await ff(t)):e||(t.aa.add(2),await Ru(t),t.la.set("Unknown"))}function Do(i){return i.Pa||(i.Pa=function(t,s,o){const u=Ie(t);return u.Y_(),new bN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:ON.bind(null,i),Jo:NN.bind(null,i),Zo:xN.bind(null,i),Q_:MN.bind(null,i)}),i.ua.push(async e=>{e?(i.Pa.D_(),ag(i)?sg(i):i.la.set("Unknown")):(await i.Pa.stop(),eS(i))})),i.Pa}function ts(i){return i.Ta||(i.Ta=function(t,s,o){const u=Ie(t);return u.Y_(),new wN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:()=>Promise.resolve(),Jo:VN.bind(null,i),Zo:zN.bind(null,i),z_:UN.bind(null,i),j_:LN.bind(null,i)}),i.ua.push(async e=>{e?(i.Ta.D_(),await df(i)):(await i.Ta.stop(),i.oa.length>0&&(he(ia,`Stopping write stream with ${i.oa.length} pending writes`),i.oa=[]))})),i.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const f=Date.now()+s,m=new og(e,t,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lg(i,e){if(sr("AsyncQueue",`${e}: ${i}`),Io(i))return new fe(te.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{static emptySet(e){return new fo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ye.comparator(t.key,s.key):(t,s)=>ye.comparator(t.key,s.key),this.keyedMap=Yl(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof fo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new fo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this.Ia=new lt(ye.comparator)}track(e){const t=e.doc.key,s=this.Ia.get(t);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(t):e.type===1&&s.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Se(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,s)=>{e.push(s)}),e}}class vo{constructor(e,t,s,o,u,f,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const f=[];return t.forEach(m=>{f.push({type:0,doc:m})}),new vo(e,t,fo.emptySet(t),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class qN{constructor(){this.queries=vE(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,s){const o=Ie(t),u=o.queries;o.queries=vE(),u.forEach((f,m)=>{for(const p of m.Ra)p.onError(s)})})(this,new fe(te.ABORTED,"Firestore shutting down"))}}function vE(){return new la(i=>bA(i),af)}async function rS(i,e){const t=Ie(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.Va()&&e.ma()&&(s=2):(u=new jN,s=e.ma()?0:1);try{switch(s){case 0:u.Aa=await t.onListen(o,!0);break;case 1:u.Aa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(f){const m=lg(f,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.Ra.push(e),e.ga(t.onlineState),u.Aa&&e.pa(u.Aa)&&ug(t)}async function sS(i,e){const t=Ie(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const f=u.Ra.indexOf(e);f>=0&&(u.Ra.splice(f,1),u.Ra.length===0?o=e.ma()?0:1:!u.Va()&&e.ma()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function HN(i,e){const t=Ie(i);let s=!1;for(const o of e){const u=o.query,f=t.queries.get(u);if(f){for(const m of f.Ra)m.pa(o)&&(s=!0);f.Aa=o}}s&&ug(t)}function FN(i,e,t){const s=Ie(i),o=s.queries.get(e);if(o)for(const u of o.Ra)u.onError(t);s.queries.delete(e)}function ug(i){i.fa.forEach(e=>{e.next()})}var pp,EE;(EE=pp||(pp={})).ya="default",EE.Cache="cache";class aS{constructor(e,t,s){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new vo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const s=t!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==pp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.key=e}}class lS{constructor(e){this.key=e}}class GN{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Ve(),this.mutatedKeys=Ve(),this.Ua=wA(e),this.Ka=new fo(this.Ua)}get Wa(){return this.qa}Ga(e,t){const s=t?t.za:new yE,o=t?t.Ka:this.Ka;let u=t?t.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const b=o.get(E),M=of(this.query,S)?S:null,D=!!b&&this.mutatedKeys.has(b.key),G=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let U=!1;b&&M?b.data.isEqual(M.data)?D!==G&&(s.track({type:3,doc:M}),U=!0):this.ja(b,M)||(s.track({type:2,doc:M}),U=!0,(p&&this.Ua(M,p)>0||g&&this.Ua(M,g)<0)&&(m=!0)):!b&&M?(s.track({type:0,doc:M}),U=!0):b&&!M&&(s.track({type:1,doc:b}),U=!0,(p||g)&&(m=!0)),U&&(M?(f=f.add(M),u=G?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Ka:f,za:s,ys:m,mutatedKeys:u}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const f=e.za.da();f.sort((E,S)=>function(M,D){const G=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Vt:U})}};return G(M)-G(D)}(E.type,S.type)||this.Ua(E.doc,S.doc)),this.Ha(s),o=o!=null&&o;const m=t&&!o?this.Ja():[],p=this.$a.size===0&&this.current&&!o?1:0,g=p!==this.Qa;return this.Qa=p,f.length!==0||g?{snapshot:new vo(this.query,e.Ka,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:m}:{Ya:m}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new yE,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Ve(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const t=[];return e.forEach(s=>{this.$a.has(s)||t.push(new lS(s))}),this.$a.forEach(s=>{e.has(s)||t.push(new oS(s))}),t}Xa(e){this.qa=e.Ns,this.$a=Ve();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return vo.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const cg="SyncEngine";class KN{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class QN{constructor(e){this.key=e,this.tu=!1}}class YN{constructor(e,t,s,o,u,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.nu={},this.ru=new la(m=>bA(m),af),this.iu=new Map,this.su=new Set,this.ou=new lt(ye.comparator),this._u=new Map,this.au=new Jp,this.uu={},this.cu=new Map,this.lu=yo.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function $N(i,e,t=!0){const s=mS(i);let o;const u=s.ru.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await uS(s,e,t,!0),o}async function XN(i,e){const t=mS(i);await uS(t,e,!0,!1)}async function uS(i,e,t,s){const o=await gN(i.localStore,vi(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await WN(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&t&&ZA(i.remoteStore,o),m}async function WN(i,e,t,s,o){i.Pu=(S,b,M)=>async function(G,U,Y,ie){let X=U.view.Ga(Y);X.ys&&(X=await fE(G.localStore,U.query,!1).then(({documents:O})=>U.view.Ga(O,X)));const oe=ie&&ie.targetChanges.get(U.targetId),ce=ie&&ie.targetMismatches.get(U.targetId)!=null,_e=U.view.applyChanges(X,G.isPrimaryClient,oe,ce);return AE(G,U.targetId,_e.Ya),_e.snapshot}(i,S,b,M);const u=await fE(i.localStore,e,!0),f=new GN(e,u.Ns),m=f.Ga(u.documents),p=wu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);AE(i,t,g.Ya);const E=new KN(e,t,f);return i.ru.set(e,E),i.iu.has(t)?i.iu.get(t).push(e):i.iu.set(t,[e]),g.snapshot}async function ZN(i,e,t){const s=Ie(i),o=s.ru.get(e),u=s.iu.get(o.targetId);if(u.length>1)return s.iu.set(o.targetId,u.filter(f=>!af(f,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await dp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&ig(s.remoteStore,o.targetId),gp(s,o.targetId)}).catch(Ro)):(gp(s,o.targetId),await dp(s.localStore,o.targetId,!0))}async function JN(i,e){const t=Ie(i),s=t.ru.get(e),o=t.iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),ig(t.remoteStore,s.targetId))}async function e4(i,e,t){const s=o4(i);try{const o=await function(f,m){const p=Ie(f),g=Dt.now(),E=m.reduce((M,D)=>M.add(D.key),Ve());let S,b;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>{let D=ar(),G=Ve();return p.Cs.getEntries(M,E).next(U=>{D=U,D.forEach((Y,ie)=>{ie.isValidDocument()||(G=G.add(Y))})}).next(()=>p.localDocuments.getOverlayedDocuments(M,D)).next(U=>{S=U;const Y=[];for(const ie of m){const X=gO(ie,S.get(ie.key).overlayedDocument);X!=null&&Y.push(new os(ie.key,X,gA(X.value.mapValue),Kn.exists(!0)))}return p.mutationQueue.addMutationBatch(M,g,Y,m)}).next(U=>{b=U;const Y=U.applyToLocalDocumentSet(S,G);return p.documentOverlayCache.saveOverlays(M,U.batchId,Y)})}).then(()=>({batchId:b.batchId,changes:IA(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.uu[f.currentUser.toKey()];g||(g=new lt(Oe)),g=g.insert(m,p),f.uu[f.currentUser.toKey()]=g}(s,o.batchId,t),await Iu(s,o.changes),await df(s.remoteStore)}catch(o){const u=lg(o,"Failed to persist write");t.reject(u)}}async function cS(i,e){const t=Ie(i);try{const s=await dN(t.localStore,e);e.targetChanges.forEach((o,u)=>{const f=t._u.get(u);f&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.tu=!0:o.modifiedDocuments.size>0?Ge(f.tu,14607):o.removedDocuments.size>0&&(Ge(f.tu,42227),f.tu=!1))}),await Iu(t,s,e)}catch(s){await Ro(s)}}function TE(i,e,t){const s=Ie(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ru.forEach((u,f)=>{const m=f.view.ga(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ie(f);p.onlineState=m;let g=!1;p.queries.forEach((E,S)=>{for(const b of S.Ra)b.ga(m)&&(g=!0)}),g&&ug(p)}(s.eventManager,e),o.length&&s.nu.Q_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function t4(i,e,t){const s=Ie(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s._u.get(e),u=o&&o.key;if(u){let f=new lt(ye.comparator);f=f.insert(u,Zt.newNoDocument(u,Re.min()));const m=Ve().add(u),p=new cf(Re.min(),new Map,new lt(Oe),f,m);await cS(s,p),s.ou=s.ou.remove(u),s._u.delete(e),hg(s)}else await dp(s.localStore,e,!1).then(()=>gp(s,e,t)).catch(Ro)}async function n4(i,e){const t=Ie(i),s=e.batch.batchId;try{const o=await fN(t.localStore,e);fS(t,s,null),hS(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Iu(t,o)}catch(o){await Ro(o)}}async function i4(i,e,t){const s=Ie(i);try{const o=await function(f,m){const p=Ie(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(S=>(Ge(S!==null,37113),E=S.keys(),p.mutationQueue.removeMutationBatch(g,S))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);fS(s,e,t),hS(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Iu(s,o)}catch(o){await Ro(o)}}function hS(i,e){(i.cu.get(e)||[]).forEach(t=>{t.resolve()}),i.cu.delete(e)}function fS(i,e,t){const s=Ie(i);let o=s.uu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.uu[s.currentUser.toKey()]=o}}function gp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.iu.get(e))i.ru.delete(s),t&&i.nu.Tu(s,t);i.iu.delete(e),i.isPrimaryClient&&i.au.Ur(e).forEach(s=>{i.au.containsKey(s)||dS(i,s)})}function dS(i,e){i.su.delete(e.path.canonicalString());const t=i.ou.get(e);t!==null&&(ig(i.remoteStore,t),i.ou=i.ou.remove(e),i._u.delete(t),hg(i))}function AE(i,e,t){for(const s of t)s instanceof oS?(i.au.addReference(s.key,e),r4(i,s)):s instanceof lS?(he(cg,"Document no longer in limbo: "+s.key),i.au.removeReference(s.key,e),i.au.containsKey(s.key)||dS(i,s.key)):Se(19791,{Iu:s})}function r4(i,e){const t=e.key,s=t.path.canonicalString();i.ou.get(t)||i.su.has(s)||(he(cg,"New document in limbo: "+t),i.su.add(s),hg(i))}function hg(i){for(;i.su.size>0&&i.ou.size<i.maxConcurrentLimboResolutions;){const e=i.su.values().next().value;i.su.delete(e);const t=new ye(nt.fromString(e)),s=i.lu.next();i._u.set(s,new QN(t)),i.ou=i.ou.insert(t,s),ZA(i.remoteStore,new Hr(vi(Qp(t.path)),s,"TargetPurposeLimboResolution",nf.le))}}async function Iu(i,e,t){const s=Ie(i),o=[],u=[],f=[];s.ru.isEmpty()||(s.ru.forEach((m,p)=>{f.push(s.Pu(p,e,t).then(g=>{var E;if((g||t)&&s.isPrimaryClient){const S=g?!g.fromCache:(E=t==null?void 0:t.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(g){o.push(g);const S=tg.Ps(p.targetId,g);u.push(S)}}))}),await Promise.all(f),s.nu.Q_(o),await async function(p,g){const E=Ie(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ee.forEach(g,b=>ee.forEach(b.ls,M=>E.persistence.referenceDelegate.addReference(S,b.targetId,M)).next(()=>ee.forEach(b.hs,M=>E.persistence.referenceDelegate.removeReference(S,b.targetId,M)))))}catch(S){if(!Io(S))throw S;he(ng,"Failed to update sequence numbers: "+S)}for(const S of g){const b=S.targetId;if(!S.fromCache){const M=E.Ss.get(b),D=M.snapshotVersion,G=M.withLastLimboFreeSnapshotVersion(D);E.Ss=E.Ss.insert(b,G)}}}(s.localStore,u))}async function s4(i,e){const t=Ie(i);if(!t.currentUser.isEqual(e)){he(cg,"User change. New user:",e.toKey());const s=await YA(t.localStore,e);t.currentUser=e,function(u,f){u.cu.forEach(m=>{m.forEach(p=>{p.reject(new fe(te.CANCELLED,f))})}),u.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Iu(t,s.Ms)}}function a4(i,e){const t=Ie(i),s=t._u.get(e);if(s&&s.tu)return Ve().add(s.key);{let o=Ve();const u=t.iu.get(e);if(!u)return o;for(const f of u){const m=t.ru.get(f);o=o.unionWith(m.view.Wa)}return o}}function mS(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=cS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=a4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=t4.bind(null,e),e.nu.Q_=HN.bind(null,e.eventManager),e.nu.Tu=FN.bind(null,e.eventManager),e}function o4(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=n4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=i4.bind(null,e),e}class qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hf(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return hN(this.persistence,new lN,e.initialUser,this.serializer)}Ru(e){return new QA(eg.Ei,this.serializer)}Au(e){return new yN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qh.provider={build:()=>new qh};class l4 extends qh{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Ge(this.persistence.referenceDelegate instanceof Bh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new QO(s,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new QA(s=>Bh.Ei(s,t),this.serializer)}}class _p{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>TE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=s4.bind(null,this.syncEngine),await BN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new qN}()}createDatastore(e){const t=hf(e.databaseInfo.databaseId),s=function(u){return new SN(u)}(e.databaseInfo);return function(u,f,m,p){return new IN(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,f,m){return new DN(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,t=>TE(this.syncEngine,t,0),function(){return pE.C()?new pE:new vN}())}createSyncEngine(e,t){return function(o,u,f,m,p,g,E){const S=new YN(o,u,f,m,p,g);return E&&(S.hu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Ie(o);he(ia,"RemoteStore shutting down."),u.aa.add(5),await Ru(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}_p.provider={build:()=>new _p};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):sr("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="FirestoreClient";class u4{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=aA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{he(ns,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(he(ns,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=lg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Bm(i,e){i.asyncQueue.verifyOperationInProgress(),he(ns,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await YA(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function SE(i,e){i.asyncQueue.verifyOperationInProgress();const t=await c4(i);he(ns,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>_E(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>_E(e.remoteStore,o)),i._onlineComponents=e}async function c4(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){he(ns,"Using user provided OfflineComponentProvider");try{await Bm(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;mo("Error using user provided cache. Falling back to memory cache: "+t),await Bm(i,new qh)}}else he(ns,"Using default OfflineComponentProvider"),await Bm(i,new l4(void 0));return i._offlineComponents}async function gS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(he(ns,"Using user provided OnlineComponentProvider"),await SE(i,i._uninitializedComponentsProvider._online)):(he(ns,"Using default OnlineComponentProvider"),await SE(i,new _p))),i._onlineComponents}function h4(i){return gS(i).then(e=>e.syncEngine)}async function yp(i){const e=await gS(i),t=e.eventManager;return t.onListen=$N.bind(null,e.syncEngine),t.onUnlisten=ZN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=XN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=JN.bind(null,e.syncEngine),t}function f4(i,e,t={}){const s=new Qr;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new pS({next:b=>{E.yu(),f.enqueueAndForget(()=>sS(u,S)),b.fromCache&&p.source==="server"?g.reject(new fe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),S=new aS(m,E,{includeMetadataChanges:!0,Fa:!0});return rS(u,S)}(await yp(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(i,e,t){if(!t)throw new fe(te.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function d4(i,e,t,s){if(e===!0&&s===!0)throw new fe(te.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function wE(i){if(!ye.isDocumentKey(i))throw new fe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function RE(i){if(ye.isDocumentKey(i))throw new fe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function mf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se(12329,{type:typeof i})}function Ti(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new fe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=mf(i);throw new fe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="firestore.googleapis.com",IE=!0;class CE{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vS,this.ssl=IE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:IE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=KA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GO)throw new fe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}d4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_S((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new TD;switch(s.type){case"firstParty":return new wD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=bE.get(t);s&&(he("ComponentProvider","Removing Datastore"),bE.delete(t),s.terminate())}(this),Promise.resolve()}}function m4(i,e,t,s={}){var o;const u=(i=Ti(i,pf))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${t}`;u.host!==vS&&u.host!==m&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Zs(p,f)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Wt.MOCK_USER;else{g=lT(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new fe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Wt(S)}i._authCredentials=new AD(new rA(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ls(this.firestore,e,this._query)}}class fn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class Yr extends ls{constructor(e,t,s){super(e,t,Qp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new ye(e))}withConverter(e){return new Yr(this.firestore,e,this._path)}}function pu(i,e,...t){if(i=dt(i),yS("collection","path",e),i instanceof pf){const s=nt.fromString(e,...t);return RE(s),new Yr(i,null,s)}{if(!(i instanceof fn||i instanceof Yr))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(nt.fromString(e,...t));return RE(s),new Yr(i.firestore,null,s)}}function Hh(i,e,...t){if(i=dt(i),arguments.length===1&&(e=aA.newId()),yS("doc","path",e),i instanceof pf){const s=nt.fromString(e,...t);return wE(s),new fn(i,null,new ye(s))}{if(!(i instanceof fn||i instanceof Yr))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(nt.fromString(e,...t));return wE(s),new fn(i.firestore,i instanceof Yr?i.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="AsyncQueue";class OE{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new XA(this,"async_queue_retry"),this.ju=()=>{const s=zm();s&&he(DE,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const t=zm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=zm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Qr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Io(e))throw e;he(DE,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,sr("INTERNAL UNHANDLED ERROR: ",NE(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=t,t}enqueueAfterDelay(e,t,s){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const o=og.createAndSchedule(this,e,t,s,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&Se(47125,{ec:NE(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function NE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(i){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class ra extends pf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new OE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new OE(e),this._firestoreClient=void 0,await e}}}function p4(i,e){const t=typeof i=="object"?i:Np(),s=typeof i=="string"?i:kh,o=Wh(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=sT("firestore");u&&m4(o,...u)}return o}function fg(i){if(i._terminated)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||g4(i),i._firestoreClient}function g4(i){var e,t,s;const o=i._freezeSettings(),u=function(m,p,g,E){return new BD(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,_S(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new u4(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Eo(Kt.fromBase64String(e))}catch(t){throw new fe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Eo(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=/^__.*__$/;class y4{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new os(e,this.data,this.fieldMask,t,this.fieldTransforms):new bu(e,this.data,t,this.fieldTransforms)}}class ES{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new os(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function TS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{oc:i})}}class pg{constructor(e,t,s,o,u,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new pg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ac({path:s,cc:!1});return o.lc(e),o}hc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ac({path:s,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Fh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(TS(this.oc)&&_4.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class v4{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||hf(e)}dc(e,t,s,o=!1){return new pg({oc:e,methodName:t,Ec:s,path:Gt.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gg(i){const e=i._freezeSettings(),t=hf(i._databaseId);return new v4(i._databaseId,!!e.ignoreUndefinedProperties,t)}function E4(i,e,t,s,o,u={}){const f=i.dc(u.merge||u.mergeFields?2:0,e,t,o);yg("Data must be an object, but it was:",f,s);const m=AS(s,f);let p,g;if(u.merge)p=new Sn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const b=vp(e,S,t);if(!f.contains(b))throw new fe(te.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);bS(E,b)||E.push(b)}p=new Sn(E),g=f.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,g=f.fieldTransforms;return new y4(new hn(m),p,g)}class yf extends _f{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yf}}class _g extends _f{_toFieldTransform(e){return new fO(e.path,new fu)}isEqual(e){return e instanceof _g}}function T4(i,e,t,s){const o=i.dc(1,e,t);yg("Data must be an object, but it was:",o,s);const u=[],f=hn.empty();as(s,(p,g)=>{const E=vg(e,p,t);g=dt(g);const S=o.hc(E);if(g instanceof yf)u.push(E);else{const b=Cu(g,S);b!=null&&(u.push(E),f.set(E,b))}});const m=new Sn(u);return new ES(f,m,o.fieldTransforms)}function A4(i,e,t,s,o,u){const f=i.dc(1,e,t),m=[vp(e,s,t)],p=[o];if(u.length%2!=0)throw new fe(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(vp(e,u[b])),p.push(u[b+1]);const g=[],E=hn.empty();for(let b=m.length-1;b>=0;--b)if(!bS(g,m[b])){const M=m[b];let D=p[b];D=dt(D);const G=f.hc(M);if(D instanceof yf)g.push(M);else{const U=Cu(D,G);U!=null&&(g.push(M),E.set(M,U))}}const S=new Sn(g);return new ES(E,S,f.fieldTransforms)}function S4(i,e,t,s=!1){return Cu(t,i.dc(s?4:3,e))}function Cu(i,e){if(SS(i=dt(i)))return yg("Unsupported field value:",e,i),AS(i,e);if(i instanceof _f)return function(s,o){if(!TS(o.oc))throw o.Tc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Cu(m,o.Pc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=dt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return uO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Dt.fromDate(s);return{timestampValue:zh(o.serializer,u)}}if(s instanceof Dt){const u=new Dt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:zh(o.serializer,u)}}if(s instanceof dg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Eo)return{bytesValue:zA(o.serializer,s._byteString)};if(s instanceof fn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Tc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Zp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof mg)return function(f,m){return{mapValue:{fields:{[mA]:{stringValue:pA},[Vh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Tc("VectorValues must only contain numeric values.");return Yp(m.serializer,g)})}}}}}}(s,o);throw o.Tc(`Unsupported field value: ${mf(s)}`)}(i,e)}function AS(i,e){const t={};return lA(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):as(i,(s,o)=>{const u=Cu(o,e.uc(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function SS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Dt||i instanceof dg||i instanceof Eo||i instanceof fn||i instanceof _f||i instanceof mg)}function yg(i,e,t){if(!SS(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=mf(t);throw s==="an object"?e.Tc(i+" a custom object"):e.Tc(i+" "+s)}}function vp(i,e,t){if((e=dt(e))instanceof gf)return e._internalPath;if(typeof e=="string")return vg(i,e);throw Fh("Field path arguments must be of type string or ",i,!1,void 0,t)}const b4=new RegExp("[~\\*/\\[\\]]");function vg(i,e,t){if(e.search(b4)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new gf(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Fh(i,e,t,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new fe(te.INVALID_ARGUMENT,m+i+p)}function bS(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new w4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class w4 extends wS{data(){return super.data()}}function vf(i,e){return typeof e=="string"?vg(i,e):e instanceof gf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new fe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Eg{}class IS extends Eg{}function Qs(i,e,...t){let s=[];e instanceof Eg&&s.push(e),s=s.concat(t),function(u){const f=u.filter(p=>p instanceof Tg).length,m=u.filter(p=>p instanceof Ef).length;if(f>1||f>0&&m>0)throw new fe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class Ef extends IS{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Ef(e,t,s)}_apply(e){const t=this._parse(e);return CS(e._query,t),new ls(e.firestore,e.converter,op(e._query,t))}_parse(e){const t=gg(e.firestore);return function(u,f,m,p,g,E,S){let b;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new fe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){PE(S,E);const D=[];for(const G of S)D.push(ME(p,u,G));b={arrayValue:{values:D}}}else b=ME(p,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||PE(S,E),b=S4(m,f,S,E==="in"||E==="not-in");return St.create(g,E,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Ht(i,e,t){const s=e,o=vf("where",i);return Ef._create(o,s,t)}class Tg extends Eg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Tg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:$n.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)CS(f,p),f=op(f,p)}(e._query,t),new ls(e.firestore,e.converter,op(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ag extends IS{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ag(e,t)}_apply(e){const t=function(o,u,f){if(o.startAt!==null)throw new fe(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new fe(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hu(u,f)}(e._query,this._field,this._direction);return new ls(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new Co(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Hl(i,e="asc"){const t=e,s=vf("orderBy",i);return Ag._create(s,t)}function ME(i,e,t){if(typeof(t=dt(t))=="string"){if(t==="")throw new fe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SA(e)&&t.indexOf("/")!==-1)throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(nt.fromString(t));if(!ye.isDocumentKey(s))throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Q0(i,new ye(s))}if(t instanceof fn)return Q0(i,t._key);throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mf(t)}.`)}function PE(i,e){if(!Array.isArray(i)||i.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CS(i,e){const t=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class R4{convertValue(e,t="none"){switch(es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return as(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Vh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>_t(f.doubleValue));return new mg(u)}convertGeoPoint(e){return new dg(_t(e.latitude),_t(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=sf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(lu(e));default:return null}}convertTimestamp(e){const t=Zr(e);return new Dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=nt.fromString(e);Ge(GA(s),9688,{name:e});const o=new uu(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(t)||sr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(i,e,t){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class DS extends wS{constructor(e,t,s,o,u,f){super(e,t,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(vf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Ah extends DS{data(e={}){return super.data(e)}}class OS{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Xl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Ah(this._firestore,this._userDataWriter,s.key,s,new Xl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new Ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Xl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Xl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:C4(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function C4(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:i})}}class Sg extends R4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Eo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,t)}}function D4(i){i=Ti(i,ls);const e=Ti(i.firestore,ra),t=fg(e),s=new Sg(e);return RS(i._query),f4(t,i._query).then(o=>new OS(e,s,i,o))}function Ys(i,e,t,...s){i=Ti(i,fn);const o=Ti(i.firestore,ra),u=gg(o);let f;return f=typeof(e=dt(e))=="string"||e instanceof gf?A4(u,"updateDoc",i._key,e,t,s):T4(u,"updateDoc",i._key,e),bg(o,[f.toMutation(i._key,Kn.exists(!0))])}function O4(i){return bg(Ti(i.firestore,ra),[new $p(i._key,Kn.none())])}function NS(i,e){const t=Ti(i.firestore,ra),s=Hh(i),o=I4(i.converter,e);return bg(t,[E4(gg(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Kn.exists(!1))]).then(()=>s)}function xS(i,...e){var t,s,o;i=dt(i);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||xE(e[f])||(u=e[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(xE(e[f])){const S=e[f];e[f]=(t=S.next)===null||t===void 0?void 0:t.bind(S),e[f+1]=(s=S.error)===null||s===void 0?void 0:s.bind(S),e[f+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let p,g,E;if(i instanceof fn)g=Ti(i.firestore,ra),E=Qp(i._key.path),p={next:S=>{e[f]&&e[f](N4(g,i,S))},error:e[f+1],complete:e[f+2]};else{const S=Ti(i,ls);g=Ti(S.firestore,ra),E=S._query;const b=new Sg(g);p={next:M=>{e[f]&&e[f](new OS(g,b,S,M))},error:e[f+1],complete:e[f+2]},RS(i._query)}return function(b,M,D,G){const U=new pS(G),Y=new aS(M,U,D);return b.asyncQueue.enqueueAndForget(async()=>rS(await yp(b),Y)),()=>{U.yu(),b.asyncQueue.enqueueAndForget(async()=>sS(await yp(b),Y))}}(fg(g),E,m,p)}function bg(i,e){return function(s,o){const u=new Qr;return s.asyncQueue.enqueueAndForget(async()=>e4(await h4(s),o,u)),u.promise}(fg(i),e)}function N4(i,e,t){const s=t.docs.get(e._key),o=new Sg(i);return new DS(i,o,e._key,s,new Xl(t.hasPendingWrites,t.fromCache),e.converter)}function MS(){return new _g("serverTimestamp")}(function(e,t=!0){(function(o){wo=o})(aa),Js(new Xr("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ra(new SD(s.getProvider("auth-internal")),new RD(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),gi(k0,V0,e),gi(k0,V0,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="firebasestorage.googleapis.com",kS="storageBucket",x4=2*60*1e3,M4=10*60*1e3,P4=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut extends bi{constructor(e,t,s=0){super(jm(e),`Firebase Storage: ${t} (${jm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ut.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return jm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var it;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(it||(it={}));function jm(i){return"storage/"+i}function wg(){const i="An unknown error occurred, please check the error payload for server response.";return new ut(it.UNKNOWN,i)}function k4(i){return new ut(it.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function V4(i){return new ut(it.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function U4(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ut(it.UNAUTHENTICATED,i)}function L4(){return new ut(it.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function z4(i){return new ut(it.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function VS(){return new ut(it.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function US(){return new ut(it.CANCELED,"User canceled the upload/download.")}function B4(i){return new ut(it.INVALID_URL,"Invalid URL '"+i+"'.")}function j4(i){return new ut(it.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function q4(){return new ut(it.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+kS+"' property when initializing the app?")}function LS(){return new ut(it.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function H4(){return new ut(it.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function F4(){return new ut(it.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function G4(i){return new ut(it.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ep(i){return new ut(it.INVALID_ARGUMENT,i)}function zS(){return new ut(it.APP_DELETED,"The Firebase app was deleted.")}function K4(i){return new ut(it.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function nu(i,e){return new ut(it.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Fl(i){throw new ut(it.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=bn.makeFromUrl(e,t)}catch{return new bn(e,"")}if(s.path==="")return s;throw j4(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),p={bucket:1,path:3};function g(oe){oe.path_=decodeURIComponent(oe.path)}const E="v[A-Za-z0-9_]+",S=t.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",M=new RegExp(`^https?://${S}/${E}/b/${o}/o${b}`,"i"),D={bucket:1,path:3},G=t===PS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,U="([^?#]*)",Y=new RegExp(`^https?://${G}/${o}/${U}`,"i"),X=[{regex:m,indices:p,postModify:u},{regex:M,indices:D,postModify:g},{regex:Y,indices:{bucket:1,path:2},postModify:g}];for(let oe=0;oe<X.length;oe++){const ce=X[oe],_e=ce.regex.exec(e);if(_e){const O=_e[ce.indices.bucket];let w=_e[ce.indices.path];w||(w=""),s=new bn(O,w),ce.postModify(s);break}}if(s==null)throw B4(e);return s}}class Q4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(i,e,t){let s=1,o=null,u=null,f=!1,m=0;function p(){return m===2}let g=!1;function E(...U){g||(g=!0,e.apply(null,U))}function S(U){o=setTimeout(()=>{o=null,i(M,p())},U)}function b(){u&&clearTimeout(u)}function M(U,...Y){if(g){b();return}if(U){b(),E.call(null,U,...Y);return}if(p()||f){b(),E.call(null,U,...Y);return}s<64&&(s*=2);let X;m===1?(m=2,X=0):X=(s+Math.random())*1e3,S(X)}let D=!1;function G(U){D||(D=!0,b(),!g&&(o!==null?(U||(m=2),clearTimeout(o),S(0)):U||(m=1)))}return S(0),u=setTimeout(()=>{f=!0,G(!0)},t),G}function $4(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(i){return i!==void 0}function W4(i){return typeof i=="function"}function Z4(i){return typeof i=="object"&&!Array.isArray(i)}function Tf(i){return typeof i=="string"||i instanceof String}function kE(i){return Rg()&&i instanceof Blob}function Rg(){return typeof Blob<"u"}function VE(i,e,t,s){if(s<e)throw Ep(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw Ep(`Invalid value for '${i}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(i,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${i}`}function BS(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Ws;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Ws||(Ws={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,t,s,o,u,f,m,p,g,E,S,b=!0){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=S,this.retry=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,D)=>{this.resolve_=M,this.reject_=D,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new lh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===Ws.NO_ERROR,p=u.getStatus();if(!m||jS(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===Ws.ABORT;s(!1,new lh(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new lh(g,u))})},t=(s,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());X4(p)?u(p):u()}catch(p){f(p)}else if(m!==null){const p=wg();p.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,p)):f(p)}else if(o.canceled){const p=this.appDelete_?zS():US();f(p)}else{const p=VS();f(p)}};this.canceled_?t(!1,new lh(!1,null,!0)):this.backoffId_=Y4(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&$4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class lh{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function ex(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function tx(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function nx(i,e){e&&(i["X-Firebase-GMPID"]=e)}function ix(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function rx(i,e,t,s,o,u,f=!0){const m=BS(i.urlParams),p=i.url+m,g=Object.assign({},i.headers);return nx(g,e),ex(g,t),tx(g,u),ix(g,s),new J4(p,i.method,g,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function ax(...i){const e=sx();if(e!==void 0){const t=new e;for(let s=0;s<i.length;s++)t.append(i[s]);return t.getBlob()}else{if(Rg())return new Blob(i);throw new ut(it.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function ox(i,e,t){return i.webkitSlice?i.webkitSlice(e,t):i.mozSlice?i.mozSlice(e,t):i.slice?i.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(i){if(typeof atob>"u")throw G4("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class qm{constructor(e,t){this.data=e,this.contentType=t||null}}function ux(i,e){switch(i){case pi.RAW:return new qm(qS(e));case pi.BASE64:case pi.BASE64URL:return new qm(HS(i,e));case pi.DATA_URL:return new qm(hx(e),fx(e))}throw wg()}function qS(i){const e=[];for(let t=0;t<i.length;t++){let s=i.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<i.length-1&&(i.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const u=s,f=i.charCodeAt(++t);s=65536|(u&1023)<<10|f&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function cx(i){let e;try{e=decodeURIComponent(i)}catch{throw nu(pi.DATA_URL,"Malformed data URL.")}return qS(e)}function HS(i,e){switch(i){case pi.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw nu(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case pi.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw nu(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=lx(e)}catch(o){throw o.message.includes("polyfill")?o:nu(i,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class FS{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw nu(pi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=dx(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function hx(i){const e=new FS(i);return e.base64?HS(pi.BASE64,e.rest):cx(e.rest)}function fx(i){return new FS(i).contentType}function dx(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,t){let s=0,o="";kE(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(kE(this.data_)){const s=this.data_,o=ox(s,e,t);return o===null?null:new qr(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new qr(s,!0)}}static getBlob(...e){if(Rg()){const t=e.map(s=>s instanceof qr?s.data_:s);return new qr(ax.apply(null,t))}else{const t=e.map(f=>Tf(f)?ux(pi.RAW,f).data:f.data_);let s=0;t.forEach(f=>{s+=f.byteLength});const o=new Uint8Array(s);let u=0;return t.forEach(f=>{for(let m=0;m<f.length;m++)o[u++]=f[m]}),new qr(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(i){let e;try{e=JSON.parse(i)}catch{return null}return Z4(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function px(i,e){const t=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?t:i+"/"+t}function KS(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(i,e){return e}class sn{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||gx}}let uh=null;function _x(i){return!Tf(i)||i.length<2?i:KS(i)}function QS(){if(uh)return uh;const i=[];i.push(new sn("bucket")),i.push(new sn("generation")),i.push(new sn("metageneration")),i.push(new sn("name","fullPath",!0));function e(u,f){return _x(f)}const t=new sn("name");t.xform=e,i.push(t);function s(u,f){return f!==void 0?Number(f):f}const o=new sn("size");return o.xform=s,i.push(o),i.push(new sn("timeCreated")),i.push(new sn("updated")),i.push(new sn("md5Hash",null,!0)),i.push(new sn("cacheControl",null,!0)),i.push(new sn("contentDisposition",null,!0)),i.push(new sn("contentEncoding",null,!0)),i.push(new sn("contentLanguage",null,!0)),i.push(new sn("contentType",null,!0)),i.push(new sn("metadata","customMetadata",!0)),uh=i,uh}function yx(i,e){function t(){const s=i.bucket,o=i.fullPath,u=new bn(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:t})}function vx(i,e,t){const s={};s.type="file";const o=t.length;for(let u=0;u<o;u++){const f=t[u];s[f.local]=f.xform(s,e[f.server])}return yx(s,i),s}function YS(i,e,t){const s=GS(e);return s===null?null:vx(i,s,t)}function Ex(i,e,t,s){const o=GS(e);if(o===null||!Tf(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const f=encodeURIComponent;return u.split(",").map(g=>{const E=i.bucket,S=i.fullPath,b="/b/"+f(E)+"/o/"+f(S),M=Du(b,t,s),D=BS({alt:"media",token:g});return M+D})[0]}function $S(i,e){const t={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(t[u.server]=i[u.local])}return JSON.stringify(t)}class Oo{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(i){if(!i)throw wg()}function Ig(i,e){function t(s,o){const u=YS(i,o,e);return tr(u!==null),u}return t}function Tx(i,e){function t(s,o){const u=YS(i,o,e);return tr(u!==null),Ex(u,o,i.host,i._protocol)}return t}function Ou(i){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=L4():o=U4():t.getStatus()===402?o=V4(i.bucket):t.getStatus()===403?o=z4(i.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function XS(i){const e=Ou(i);function t(s,o){let u=e(s,o);return s.getStatus()===404&&(u=k4(i.path)),u.serverResponse=o.serverResponse,u}return t}function Ax(i,e,t){const s=e.fullServerUrl(),o=Du(s,i.host,i._protocol),u="GET",f=i.maxOperationRetryTime,m=new Oo(o,u,Ig(i,t),f);return m.errorHandler=XS(e),m}function Sx(i,e,t){const s=e.fullServerUrl(),o=Du(s,i.host,i._protocol),u="GET",f=i.maxOperationRetryTime,m=new Oo(o,u,Tx(i,t),f);return m.errorHandler=XS(e),m}function bx(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function WS(i,e,t){const s=Object.assign({},t);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=bx(null,e)),s}function wx(i,e,t,s,o){const u=e.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function m(){let X="";for(let oe=0;oe<2;oe++)X=X+Math.random().toString().slice(2);return X}const p=m();f["Content-Type"]="multipart/related; boundary="+p;const g=WS(e,s,o),E=$S(g,t),S="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,b=`\r
--`+p+"--",M=qr.getBlob(S,s,b);if(M===null)throw LS();const D={name:g.fullPath},G=Du(u,i.host,i._protocol),U="POST",Y=i.maxUploadRetryTime,ie=new Oo(G,U,Ig(i,t),Y);return ie.urlParams=D,ie.headers=f,ie.body=M.uploadData(),ie.errorHandler=Ou(e),ie}class Gh{constructor(e,t,s,o){this.current=e,this.total=t,this.finalized=!!s,this.metadata=o||null}}function Cg(i,e){let t=null;try{t=i.getResponseHeader("X-Goog-Upload-Status")}catch{tr(!1)}return tr(!!t&&(e||["active"]).indexOf(t)!==-1),t}function Rx(i,e,t,s,o){const u=e.bucketOnlyServerUrl(),f=WS(e,s,o),m={name:f.fullPath},p=Du(u,i.host,i._protocol),g="POST",E={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":f.contentType,"Content-Type":"application/json; charset=utf-8"},S=$S(f,t),b=i.maxUploadRetryTime;function M(G){Cg(G);let U;try{U=G.getResponseHeader("X-Goog-Upload-URL")}catch{tr(!1)}return tr(Tf(U)),U}const D=new Oo(p,g,M,b);return D.urlParams=m,D.headers=E,D.body=S,D.errorHandler=Ou(e),D}function Ix(i,e,t,s){const o={"X-Goog-Upload-Command":"query"};function u(g){const E=Cg(g,["active","final"]);let S=null;try{S=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{tr(!1)}S||tr(!1);const b=Number(S);return tr(!isNaN(b)),new Gh(b,s.size(),E==="final")}const f="POST",m=i.maxUploadRetryTime,p=new Oo(t,f,u,m);return p.headers=o,p.errorHandler=Ou(e),p}const UE=256*1024;function Cx(i,e,t,s,o,u,f,m){const p=new Gh(0,0);if(f?(p.current=f.current,p.total=f.total):(p.current=0,p.total=s.size()),s.size()!==p.total)throw H4();const g=p.total-p.current;let E=g;o>0&&(E=Math.min(E,o));const S=p.current,b=S+E;let M="";E===0?M="finalize":g===E?M="upload, finalize":M="upload";const D={"X-Goog-Upload-Command":M,"X-Goog-Upload-Offset":`${p.current}`},G=s.slice(S,b);if(G===null)throw LS();function U(oe,ce){const _e=Cg(oe,["active","final"]),O=p.current+E,w=s.size();let R;return _e==="final"?R=Ig(e,u)(oe,ce):R=null,new Gh(O,w,_e==="final",R)}const Y="POST",ie=e.maxUploadRetryTime,X=new Oo(t,Y,U,ie);return X.headers=D,X.body=G.uploadData(),X.progressCallback=m||null,X.errorHandler=Ou(i),X}const cn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Hm(i){switch(i){case"running":case"pausing":case"canceling":return cn.RUNNING;case"paused":return cn.PAUSED;case"success":return cn.SUCCESS;case"canceled":return cn.CANCELED;case"error":return cn.ERROR;default:return cn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,t,s){if(W4(e)||t!=null||s!=null)this.next=e,this.error=t??void 0,this.complete=s??void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(i){return(...e)=>{Promise.resolve().then(()=>i(...e))}}class Ox{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ws.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ws.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ws.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o){if(this.sent_)throw Fl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Fl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Fl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Fl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Fl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Nx extends Ox{initXhr(){this.xhr_.responseType="text"}}function oo(){return new Nx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=s,this._mappings=QS(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(it.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const u=this.isExponentialBackoffExpired();if(jS(o.status,[]))if(u)o=VS();else{this.sleepTime=Math.max(this.sleepTime*2,P4),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(it.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,u)=>{this._resolve=o,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,s])=>{switch(this._state){case"running":e(t,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const s=Rx(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,oo,e,t);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,s)=>{const o=Ix(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(o,oo,t,s);this._request=u,u.getPromise().then(f=>{f=f,this._request=void 0,this._updateProgress(f.current),this._needToFetchStatus=!1,f.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=UE*this._chunkMultiplier,t=new Gh(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((o,u)=>{let f;try{f=Cx(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const m=this._ref.storage._makeRequest(f,oo,o,u,!1);this._request=m,m.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){UE*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const s=Ax(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(s,oo,e,t);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const s=wx(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,oo,e,t);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=US(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Hm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,s,o){const u=new Dx(t||void 0,s||void 0,o||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Hm(this._state)){case cn.SUCCESS:no(this._resolve.bind(null,this.snapshot))();break;case cn.CANCELED:case cn.ERROR:const t=this._reject;no(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Hm(this._state)){case cn.RUNNING:case cn.PAUSED:e.next&&no(e.next.bind(e,this.snapshot))();break;case cn.SUCCESS:e.complete&&no(e.complete.bind(e))();break;case cn.CANCELED:case cn.ERROR:e.error&&no(e.error.bind(e,this._error))();break;default:e.error&&no(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,t){this._service=e,t instanceof bn?this._location=t:this._location=bn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new sa(e,t)}get root(){const e=new bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return KS(this._location.path)}get storage(){return this._service}get parent(){const e=mx(this._location.path);if(e===null)return null;const t=new bn(this._location.bucket,e);return new sa(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw K4(e)}}function Mx(i,e,t){return i._throwIfRoot("uploadBytesResumable"),new xx(i,new qr(e),t)}function Px(i){i._throwIfRoot("getDownloadURL");const e=Sx(i.storage,i._location,QS());return i.storage.makeRequestWithTokens(e,oo).then(t=>{if(t===null)throw F4();return t})}function kx(i,e){const t=px(i._location.path,e),s=new bn(i._location.bucket,t);return new sa(i.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(i){return/^[A-Za-z]+:\/\//.test(i)}function Ux(i,e){return new sa(i,e)}function ZS(i,e){if(i instanceof Dg){const t=i;if(t._bucket==null)throw q4();const s=new sa(t,t._bucket);return e!=null?ZS(s,e):s}else return e!==void 0?kx(i,e):i}function Lx(i,e){if(e&&Vx(e)){if(i instanceof Dg)return Ux(i,e);throw Ep("To use ref(service, url), the first argument must be a Storage instance.")}else return ZS(i,e)}function LE(i,e){const t=e==null?void 0:e[kS];return t==null?null:bn.makeFromBucketSpec(t,i)}function zx(i,e,t,s={}){i.host=`${e}:${t}`,i._protocol="http";const{mockUserToken:o}=s;o&&(i._overrideAuthToken=typeof o=="string"?o:lT(o,i.app.options.projectId))}class Dg{constructor(e,t,s,o,u){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=PS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=x4,this._maxUploadRetryTime=M4,this._requests=new Set,o!=null?this._bucket=bn.makeFromBucketSpec(o,this._host):this._bucket=LE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=bn.makeFromBucketSpec(this._url,e):this._bucket=LE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){VE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){VE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new sa(this,e)}_makeRequest(e,t,s,o,u=!0){if(this._deleted)return new Q4(zS());{const f=rx(e,this._appId,s,o,t,this._firebaseVersion,u);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const zE="@firebase/storage",BE="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="storage";function Bx(i,e,t){return i=dt(i),Mx(i,e,t)}function jx(i){return i=dt(i),Px(i)}function qx(i,e){return i=dt(i),Lx(i,e)}function Hx(i=Np(),e){i=dt(i);const s=Wh(i,JS).getImmediate({identifier:e}),o=sT("storage");return o&&Fx(s,...o),s}function Fx(i,e,t,s={}){zx(i,e,t,s)}function Gx(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new Dg(t,s,o,e,aa)}function Kx(){Js(new Xr(JS,Gx,"PUBLIC").setMultipleInstances(!0)),gi(zE,BE,""),gi(zE,BE,"esm2017")}Kx();const Qx={apiKey:"AIzaSyDofGwjq4mLnbHP7aXetrkXLyrLcccQrAU",authDomain:"dropbox-2be05.firebaseapp.com",projectId:"dropbox-2be05",storageBucket:"dropbox-2be05.firebasestorage.app",messagingSenderId:"841007218610",appId:"1:841007218610:web:d9782e583d6948d971aeab"},Og=hT(Qx);or(Og);const $r=p4(Og),Yx=Hx(Og);function $x({onClose:i}){const[e,t]=K.useState(""),{currentFolderId:s}=tf(),u=or().currentUser,f=async()=>{if(!e.trim()||!u){alert("Folder name cannot be empty!");return}await NS(pu($r,"files"),{originalName:e,isFolder:!0,parentFolder:s||null,createdAt:MS(),deleted:!1,userId:u.uid}),alert(" Folder created!"),t(""),i()};return $.jsxs("div",{className:"modal",children:[$.jsx("h2",{children:"Create Folder"}),$.jsx("input",{type:"text",placeholder:"Folder Name",value:e,onChange:m=>t(m.target.value)}),$.jsxs("div",{style:{marginTop:"1rem",display:"flex",gap:"10px"},children:[$.jsx("button",{className:"btn",onClick:f,children:"Create"}),$.jsx("button",{className:"btn",onClick:i,children:"Cancel"})]})]})}function Xx(){const[i,e]=K.useState([]),[t,s]=K.useState(0),[o,u]=K.useState(""),[f,m]=K.useState(!1),{currentFolderId:p,currentView:g,openParentFolder:E}=tf(),S=or(),b=S.currentUser,M=async()=>{if(!i.length||!b){alert("Please choose a file or re-login!");return}const U=(await D4(Qs(pu($r,"files"),Ht("userId","==",b.uid)))).docs.reduce((X,oe)=>X+(oe.data().size||0),0),Y=i.reduce((X,oe)=>X+oe.size,0);if(U+Y>2*1024*1024*1024){alert(" Storage limit exceeded! Each user has only 2GB.");return}for(const X of i){const oe=new Date().toISOString().replace(/[:.]/g,"_"),[ce,_e]=X.name.split(/\.(?=[^\.]+$)/),O=`${ce}-${oe}.${_e}`,w=qx(Yx,`uploads/${b.uid}/${O}`),R=Bx(w,X);await new Promise((x,k)=>{R.on("state_changed",V=>{s(V.bytesTransferred/V.totalBytes*100),u(`Uploading ${(V.bytesTransferred/(1024*1024)).toFixed(2)} MB`)},V=>k(V),async()=>{const V=await jx(R.snapshot.ref);await NS(pu($r,"files"),{originalName:X.name,versionedName:O,url:V,size:X.size,createdAt:MS(),parentFolder:p||null,fileType:_e.toLowerCase(),deleted:!1,userId:b.uid}),x()})})}alert(" Upload complete!"),e([]),u(""),s(0)},D=async()=>{await S.signOut(),window.location.href="/login"};return $.jsxs("div",{className:"topbar",children:[$.jsxs("div",{style:{display:"flex",gap:"10px"},children:[g==="folder"&&p&&$.jsxs("button",{className:"btn",onClick:E,children:[$.jsx(hD,{})," Back"]}),$.jsxs("label",{className:"file-upload-button",children:[" Choose Files",$.jsx("input",{type:"file",multiple:!0,onChange:G=>e([...G.target.files]),style:{display:"none"}})]}),$.jsxs("button",{className:"btn blue",onClick:M,children:[$.jsx(_D,{})," Upload"]}),$.jsxs("button",{className:"btn blue",onClick:()=>m(!0),children:[$.jsx(oD,{})," Create Folder"]}),$.jsx("div",{style:{flexGrow:1}}),$.jsxs("button",{className:"btn red",onClick:D,children:[$.jsx(mD,{})," Sign Out"]})]}),t>0&&$.jsxs("div",{style:{marginTop:"8px",fontSize:"14px"},children:[" ",o," (",t.toFixed(1),"%)"]}),f&&$.jsx($x,{onClose:()=>m(!1)})]})}function Wx({file:i,position:e}){const[t,s]=K.useState(!1),[o,u]=K.useState(""),m=or().currentUser;if(!i||!m)return null;const p=Hh($r,"files",i.id),g=async()=>{if(!o.trim()){alert("New name cannot be empty!");return}try{if(i.isFolder)await Ys(p,{originalName:o});else{const D=i.versionedName.split(".").pop(),G=`${o}-${Date.now()}.${D}`;await Ys(p,{originalName:o,versionedName:G})}alert(" Renamed successfully!"),s(!1)}catch(D){console.error("Rename error:",D),alert(" Failed to rename.")}},E=async()=>{try{await Ys(p,{shared:!i.shared}),alert(i.shared?" Unshared":" Marked as shared!")}catch(D){console.error("Toggle share error:",D),alert(" Failed to toggle shared status.")}},S=async()=>{if(window.confirm("Are you sure you want to move to trash?"))try{await Ys(p,{deleted:!0}),alert(" Moved to trash!")}catch(D){console.error("Delete error:",D),alert(" Failed to delete.")}},b=async()=>{try{await Ys(p,{deleted:!1}),alert(" Restored from trash!")}catch(D){console.error("Recover error:",D),alert(" Failed to restore.")}},M=async()=>{if(window.confirm(" Permanently delete this item? This cannot be undone."))try{await O4(p),alert(" File permanently deleted!")}catch(D){console.error("Permanent delete error:",D),alert(" Failed to permanently delete.")}};return $.jsx("div",{className:"context-menu",style:{top:e.y,left:e.x,position:"absolute",backgroundColor:"white",boxShadow:"0 0 5px rgba(0,0,0,0.2)",padding:"10px",borderRadius:"6px",zIndex:9999},children:t?$.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[$.jsx("input",{type:"text",value:o,onChange:D=>u(D.target.value),placeholder:"New Name"}),$.jsx("button",{className:"btn",onClick:g,children:"Save"}),$.jsx("button",{className:"btn",onClick:()=>s(!1),style:{backgroundColor:"#ccc"},children:"Cancel"})]}):$.jsxs($.Fragment,{children:[$.jsx("button",{className:"btn",onClick:()=>s(!0),children:" Rename"}),!i.deleted&&!i.isFolder&&$.jsx("button",{className:"btn",onClick:E,children:i.shared?" Unshare":" Mark as Shared"}),i.deleted?$.jsxs($.Fragment,{children:[$.jsx("button",{className:"btn",onClick:b,children:" Recover"}),$.jsx("button",{className:"btn",onClick:M,children:" Permanently Delete"})]}):$.jsx("button",{className:"btn",onClick:S,children:" Move to Trash"})]})})}function Zx({url:i,onClose:e}){return $.jsx("div",{className:"modal-overlay",onClick:e,children:$.jsx("div",{className:"modal-content",children:i.endsWith(".pdf")?$.jsx("iframe",{src:i,width:"100%",height:"600px",title:"Preview PDF"}):$.jsx("img",{src:i,alt:"Preview",style:{maxWidth:"100%",maxHeight:"80vh"}})})})}function Jx(){const{currentFolderId:i,currentView:e,openFolder:t}=tf(),[s,o]=K.useState([]),[u,f]=K.useState([]),[m,p]=K.useState(""),[g,E]=K.useState(null),[S,b]=K.useState(!1),[M,D]=K.useState({x:0,y:0}),[G,U]=K.useState(null),ie=or().currentUser;K.useEffect(()=>{if(!ie)return;const se=pu($r,"files");let pe;e==="pictures"?pe=Qs(se,Ht("userId","==",ie.uid),Ht("fileType","in",["jpg","jpeg","png"]),Ht("deleted","==",!1),Hl("createdAt","desc")):e==="shared"?pe=Qs(se,Ht("userId","==",ie.uid),Ht("shared","==",!0),Ht("deleted","==",!1),Hl("createdAt","desc")):e==="deleted"?pe=Qs(se,Ht("userId","==",ie.uid),Ht("deleted","==",!0),Hl("createdAt","desc")):e==="folder"?pe=Qs(se,Ht("userId","==",ie.uid),Ht("parentFolder","==",i||null),Ht("deleted","==",!1),Hl("createdAt","desc")):pe=Qs(se,Ht("userId","==",ie.uid),Ht("parentFolder","==",null),Ht("deleted","==",!1),Hl("createdAt","desc"));const F=xS(pe,le=>{o(le.docs.map(me=>({id:me.id,...me.data()})))});return()=>F()},[i,e,ie]);const X=(se,pe)=>{se.preventDefault(),E(pe),D({x:se.pageX,y:se.pageY}),b(!0)},oe=se=>{t(se.id,se.originalName)},ce=se=>se.preventDefault(),_e=async(se,pe)=>{se.preventDefault();const F=JSON.parse(se.dataTransfer.getData("text/plain"));for(const le of F){const me=Hh($r,"files",le);await Ys(me,{parentFolder:pe.id})}},O=(se,pe)=>{se.dataTransfer.setData("text/plain",JSON.stringify([pe]))},w=se=>{f(pe=>pe.includes(se)?pe.filter(F=>F!==se):[...pe,se])},R=se=>{var F;const pe=(F=se.versionedName)==null?void 0:F.split(".").pop();["pdf","png","jpg","jpeg"].includes(pe)&&U(se.url)},x=se=>{const pe=document.createElement("a");pe.href=se.url,pe.setAttribute("download",se.originalName||"downloaded-file"),pe.target="_blank",document.body.appendChild(pe),pe.click(),document.body.removeChild(pe)},k=async()=>{if(!u.length)return alert("Please select items to delete.");if(window.confirm("Move selected items to trash?"))try{for(const se of u){const pe=Hh($r,"files",se);await Ys(pe,{deleted:!0})}alert(" Files moved to trash."),f([])}catch(se){console.error(se),alert(" Failed to delete selected files.")}},V=s.filter(se=>se.isFolder&&se.originalName.toLowerCase().includes(m.toLowerCase())),C=s.filter(se=>{var pe;return!se.isFolder&&((pe=se.versionedName)==null?void 0:pe.toLowerCase().includes(m.toLowerCase()))});return $.jsxs("div",{className:"file-table",onClick:()=>b(!1),children:[$.jsxs("div",{style:{marginBottom:"1rem",display:"flex",gap:"60px",alignItems:"center"},children:[$.jsxs("div",{style:{position:"relative",flexGrow:1},children:[$.jsx(pD,{style:{position:"absolute",top:"50%",left:"10px",transform:"translateY(-50%)",color:"#888",fontSize:"20px"}}),$.jsx("input",{type:"text",placeholder:"Search files or folders...",value:m,onChange:se=>p(se.target.value),style:{padding:"0.5rem 0.5rem 0.5rem 2.5rem",width:"100%",borderRadius:"5px",border:"1px solid #ccc"}})]}),$.jsx("button",{className:"btn",onClick:k,style:{background:"red"},children:"Delete"})]}),e==="pictures"?$.jsx("div",{className:"gallery-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:"16px",padding:"1rem"},children:C.map(se=>$.jsxs("div",{className:"gallery-item",style:{textAlign:"center"},children:[$.jsx("img",{src:se.url,alt:se.versionedName,style:{width:"100%",height:"180px",objectFit:"cover",borderRadius:"8px",border:"1px solid #ddd"}}),$.jsx("p",{style:{marginTop:"8px",fontSize:"12px",wordBreak:"break-word"},children:se.originalName})]},se.id))}):$.jsxs("table",{children:[$.jsx("thead",{children:$.jsxs("tr",{children:[$.jsx("th",{}),$.jsx("th",{children:"Name"}),$.jsx("th",{children:"Uploaded At"}),$.jsx("th",{children:"Size (MB)"})]})}),$.jsxs("tbody",{children:[V.map(se=>{var pe;return $.jsxs("tr",{onClick:()=>oe(se),onContextMenu:F=>X(F,se),onDragOver:ce,onDrop:F=>_e(F,se),style:{cursor:"pointer",backgroundColor:"#f8f8f8"},children:[$.jsx("td",{children:$.jsx("input",{type:"checkbox",checked:u.includes(se.id),onChange:()=>w(se.id),onClick:F=>F.stopPropagation()})}),$.jsxs("td",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[$.jsx(lD,{style:{color:"#f5a623"}}),se.originalName]}),$.jsx("td",{children:(pe=se.createdAt)==null?void 0:pe.toDate().toLocaleString()}),$.jsx("td",{children:""})]},se.id)}),C.map(se=>{var pe;return $.jsxs("tr",{draggable:!0,onDragStart:F=>O(F,se.id),onContextMenu:F=>X(F,se),onClick:()=>R(se),children:[$.jsx("td",{children:$.jsx("input",{type:"checkbox",checked:u.includes(se.id),onChange:()=>w(se.id),onClick:F=>F.stopPropagation()})}),$.jsxs("td",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[$.jsx(aD,{style:{color:"#7d7d7d"}}),$.jsx("a",{href:se.url,target:"_blank",rel:"noreferrer",style:{color:"inherit",textDecoration:"none"},children:se.versionedName}),$.jsx("button",{onClick:F=>{F.stopPropagation(),navigator.clipboard.writeText(se.url).then(()=>alert(" Link copied!")).catch(()=>alert(" Failed to copy."))},title:"Copy Link",style:{marginLeft:"8px",background:"none",border:"none",cursor:"pointer",fontSize:"18px",color:"#555"},children:$.jsx(dD,{})}),$.jsx("button",{onClick:F=>{F.stopPropagation(),x(se)},title:"Download",style:{marginLeft:"8px",background:"none",border:"none",cursor:"pointer",fontSize:"18px",color:"#555"},children:$.jsx(fD,{})})]}),$.jsx("td",{children:(pe=se.createdAt)==null?void 0:pe.toDate().toLocaleString()}),$.jsx("td",{children:(se.size/(1024*1024)).toFixed(2)})]},se.id)})]})]}),S&&$.jsx(Wx,{file:g,position:M}),G&&$.jsx(Zx,{url:G,onClose:()=>U(null)})]})}function e3(){const[i,e]=K.useState(0),t=or().currentUser;K.useEffect(()=>{if(!t)return;const u=Qs(pu($r,"files"),Ht("userId","==",t.uid),Ht("deleted","==",!1)),f=xS(u,m=>{const p=m.docs.reduce((g,E)=>g+(E.data().size||0),0);e(p)});return()=>f()},[t]);const s=(i/(1024*1024)).toFixed(2),o=(i/(1024*1024*2048)*100).toFixed(2);return $.jsxs("div",{className:"storage-usage",style:{padding:"1rem"},children:[$.jsxs("p",{children:[$.jsx("strong",{children:"Storage Usage:"})," ",s," MB / 2048 MB (",o,"%)"]}),$.jsx("progress",{value:i,max:2*1024*1024*1024,style:{width:"100%"}})]})}function t3(){const[i,e]=K.useState(""),[t,s]=K.useState(""),o=Qh(),u=or(),f=async m=>{m.preventDefault();try{await kI(u,i,t),alert(" Account created successfully!"),o("/")}catch(p){console.error(p),alert(p.message)}};return $.jsxs("div",{className:"auth-container",children:[$.jsx("h2",{children:"CREATE AN ACCOUNT"}),$.jsxs("form",{onSubmit:f,className:"auth-form",children:[$.jsx("input",{type:"email",placeholder:"Email address",value:i,onChange:m=>e(m.target.value),required:!0}),$.jsx("input",{type:"password",placeholder:"Password",value:t,onChange:m=>s(m.target.value),required:!0}),$.jsx("button",{type:"submit",className:"auth-button",children:"Sign Up"})]}),$.jsxs("p",{className:"auth-footer",children:["Already have an account? ",$.jsx($h,{to:"/login",className:"auth-link",children:"Login"})]})]})}function n3(){const[i,e]=K.useState(""),[t,s]=K.useState(""),o=Qh(),u=or(),f=async m=>{m.preventDefault();try{await VI(u,i,t),alert(" Login successful!"),o("/")}catch(p){console.error(p),alert(" "+p.message)}};return $.jsxs("div",{className:"auth-container",children:[$.jsx("h2",{children:"SIGN IN"}),$.jsxs("form",{onSubmit:f,className:"auth-form",children:[$.jsx("input",{type:"email",placeholder:"Email address",value:i,onChange:m=>e(m.target.value),required:!0}),$.jsx("input",{type:"password",placeholder:"Password",value:t,onChange:m=>s(m.target.value),required:!0}),$.jsx("button",{type:"submit",className:"auth-button",children:"Login"})]}),$.jsxs("p",{className:"auth-footer",children:["Don't have an account? ",$.jsx($h,{to:"/signup",className:"auth-link",children:"Sign Up"})]})]})}function i3(){const[i,e]=K.useState(null),[t,s]=K.useState(!0);return K.useEffect(()=>{const o=or(),u=zI(o,f=>{e(f),s(!1)});return()=>u()},[]),t?$.jsx("div",{children:"Loading..."}):$.jsx($1,{children:$.jsxs(w1,{children:[$.jsx(ch,{path:"/signup",element:$.jsx(t3,{})}),$.jsx(ch,{path:"/login",element:$.jsx(n3,{})}),$.jsx(ch,{path:"/*",element:i?$.jsx(WC,{children:$.jsxs("div",{className:"app",children:[$.jsx(yD,{}),$.jsxs("div",{className:"main",children:[$.jsxs("div",{className:"main-inner",children:[$.jsx(Xx,{}),$.jsx(Jx,{})]}),$.jsx(e3,{})]})]})}):$.jsx(S1,{to:"/login",replace:!0})})]})})}Pw.createRoot(document.getElementById("root")).render($.jsx(K.StrictMode,{children:$.jsx(i3,{})}));
