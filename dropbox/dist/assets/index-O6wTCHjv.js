(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function vw(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Tm={exports:{}},Ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function Ew(){if(Vv)return Ul;Vv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ul.Fragment=e,Ul.jsx=n,Ul.jsxs=n,Ul}var Uv;function Tw(){return Uv||(Uv=1,Tm.exports=Ew()),Tm.exports}var W=Tw(),Am={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function Aw(){if(Lv)return Re;Lv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function b(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,F={};function U(N,ne,le){this.props=N,this.context=ne,this.refs=F,this.updater=le||P}U.prototype.isReactComponent={},U.prototype.setState=function(N,ne){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,ne,"setState")},U.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function K(){}K.prototype=U.prototype;function ie(N,ne,le){this.props=N,this.context=ne,this.refs=F,this.updater=le||P}var $=ie.prototype=new K;$.constructor=ie,O($,U.prototype),$.isPureReactComponent=!0;var ae=Array.isArray,ue={H:null,A:null,T:null,S:null,V:null},me=Object.prototype.hasOwnProperty;function x(N,ne,le,re,_e,Oe){return le=Oe.ref,{$$typeof:i,type:N,key:ne,ref:le!==void 0?le:null,props:Oe}}function w(N,ne){return x(N.type,ne,void 0,void 0,void 0,N.props)}function I(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function M(N){var ne={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(le){return ne[le]})}var V=/\/+/g;function C(N,ne){return typeof N=="object"&&N!==null&&N.key!=null?M(""+N.key):ne.toString(36)}function R(){}function De(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(R,R):(N.status="pending",N.then(function(ne){N.status==="pending"&&(N.status="fulfilled",N.value=ne)},function(ne){N.status==="pending"&&(N.status="rejected",N.reason=ne)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function He(N,ne,le,re,_e){var Oe=typeof N;(Oe==="undefined"||Oe==="boolean")&&(N=null);var Se=!1;if(N===null)Se=!0;else switch(Oe){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(N.$$typeof){case i:case e:Se=!0;break;case E:return Se=N._init,He(Se(N._payload),ne,le,re,_e)}}if(Se)return _e=_e(N),Se=re===""?"."+C(N,0):re,ae(_e)?(le="",Se!=null&&(le=Se.replace(V,"$&/")+"/"),He(_e,ne,le,"",function($n){return $n})):_e!=null&&(I(_e)&&(_e=w(_e,le+(_e.key==null||N&&N.key===_e.key?"":(""+_e.key).replace(V,"$&/")+"/")+Se)),ne.push(_e)),1;Se=0;var Nt=re===""?".":re+":";if(ae(N))for(var et=0;et<N.length;et++)re=N[et],Oe=Nt+C(re,et),Se+=He(re,ne,le,Oe,_e);else if(et=b(N),typeof et=="function")for(N=et.call(N),et=0;!(re=N.next()).done;)re=re.value,Oe=Nt+C(re,et++),Se+=He(re,ne,le,Oe,_e);else if(Oe==="object"){if(typeof N.then=="function")return He(De(N),ne,le,re,_e);throw ne=String(N),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Se}function Y(N,ne,le){if(N==null)return N;var re=[],_e=0;return He(N,re,"","",function(Oe){return ne.call(le,Oe,_e++)}),re}function oe(N){if(N._status===-1){var ne=N._result;ne=ne(),ne.then(function(le){(N._status===0||N._status===-1)&&(N._status=1,N._result=le)},function(le){(N._status===0||N._status===-1)&&(N._status=2,N._result=le)}),N._status===-1&&(N._status=0,N._result=ne)}if(N._status===1)return N._result.default;throw N._result}var pe=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function je(){}return Re.Children={map:Y,forEach:function(N,ne,le){Y(N,function(){ne.apply(this,arguments)},le)},count:function(N){var ne=0;return Y(N,function(){ne++}),ne},toArray:function(N){return Y(N,function(ne){return ne})||[]},only:function(N){if(!I(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Re.Component=U,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=ie,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,Re.__COMPILER_RUNTIME={__proto__:null,c:function(N){return ue.H.useMemoCache(N)}},Re.cache=function(N){return function(){return N.apply(null,arguments)}},Re.cloneElement=function(N,ne,le){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var re=O({},N.props),_e=N.key,Oe=void 0;if(ne!=null)for(Se in ne.ref!==void 0&&(Oe=void 0),ne.key!==void 0&&(_e=""+ne.key),ne)!me.call(ne,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&ne.ref===void 0||(re[Se]=ne[Se]);var Se=arguments.length-2;if(Se===1)re.children=le;else if(1<Se){for(var Nt=Array(Se),et=0;et<Se;et++)Nt[et]=arguments[et+2];re.children=Nt}return x(N.type,_e,void 0,void 0,Oe,re)},Re.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Re.createElement=function(N,ne,le){var re,_e={},Oe=null;if(ne!=null)for(re in ne.key!==void 0&&(Oe=""+ne.key),ne)me.call(ne,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(_e[re]=ne[re]);var Se=arguments.length-2;if(Se===1)_e.children=le;else if(1<Se){for(var Nt=Array(Se),et=0;et<Se;et++)Nt[et]=arguments[et+2];_e.children=Nt}if(N&&N.defaultProps)for(re in Se=N.defaultProps,Se)_e[re]===void 0&&(_e[re]=Se[re]);return x(N,Oe,void 0,void 0,null,_e)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(N){return{$$typeof:m,render:N}},Re.isValidElement=I,Re.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:oe}},Re.memo=function(N,ne){return{$$typeof:g,type:N,compare:ne===void 0?null:ne}},Re.startTransition=function(N){var ne=ue.T,le={};ue.T=le;try{var re=N(),_e=ue.S;_e!==null&&_e(le,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(je,pe)}catch(Oe){pe(Oe)}finally{ue.T=ne}},Re.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},Re.use=function(N){return ue.H.use(N)},Re.useActionState=function(N,ne,le){return ue.H.useActionState(N,ne,le)},Re.useCallback=function(N,ne){return ue.H.useCallback(N,ne)},Re.useContext=function(N){return ue.H.useContext(N)},Re.useDebugValue=function(){},Re.useDeferredValue=function(N,ne){return ue.H.useDeferredValue(N,ne)},Re.useEffect=function(N,ne,le){var re=ue.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(N,ne)},Re.useId=function(){return ue.H.useId()},Re.useImperativeHandle=function(N,ne,le){return ue.H.useImperativeHandle(N,ne,le)},Re.useInsertionEffect=function(N,ne){return ue.H.useInsertionEffect(N,ne)},Re.useLayoutEffect=function(N,ne){return ue.H.useLayoutEffect(N,ne)},Re.useMemo=function(N,ne){return ue.H.useMemo(N,ne)},Re.useOptimistic=function(N,ne){return ue.H.useOptimistic(N,ne)},Re.useReducer=function(N,ne,le){return ue.H.useReducer(N,ne,le)},Re.useRef=function(N){return ue.H.useRef(N)},Re.useState=function(N){return ue.H.useState(N)},Re.useSyncExternalStore=function(N,ne,le){return ue.H.useSyncExternalStore(N,ne,le)},Re.useTransition=function(){return ue.H.useTransition()},Re.version="19.1.0",Re}var zv;function vp(){return zv||(zv=1,Am.exports=Aw()),Am.exports}var Q=vp();const Ks=vw(Q);var Sm={exports:{}},Ll={},bm={exports:{}},wm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function Sw(){return Bv||(Bv=1,function(i){function e(Y,oe){var pe=Y.length;Y.push(oe);e:for(;0<pe;){var je=pe-1>>>1,N=Y[je];if(0<o(N,oe))Y[je]=oe,Y[pe]=N,pe=je;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var oe=Y[0],pe=Y.pop();if(pe!==oe){Y[0]=pe;e:for(var je=0,N=Y.length,ne=N>>>1;je<ne;){var le=2*(je+1)-1,re=Y[le],_e=le+1,Oe=Y[_e];if(0>o(re,pe))_e<N&&0>o(Oe,re)?(Y[je]=Oe,Y[_e]=pe,je=_e):(Y[je]=re,Y[le]=pe,je=le);else if(_e<N&&0>o(Oe,pe))Y[je]=Oe,Y[_e]=pe,je=_e;else break e}}return oe}function o(Y,oe){var pe=Y.sortIndex-oe.sortIndex;return pe!==0?pe:Y.id-oe.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,S=null,b=3,P=!1,O=!1,F=!1,U=!1,K=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function ae(Y){for(var oe=n(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=Y)s(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=n(g)}}function ue(Y){if(F=!1,ae(Y),!O)if(n(p)!==null)O=!0,me||(me=!0,C());else{var oe=n(g);oe!==null&&He(ue,oe.startTime-Y)}}var me=!1,x=-1,w=5,I=-1;function M(){return U?!0:!(i.unstable_now()-I<w)}function V(){if(U=!1,me){var Y=i.unstable_now();I=Y;var oe=!0;try{e:{O=!1,F&&(F=!1,ie(x),x=-1),P=!0;var pe=b;try{t:{for(ae(Y),S=n(p);S!==null&&!(S.expirationTime>Y&&M());){var je=S.callback;if(typeof je=="function"){S.callback=null,b=S.priorityLevel;var N=je(S.expirationTime<=Y);if(Y=i.unstable_now(),typeof N=="function"){S.callback=N,ae(Y),oe=!0;break t}S===n(p)&&s(p),ae(Y)}else s(p);S=n(p)}if(S!==null)oe=!0;else{var ne=n(g);ne!==null&&He(ue,ne.startTime-Y),oe=!1}}break e}finally{S=null,b=pe,P=!1}oe=void 0}}finally{oe?C():me=!1}}}var C;if(typeof $=="function")C=function(){$(V)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,De=R.port2;R.port1.onmessage=V,C=function(){De.postMessage(null)}}else C=function(){K(V,0)};function He(Y,oe){x=K(function(){Y(i.unstable_now())},oe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var oe=3;break;default:oe=b}var pe=b;b=oe;try{return Y()}finally{b=pe}},i.unstable_requestPaint=function(){U=!0},i.unstable_runWithPriority=function(Y,oe){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var pe=b;b=Y;try{return oe()}finally{b=pe}},i.unstable_scheduleCallback=function(Y,oe,pe){var je=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?je+pe:je):pe=je,Y){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=pe+N,Y={id:E++,callback:oe,priorityLevel:Y,startTime:pe,expirationTime:N,sortIndex:-1},pe>je?(Y.sortIndex=pe,e(g,Y),n(p)===null&&Y===n(g)&&(F?(ie(x),x=-1):F=!0,He(ue,pe-je))):(Y.sortIndex=N,e(p,Y),O||P||(O=!0,me||(me=!0,C()))),Y},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(Y){var oe=b;return function(){var pe=b;b=oe;try{return Y.apply(this,arguments)}finally{b=pe}}}}(wm)),wm}var jv;function bw(){return jv||(jv=1,bm.exports=Sw()),bm.exports}var Rm={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function ww(){if(qv)return Yt;qv=1;var i=vp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:g,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Yt.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Yt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Yt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Yt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,P=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:b,fetchPriority:P}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:b,fetchPriority:P,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Yt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Yt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Yt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Yt.requestFormReset=function(p){s.d.r(p)},Yt.unstable_batchedUpdates=function(p,g){return p(g)},Yt.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Yt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Yt.version="19.1.0",Yt}var Hv;function Rw(){if(Hv)return Rm.exports;Hv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Rm.exports=ww(),Rm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function Iw(){if(Fv)return Ll;Fv=1;var i=bw(),e=vp(),n=Rw();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),ie=Symbol.for("react.consumer"),$=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function C(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function De(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case O:return"Fragment";case U:return"Profiler";case F:return"StrictMode";case ue:return"Suspense";case me:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case $:return(t.displayName||"Context")+".Provider";case ie:return(t._context.displayName||"Context")+".Consumer";case ae:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return r=t.displayName||null,r!==null?r:De(t.type)||"Memo";case w:r=t._payload,t=t._init;try{return De(t(r))}catch{}}return null}var He=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},je=[],N=-1;function ne(t){return{current:t}}function le(t){0>N||(t.current=je[N],je[N]=null,N--)}function re(t,r){N++,je[N]=t.current,t.current=r}var _e=ne(null),Oe=ne(null),Se=ne(null),Nt=ne(null);function et(t,r){switch(re(Se,r),re(Oe,t),re(_e,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?cv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=cv(r),t=hv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}le(_e),re(_e,t)}function $n(){le(_e),le(Oe),le(Se)}function or(t){t.memoizedState!==null&&re(Nt,t);var r=_e.current,a=hv(r,t.type);r!==a&&(re(Oe,t),re(_e,a))}function Si(t){Oe.current===t&&(le(_e),le(Oe)),Nt.current===t&&(le(Nt),xl._currentValue=pe)}var os=Object.prototype.hasOwnProperty,ls=i.unstable_scheduleCallback,us=i.unstable_cancelCallback,Do=i.unstable_shouldYield,xu=i.unstable_requestPaint,Rn=i.unstable_now,Tf=i.unstable_getCurrentPriorityLevel,Oo=i.unstable_ImmediatePriority,la=i.unstable_UserBlockingPriority,cs=i.unstable_NormalPriority,Af=i.unstable_LowPriority,ua=i.unstable_IdlePriority,No=i.log,Mu=i.unstable_setDisableYieldValue,ct=null,Ke=null;function dn(t){if(typeof No=="function"&&Mu(t),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(ct,t)}catch{}}var Kt=Math.clz32?Math.clz32:hs,Pu=Math.log,Sf=Math.LN2;function hs(t){return t>>>=0,t===0?32:31-(Pu(t)/Sf|0)|0}var fs=256,ds=4194304;function zn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ca(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=zn(l):(v&=T,v!==0?h=zn(v):a||(a=T&~t,a!==0&&(h=zn(a))))):(T=l&~d,T!==0?h=zn(T):v!==0?h=zn(v):a||(a=l&~t,a!==0&&(h=zn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function ms(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function xo(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mo(){var t=fs;return fs<<=1,(fs&4194048)===0&&(fs=256),t}function Po(){var t=ds;return ds<<=1,(ds&62914560)===0&&(ds=4194304),t}function bi(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function wi(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ko(t,r,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,j=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-Kt(a),J=1<<X;T[X]=0,D[X]=-1;var q=j[X];if(q!==null)for(j[X]=null,X=0;X<q.length;X++){var H=q[X];H!==null&&(H.lane&=-536870913)}a&=~J}l!==0&&Xn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function Xn(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Kt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Vo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Kt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function lr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ha(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ur(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:Ov(t.type))}function ku(t,r){var a=oe.p;try{return oe.p=t,r()}finally{oe.p=a}}var rt=Math.random().toString(36).slice(2),bt="__reactFiber$"+rt,yt="__reactProps$"+rt,In="__reactContainer$"+rt,Uo="__reactEvents$"+rt,bf="__reactListeners$"+rt,cr="__reactHandles$"+rt,Vu="__reactResources$"+rt,ps="__reactMarker$"+rt;function hr(t){delete t[bt],delete t[yt],delete t[Uo],delete t[bf],delete t[cr]}function Ri(t){var r=t[bt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[In]||a[bt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=pv(t);t!==null;){if(a=t[bt])return a;t=pv(t)}return r}t=a,a=t.parentNode}return null}function Wn(t){if(t=t[bt]||t[In]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Zn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Jt(t){var r=t[Vu];return r||(r=t[Vu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function mt(t){t[ps]=!0}var Lo=new Set,fa={};function Bn(t,r){Ii(t,r),Ii(t+"Capture",r)}function Ii(t,r){for(fa[t]=r,t=0;t<r.length;t++)Lo.add(r[t])}var Uu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lu={},gs={};function zu(t){return os.call(gs,t)?!0:os.call(Lu,t)?!1:Uu.test(t)?gs[t]=!0:(Lu[t]=!0,!1)}function fr(t,r,a){if(zu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Jn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Lt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var _s,Bu;function Ci(t){if(_s===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);_s=r&&r[1]||"",Bu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_s+t+Bu}var da=!1;function ma(t,r){if(!t||da)return"";da=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(H){var q=H}Reflect.construct(t,[],J)}else{try{J.call()}catch(H){q=H}t.call(J.prototype)}}else{try{throw Error()}catch(H){q=H}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var D=v.split(`
`),j=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===j.length)for(l=D.length-1,h=j.length-1;1<=l&&0<=h&&D[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==j[h]){var X=`
`+D[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{da=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ci(a):""}function zo(t){switch(t.tag){case 26:case 27:case 5:return Ci(t.type);case 16:return Ci("Lazy");case 13:return Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 15:return ma(t.type,!1);case 11:return ma(t.type.render,!1);case 1:return ma(t.type,!0);case 31:return Ci("Activity");default:return""}}function pa(t){try{var r="";do r+=zo(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bo(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function wf(t){var r=Bo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function ga(t){t._valueTracker||(t._valueTracker=wf(t))}function jo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Bo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function ys(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rf=/[\n"\\]/g;function vt(t){return t.replace(Rf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function mn(t,r,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+en(r)):t.value!==""+en(r)&&(t.value=""+en(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?dr(t,v,en(r)):a!=null?dr(t,v,en(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+en(T):t.removeAttribute("name")}function vs(t,r,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+en(a):"",r=r!=null?""+en(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function dr(t,r,a){r==="number"&&ys(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Di(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+en(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function $e(t,r,a){if(r!=null&&(r=""+en(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+en(a):""}function Es(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(He(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=en(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Cn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Ts=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ju(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Ts.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function qo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&ju(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&ju(t,d,r[d])}function Ho(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var If=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _a(t){return Cf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Oi=null;function Dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ni=null,xi=null;function Fo(t){var r=Wn(t);if(r&&(t=r.stateNode)){var a=t[yt]||null;e:switch(t=r.stateNode,r.type){case"input":if(mn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+vt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[yt]||null;if(!h)throw Error(s(90));mn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&jo(l)}break e;case"textarea":$e(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Di(t,!!a.multiple,r,!1)}}}var ei=!1;function qu(t,r,a){if(ei)return t(r,a);ei=!0;try{var l=t(r);return l}finally{if(ei=!1,(Ni!==null||xi!==null)&&(kc(),Ni&&(r=Ni,t=xi,xi=Ni=null,Fo(r),t)))for(r=0;r<t.length;r++)Fo(t[r])}}function As(t,r){var a=t.stateNode;if(a===null)return null;var l=a[yt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),On=!1;if(jn)try{var Ss={};Object.defineProperty(Ss,"passive",{get:function(){On=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch{On=!1}var ti=null,mr=null,Mi=null;function Go(){if(Mi)return Mi;var t,r=mr,a=r.length,l,h="value"in ti?ti.value:ti.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return Mi=h.slice(t,1<l?1-l:void 0)}function ni(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ii(){return!0}function Ko(){return!1}function xt(t){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ii:Ko,this.isPropagationStopped=Ko,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),r}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ya=xt(Fe),bs=E({},Fe,{view:0,detail:0}),Hu=xt(bs),va,Ea,ri,ws=E({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ri&&(ri&&t.type==="mousemove"?(va=t.screenX-ri.screenX,Ea=t.screenY-ri.screenY):Ea=va=0,ri=t),va)},movementY:function(t){return"movementY"in t?t.movementY:Ea}}),Nn=xt(ws),Fu=E({},ws,{dataTransfer:0}),Df=xt(Fu),Rs=E({},bs,{relatedTarget:0}),Ta=xt(Rs),Qo=E({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),Aa=xt(Qo),Gu=E({},Fe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Sa=xt(Gu),Of=E({},Fe,{data:0}),Yo=xt(Of),Is={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $o(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Qu[t])?!!r[t]:!1}function Cs(){return $o}var Yu=E({},bs,{key:function(t){if(t.key){var r=Is[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ni(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ku[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(t){return t.type==="keypress"?ni(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ni(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ba=xt(Yu),$u=E({},ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xo=xt($u),Pi=E({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),Xu=xt(Pi),Wu=E({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zu=xt(Wu),Ju=E({},ws,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wa=xt(Ju),tn=E({},Fe,{newState:0,oldState:0}),ec=xt(tn),tc=[9,13,27,32],si=jn&&"CompositionEvent"in window,c=null;jn&&"documentMode"in document&&(c=document.documentMode);var _=jn&&"TextEvent"in window&&!c,y=jn&&(!si||c&&8<c&&11>=c),A=" ",z=!1;function G(t,r){switch(t){case"keyup":return tc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ve=!1;function wt(t,r){switch(t){case"compositionend":return se(r);case"keypress":return r.which!==32?null:(z=!0,A);case"textInput":return t=r.data,t===A&&z?null:t;default:return null}}function Ue(t,r){if(Ve)return t==="compositionend"||!si&&G(t,r)?(t=Go(),Mi=mr=ti=null,Ve=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return y&&r.locale!=="ko"?null:r.data;default:return null}}var Mt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rt(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Mt[t.type]:r==="textarea"}function ki(t,r,a,l){Ni?xi?xi.push(l):xi=[l]:Ni=l,r=jc(r,"onChange"),0<r.length&&(a=new ya("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var zt=null,ai=null;function Wo(t){sv(t,0)}function nc(t){var r=Zn(t);if(jo(r))return t}function Rg(t,r){if(t==="change")return r}var Ig=!1;if(jn){var Nf;if(jn){var xf="oninput"in document;if(!xf){var Cg=document.createElement("div");Cg.setAttribute("oninput","return;"),xf=typeof Cg.oninput=="function"}Nf=xf}else Nf=!1;Ig=Nf&&(!document.documentMode||9<document.documentMode)}function Dg(){zt&&(zt.detachEvent("onpropertychange",Og),ai=zt=null)}function Og(t){if(t.propertyName==="value"&&nc(ai)){var r=[];ki(r,ai,t,Dn(t)),qu(Wo,r)}}function $S(t,r,a){t==="focusin"?(Dg(),zt=r,ai=a,zt.attachEvent("onpropertychange",Og)):t==="focusout"&&Dg()}function XS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nc(ai)}function WS(t,r){if(t==="click")return nc(r)}function ZS(t,r){if(t==="input"||t==="change")return nc(r)}function JS(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var pn=typeof Object.is=="function"?Object.is:JS;function Zo(t,r){if(pn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!os.call(r,h)||!pn(t[h],r[h]))return!1}return!0}function Ng(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xg(t,r){var a=Ng(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ng(a)}}function Mg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Mg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Pg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=ys(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=ys(t.document)}return r}function Mf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var eb=jn&&"documentMode"in document&&11>=document.documentMode,Ra=null,Pf=null,Jo=null,kf=!1;function kg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kf||Ra==null||Ra!==ys(l)||(l=Ra,"selectionStart"in l&&Mf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Jo&&Zo(Jo,l)||(Jo=l,l=jc(Pf,"onSelect"),0<l.length&&(r=new ya("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ra)))}function Ds(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Ia={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionrun:Ds("Transition","TransitionRun"),transitionstart:Ds("Transition","TransitionStart"),transitioncancel:Ds("Transition","TransitionCancel"),transitionend:Ds("Transition","TransitionEnd")},Vf={},Vg={};jn&&(Vg=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function Os(t){if(Vf[t])return Vf[t];if(!Ia[t])return t;var r=Ia[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Vg)return Vf[t]=r[a];return t}var Ug=Os("animationend"),Lg=Os("animationiteration"),zg=Os("animationstart"),tb=Os("transitionrun"),nb=Os("transitionstart"),ib=Os("transitioncancel"),Bg=Os("transitionend"),jg=new Map,Uf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uf.push("scrollEnd");function qn(t,r){jg.set(t,r),Bn(r,[t])}var qg=new WeakMap;function xn(t,r){if(typeof t=="object"&&t!==null){var a=qg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:pa(r)},qg.set(t,r),r)}return{value:t,source:r,stack:pa(r)}}var Mn=[],Ca=0,Lf=0;function ic(){for(var t=Ca,r=Lf=Ca=0;r<t;){var a=Mn[r];Mn[r++]=null;var l=Mn[r];Mn[r++]=null;var h=Mn[r];Mn[r++]=null;var d=Mn[r];if(Mn[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Hg(a,h,d)}}function rc(t,r,a,l){Mn[Ca++]=t,Mn[Ca++]=r,Mn[Ca++]=a,Mn[Ca++]=l,Lf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function zf(t,r,a,l){return rc(t,r,a,l),sc(t)}function Da(t,r){return rc(t,null,null,r),sc(t)}function Hg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-Kt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function sc(t){if(50<bl)throw bl=0,Gd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Oa={};function rb(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,r,a,l){return new rb(t,r,a,l)}function Bf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vi(t,r){var a=t.alternate;return a===null?(a=gn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Fg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function ac(t,r,a,l,h,d){var v=0;if(l=t,typeof t=="function")Bf(t)&&(v=1);else if(typeof t=="string")v=aw(t,a,_e.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=gn(31,a,r,h),t.elementType=I,t.lanes=d,t;case O:return Ns(a.children,h,d,r);case F:v=8,h|=24;break;case U:return t=gn(12,a,r,h|2),t.elementType=U,t.lanes=d,t;case ue:return t=gn(13,a,r,h),t.elementType=ue,t.lanes=d,t;case me:return t=gn(19,a,r,h),t.elementType=me,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K:case $:v=10;break e;case ie:v=9;break e;case ae:v=11;break e;case x:v=14;break e;case w:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=gn(v,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function Ns(t,r,a,l){return t=gn(7,t,l,r),t.lanes=a,t}function jf(t,r,a){return t=gn(6,t,null,r),t.lanes=a,t}function qf(t,r,a){return r=gn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Na=[],xa=0,oc=null,lc=0,Pn=[],kn=0,xs=null,Ui=1,Li="";function Ms(t,r){Na[xa++]=lc,Na[xa++]=oc,oc=t,lc=r}function Gg(t,r,a){Pn[kn++]=Ui,Pn[kn++]=Li,Pn[kn++]=xs,xs=t;var l=Ui;t=Li;var h=32-Kt(l)-1;l&=~(1<<h),a+=1;var d=32-Kt(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ui=1<<32-Kt(r)+h|a<<h|l,Li=d+t}else Ui=1<<d|a<<h|l,Li=t}function Hf(t){t.return!==null&&(Ms(t,1),Gg(t,1,0))}function Ff(t){for(;t===oc;)oc=Na[--xa],Na[xa]=null,lc=Na[--xa],Na[xa]=null;for(;t===xs;)xs=Pn[--kn],Pn[kn]=null,Li=Pn[--kn],Pn[kn]=null,Ui=Pn[--kn],Pn[kn]=null}var nn=null,ht=null,qe=!1,Ps=null,oi=!1,Gf=Error(s(519));function ks(t){var r=Error(s(418,""));throw nl(xn(r,t)),Gf}function Kg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[bt]=t,r[yt]=l,a){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(a=0;a<Rl.length;a++)Me(Rl[a],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Me("invalid",r),vs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ga(r);break;case"select":Me("invalid",r);break;case"textarea":Me("invalid",r),Es(r,l.value,l.defaultValue,l.children),ga(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||uv(r.textContent,a)?(l.popover!=null&&(Me("beforetoggle",r),Me("toggle",r)),l.onScroll!=null&&Me("scroll",r),l.onScrollEnd!=null&&Me("scrollend",r),l.onClick!=null&&(r.onclick=qc),r=!0):r=!1,r||ks(t)}function Qg(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 13:oi=!1;return;case 27:case 3:oi=!0;return;default:nn=nn.return}}function el(t){if(t!==nn)return!1;if(!qe)return Qg(t),qe=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||om(t.type,t.memoizedProps)),a=!a),a&&ht&&ks(t),Qg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){ht=Fn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}ht=null}}else r===27?(r=ht,Or(t.type)?(t=hm,hm=null,ht=t):ht=r):ht=nn?Fn(t.stateNode.nextSibling):null;return!0}function tl(){ht=nn=null,qe=!1}function Yg(){var t=Ps;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),Ps=null),t}function nl(t){Ps===null?Ps=[t]:Ps.push(t)}var Kf=ne(null),Vs=null,zi=null;function pr(t,r,a){re(Kf,r._currentValue),r._currentValue=a}function Bi(t){t._currentValue=Kf.current,le(Kf)}function Qf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Yf(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var D=0;D<r.length;D++)if(T.context===r[D]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Qf(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Qf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function il(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;pn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Nt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(xl):t=[xl])}h=h.return}t!==null&&Yf(r,t,a,l),r.flags|=262144}function uc(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Us(t){Vs=t,zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return $g(Vs,t)}function cc(t,r){return Vs===null&&Us(t),$g(t,r)}function $g(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},zi===null){if(t===null)throw Error(s(308));zi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else zi=zi.next=r;return a}var sb=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},ab=i.unstable_scheduleCallback,ob=i.unstable_NormalPriority,It={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $f(){return{controller:new sb,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&ab(ob,function(){t.controller.abort()})}var sl=null,Xf=0,Ma=0,Pa=null;function lb(t,r){if(sl===null){var a=sl=[];Xf=0,Ma=Zd(),Pa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Xf++,r.then(Xg,Xg),r}function Xg(){if(--Xf===0&&sl!==null){Pa!==null&&(Pa.status="fulfilled");var t=sl;sl=null,Ma=0,Pa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function ub(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Wg=Y.S;Y.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&lb(t,r),Wg!==null&&Wg(t,r)};var Ls=ne(null);function Wf(){var t=Ls.current;return t!==null?t:tt.pooledCache}function hc(t,r){r===null?re(Ls,Ls.current):re(Ls,r.pool)}function Zg(){var t=Wf();return t===null?null:{parent:It._currentValue,pool:t}}var al=Error(s(460)),Jg=Error(s(474)),fc=Error(s(542)),Zf={then:function(){}};function e_(t){return t=t.status,t==="fulfilled"||t==="rejected"}function dc(){}function t_(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(dc,dc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,i_(t),t;default:if(typeof r.status=="string")r.then(dc,dc);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,i_(t),t}throw ol=r,al}}var ol=null;function n_(){if(ol===null)throw Error(s(459));var t=ol;return ol=null,t}function i_(t){if(t===al||t===fc)throw Error(s(483))}var gr=!1;function Jf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ed(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function _r(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function yr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=sc(t),Hg(t,null,a),r}return rc(t,l,r,a),sc(t)}function ll(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Vo(t,a)}}function td(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var nd=!1;function ul(){if(nd){var t=Pa;if(t!==null)throw t}}function cl(t,r,a,l){nd=!1;var h=t.updateQueue;gr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,j=D.next;D.next=null,v===null?d=j:v.next=j,v=D;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==v&&(T===null?X.firstBaseUpdate=j:T.next=j,X.lastBaseUpdate=D))}if(d!==null){var J=h.baseState;v=0,X=j=D=null,T=d;do{var q=T.lane&-536870913,H=q!==T.lane;if(H?(Le&q)===q:(l&q)===q){q!==0&&q===Ma&&(nd=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ae=t,ye=T;q=r;var Ze=a;switch(ye.tag){case 1:if(Ae=ye.payload,typeof Ae=="function"){J=Ae.call(Ze,J,q);break e}J=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=ye.payload,q=typeof Ae=="function"?Ae.call(Ze,J,q):Ae,q==null)break e;J=E({},J,q);break e;case 2:gr=!0}}q=T.callback,q!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[q]:H.push(q))}else H={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(j=X=H,D=J):X=X.next=H,v|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);X===null&&(D=J),h.baseState=D,h.firstBaseUpdate=j,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Rr|=v,t.lanes=v,t.memoizedState=J}}function r_(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function s_(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)r_(a[t],r)}var ka=ne(null),mc=ne(0);function a_(t,r){t=Qi,re(mc,t),re(ka,r),Qi=t|r.baseLanes}function id(){re(mc,Qi),re(ka,ka.current)}function rd(){Qi=mc.current,le(ka),le(mc)}var vr=0,Ie=null,Xe=null,Et=null,pc=!1,Va=!1,zs=!1,gc=0,hl=0,Ua=null,cb=0;function pt(){throw Error(s(321))}function sd(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!pn(t[a],r[a]))return!1;return!0}function ad(t,r,a,l,h,d){return vr=d,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=t===null||t.memoizedState===null?H_:F_,zs=!1,d=a(l,h),zs=!1,Va&&(d=l_(r,a,l,h)),o_(t),d}function o_(t){Y.H=Ac;var r=Xe!==null&&Xe.next!==null;if(vr=0,Et=Xe=Ie=null,pc=!1,hl=0,Ua=null,r)throw Error(s(300));t===null||Pt||(t=t.dependencies,t!==null&&uc(t)&&(Pt=!0))}function l_(t,r,a,l){Ie=t;var h=0;do{if(Va&&(Ua=null),hl=0,Va=!1,25<=h)throw Error(s(301));if(h+=1,Et=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=_b,d=r(a,l)}while(Va);return d}function hb(){var t=Y.H,r=t.useState()[0];return r=typeof r.then=="function"?fl(r):r,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Ie.flags|=1024),r}function od(){var t=gc!==0;return gc=0,t}function ld(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function ud(t){if(pc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}pc=!1}vr=0,Et=Xe=Ie=null,Va=!1,hl=gc=0,Ua=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Ie.memoizedState=Et=t:Et=Et.next=t,Et}function Tt(){if(Xe===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var r=Et===null?Ie.memoizedState:Et.next;if(r!==null)Et=r,Xe=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},Et===null?Ie.memoizedState=Et=t:Et=Et.next=t}return Et}function cd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var r=hl;return hl+=1,Ua===null&&(Ua=[]),t=t_(Ua,t,r),r=Ie,(Et===null?r.memoizedState:Et.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?H_:F_),t}function _c(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===$)return Qt(t)}throw Error(s(438,String(t)))}function hd(t){var r=null,a=Ie.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=cd(),Ie.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=M;return r.index++,a}function ji(t,r){return typeof r=="function"?r(t):r}function yc(t){var r=Tt();return fd(r,Xe,t)}function fd(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var T=v=null,D=null,j=r,X=!1;do{var J=j.lane&-536870913;if(J!==j.lane?(Le&J)===J:(vr&J)===J){var q=j.revertLane;if(q===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),J===Ma&&(X=!0);else if((vr&q)===q){j=j.next,q===Ma&&(X=!0);continue}else J={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(T=D=J,v=d):D=D.next=J,Ie.lanes|=q,Rr|=q;J=j.action,zs&&a(d,J),d=j.hasEagerState?j.eagerState:a(d,J)}else q={lane:J,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(T=D=q,v=d):D=D.next=q,Ie.lanes|=J,Rr|=J;j=j.next}while(j!==null&&j!==r);if(D===null?v=d:D.next=T,!pn(d,t.memoizedState)&&(Pt=!0,X&&(a=Pa,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function dd(t){var r=Tt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);pn(d,r.memoizedState)||(Pt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function u_(t,r,a){var l=Ie,h=Tt(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!pn((Xe||h).memoizedState,a);v&&(h.memoizedState=a,Pt=!0),h=h.queue;var T=f_.bind(null,l,h,t);if(dl(2048,8,T,[t]),h.getSnapshot!==r||v||Et!==null&&Et.memoizedState.tag&1){if(l.flags|=2048,La(9,vc(),h_.bind(null,l,h,a,r),null),tt===null)throw Error(s(349));d||(vr&124)!==0||c_(l,r,a)}return a}function c_(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ie.updateQueue,r===null?(r=cd(),Ie.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function h_(t,r,a,l){r.value=a,r.getSnapshot=l,d_(r)&&m_(t)}function f_(t,r,a){return a(function(){d_(r)&&m_(t)})}function d_(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!pn(t,a)}catch{return!0}}function m_(t){var r=Da(t,2);r!==null&&Tn(r,t,2)}function md(t){var r=an();if(typeof t=="function"){var a=t;if(t=a(),zs){dn(!0);try{a()}finally{dn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:t},r}function p_(t,r,a,l){return t.baseState=a,fd(t,Xe,typeof l=="function"?l:ji)}function fb(t,r,a,l,h){if(Tc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,g_(r,d)):(d.next=a.next,r.pending=a.next=d)}}function g_(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=Y.T,v={};Y.T=v;try{var T=a(h,l),D=Y.S;D!==null&&D(v,T),__(t,r,T)}catch(j){pd(t,r,j)}finally{Y.T=d}}else try{d=a(h,l),__(t,r,d)}catch(j){pd(t,r,j)}}function __(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){y_(t,r,l)},function(l){return pd(t,r,l)}):y_(t,r,a)}function y_(t,r,a){r.status="fulfilled",r.value=a,v_(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,g_(t,a)))}function pd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,v_(r),r=r.next;while(r!==l)}t.action=null}function v_(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function E_(t,r){return r}function T_(t,r){if(qe){var a=tt.formState;if(a!==null){e:{var l=Ie;if(qe){if(ht){t:{for(var h=ht,d=oi;h.nodeType!==8;){if(!d){h=null;break t}if(h=Fn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ht=Fn(h.nextSibling),l=h.data==="F!";break e}}ks(l)}l=!1}l&&(r=a[0])}}return a=an(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:E_,lastRenderedState:r},a.queue=l,a=B_.bind(null,Ie,l),l.dispatch=a,l=md(!1),d=Ed.bind(null,Ie,!1,l.queue),l=an(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=fb.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function A_(t){var r=Tt();return S_(r,Xe,t)}function S_(t,r,a){if(r=fd(t,r,E_)[0],t=yc(ji)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=fl(r)}catch(v){throw v===al?fc:v}else l=r;r=Tt();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Ie.flags|=2048,La(9,vc(),db.bind(null,h,a),null)),[l,d,t]}function db(t,r){t.action=r}function b_(t){var r=Tt(),a=Xe;if(a!==null)return S_(r,a,t);Tt(),r=r.memoizedState,a=Tt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function La(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=cd(),Ie.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function vc(){return{destroy:void 0,resource:void 0}}function w_(){return Tt().memoizedState}function Ec(t,r,a,l){var h=an();l=l===void 0?null:l,Ie.flags|=t,h.memoizedState=La(1|r,vc(),a,l)}function dl(t,r,a,l){var h=Tt();l=l===void 0?null:l;var d=h.memoizedState.inst;Xe!==null&&l!==null&&sd(l,Xe.memoizedState.deps)?h.memoizedState=La(r,d,a,l):(Ie.flags|=t,h.memoizedState=La(1|r,d,a,l))}function R_(t,r){Ec(8390656,8,t,r)}function I_(t,r){dl(2048,8,t,r)}function C_(t,r){return dl(4,2,t,r)}function D_(t,r){return dl(4,4,t,r)}function O_(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function N_(t,r,a){a=a!=null?a.concat([t]):null,dl(4,4,O_.bind(null,r,t),a)}function gd(){}function x_(t,r){var a=Tt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&sd(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function M_(t,r){var a=Tt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&sd(r,l[1]))return l[0];if(l=t(),zs){dn(!0);try{t()}finally{dn(!1)}}return a.memoizedState=[l,r],l}function _d(t,r,a){return a===void 0||(vr&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=Vy(),Ie.lanes|=t,Rr|=t,a)}function P_(t,r,a,l){return pn(a,r)?a:ka.current!==null?(t=_d(t,a,l),pn(t,r)||(Pt=!0),t):(vr&42)===0?(Pt=!0,t.memoizedState=a):(t=Vy(),Ie.lanes|=t,Rr|=t,r)}function k_(t,r,a,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var v=Y.T,T={};Y.T=T,Ed(t,!1,r,a);try{var D=h(),j=Y.S;if(j!==null&&j(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var X=ub(D,l);ml(t,r,X,En(t))}else ml(t,r,l,En(t))}catch(J){ml(t,r,{then:function(){},status:"rejected",reason:J},En())}finally{oe.p=d,Y.T=v}}function mb(){}function yd(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=V_(t).queue;k_(t,h,r,pe,a===null?mb:function(){return U_(t),a(l)})}function V_(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:pe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function U_(t){var r=V_(t).next.queue;ml(t,r,{},En())}function vd(){return Qt(xl)}function L_(){return Tt().memoizedState}function z_(){return Tt().memoizedState}function pb(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=En();t=_r(a);var l=yr(r,t,a);l!==null&&(Tn(l,r,a),ll(l,r,a)),r={cache:$f()},t.payload=r;return}r=r.return}}function gb(t,r,a){var l=En();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Tc(t)?j_(r,a):(a=zf(t,r,a,l),a!==null&&(Tn(a,t,l),q_(a,r,l)))}function B_(t,r,a){var l=En();ml(t,r,a,l)}function ml(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Tc(t))j_(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,pn(T,v))return rc(t,r,h,0),tt===null&&ic(),!1}catch{}finally{}if(a=zf(t,r,h,l),a!==null)return Tn(a,t,l),q_(a,r,l),!0}return!1}function Ed(t,r,a,l){if(l={lane:2,revertLane:Zd(),action:l,hasEagerState:!1,eagerState:null,next:null},Tc(t)){if(r)throw Error(s(479))}else r=zf(t,a,l,2),r!==null&&Tn(r,t,2)}function Tc(t){var r=t.alternate;return t===Ie||r!==null&&r===Ie}function j_(t,r){Va=pc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function q_(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Vo(t,a)}}var Ac={readContext:Qt,use:_c,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt},H_={readContext:Qt,use:_c,useCallback:function(t,r){return an().memoizedState=[t,r===void 0?null:r],t},useContext:Qt,useEffect:R_,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Ec(4194308,4,O_.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Ec(4194308,4,t,r)},useInsertionEffect:function(t,r){Ec(4,2,t,r)},useMemo:function(t,r){var a=an();r=r===void 0?null:r;var l=t();if(zs){dn(!0);try{t()}finally{dn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=an();if(a!==void 0){var h=a(r);if(zs){dn(!0);try{a(r)}finally{dn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=gb.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var r=an();return t={current:t},r.memoizedState=t},useState:function(t){t=md(t);var r=t.queue,a=B_.bind(null,Ie,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:gd,useDeferredValue:function(t,r){var a=an();return _d(a,t,r)},useTransition:function(){var t=md(!1);return t=k_.bind(null,Ie,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ie,h=an();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),tt===null)throw Error(s(349));(Le&124)!==0||c_(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,R_(f_.bind(null,l,d,t),[t]),l.flags|=2048,La(9,vc(),h_.bind(null,l,d,a,r),null),a},useId:function(){var t=an(),r=tt.identifierPrefix;if(qe){var a=Li,l=Ui;a=(l&~(1<<32-Kt(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=gc++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=cb++,r="«"+r+"r"+a.toString(32)+"»";return t.memoizedState=r},useHostTransitionStatus:vd,useFormState:T_,useActionState:T_,useOptimistic:function(t){var r=an();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Ed.bind(null,Ie,!0,a),a.dispatch=r,[t,r]},useMemoCache:hd,useCacheRefresh:function(){return an().memoizedState=pb.bind(null,Ie)}},F_={readContext:Qt,use:_c,useCallback:x_,useContext:Qt,useEffect:I_,useImperativeHandle:N_,useInsertionEffect:C_,useLayoutEffect:D_,useMemo:M_,useReducer:yc,useRef:w_,useState:function(){return yc(ji)},useDebugValue:gd,useDeferredValue:function(t,r){var a=Tt();return P_(a,Xe.memoizedState,t,r)},useTransition:function(){var t=yc(ji)[0],r=Tt().memoizedState;return[typeof t=="boolean"?t:fl(t),r]},useSyncExternalStore:u_,useId:L_,useHostTransitionStatus:vd,useFormState:A_,useActionState:A_,useOptimistic:function(t,r){var a=Tt();return p_(a,Xe,t,r)},useMemoCache:hd,useCacheRefresh:z_},_b={readContext:Qt,use:_c,useCallback:x_,useContext:Qt,useEffect:I_,useImperativeHandle:N_,useInsertionEffect:C_,useLayoutEffect:D_,useMemo:M_,useReducer:dd,useRef:w_,useState:function(){return dd(ji)},useDebugValue:gd,useDeferredValue:function(t,r){var a=Tt();return Xe===null?_d(a,t,r):P_(a,Xe.memoizedState,t,r)},useTransition:function(){var t=dd(ji)[0],r=Tt().memoizedState;return[typeof t=="boolean"?t:fl(t),r]},useSyncExternalStore:u_,useId:L_,useHostTransitionStatus:vd,useFormState:b_,useActionState:b_,useOptimistic:function(t,r){var a=Tt();return Xe!==null?p_(a,Xe,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:hd,useCacheRefresh:z_},za=null,pl=0;function Sc(t){var r=pl;return pl+=1,za===null&&(za=[]),t_(za,t,r)}function gl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function bc(t,r){throw r.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function G_(t){var r=t._init;return r(t._payload)}function K_(t){function r(L,k){if(t){var B=L.deletions;B===null?(L.deletions=[k],L.flags|=16):B.push(k)}}function a(L,k){if(!t)return null;for(;k!==null;)r(L,k),k=k.sibling;return null}function l(L){for(var k=new Map;L!==null;)L.key!==null?k.set(L.key,L):k.set(L.index,L),L=L.sibling;return k}function h(L,k){return L=Vi(L,k),L.index=0,L.sibling=null,L}function d(L,k,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<k?(L.flags|=67108866,k):B):(L.flags|=67108866,k)):(L.flags|=1048576,k)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,k,B,Z){return k===null||k.tag!==6?(k=jf(B,L.mode,Z),k.return=L,k):(k=h(k,B),k.return=L,k)}function D(L,k,B,Z){var fe=B.type;return fe===O?X(L,k,B.props.children,Z,B.key):k!==null&&(k.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&G_(fe)===k.type)?(k=h(k,B.props),gl(k,B),k.return=L,k):(k=ac(B.type,B.key,B.props,null,L.mode,Z),gl(k,B),k.return=L,k)}function j(L,k,B,Z){return k===null||k.tag!==4||k.stateNode.containerInfo!==B.containerInfo||k.stateNode.implementation!==B.implementation?(k=qf(B,L.mode,Z),k.return=L,k):(k=h(k,B.children||[]),k.return=L,k)}function X(L,k,B,Z,fe){return k===null||k.tag!==7?(k=Ns(B,L.mode,Z,fe),k.return=L,k):(k=h(k,B),k.return=L,k)}function J(L,k,B){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=jf(""+k,L.mode,B),k.return=L,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case b:return B=ac(k.type,k.key,k.props,null,L.mode,B),gl(B,k),B.return=L,B;case P:return k=qf(k,L.mode,B),k.return=L,k;case w:var Z=k._init;return k=Z(k._payload),J(L,k,B)}if(He(k)||C(k))return k=Ns(k,L.mode,B,null),k.return=L,k;if(typeof k.then=="function")return J(L,Sc(k),B);if(k.$$typeof===$)return J(L,cc(L,k),B);bc(L,k)}return null}function q(L,k,B,Z){var fe=k!==null?k.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return fe!==null?null:T(L,k,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return B.key===fe?D(L,k,B,Z):null;case P:return B.key===fe?j(L,k,B,Z):null;case w:return fe=B._init,B=fe(B._payload),q(L,k,B,Z)}if(He(B)||C(B))return fe!==null?null:X(L,k,B,Z,null);if(typeof B.then=="function")return q(L,k,Sc(B),Z);if(B.$$typeof===$)return q(L,k,cc(L,B),Z);bc(L,B)}return null}function H(L,k,B,Z,fe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(B)||null,T(k,L,""+Z,fe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return L=L.get(Z.key===null?B:Z.key)||null,D(k,L,Z,fe);case P:return L=L.get(Z.key===null?B:Z.key)||null,j(k,L,Z,fe);case w:var Ne=Z._init;return Z=Ne(Z._payload),H(L,k,B,Z,fe)}if(He(Z)||C(Z))return L=L.get(B)||null,X(k,L,Z,fe,null);if(typeof Z.then=="function")return H(L,k,B,Sc(Z),fe);if(Z.$$typeof===$)return H(L,k,B,cc(k,Z),fe);bc(k,Z)}return null}function Ae(L,k,B,Z){for(var fe=null,Ne=null,de=k,ve=k=0,Vt=null;de!==null&&ve<B.length;ve++){de.index>ve?(Vt=de,de=null):Vt=de.sibling;var Be=q(L,de,B[ve],Z);if(Be===null){de===null&&(de=Vt);break}t&&de&&Be.alternate===null&&r(L,de),k=d(Be,k,ve),Ne===null?fe=Be:Ne.sibling=Be,Ne=Be,de=Vt}if(ve===B.length)return a(L,de),qe&&Ms(L,ve),fe;if(de===null){for(;ve<B.length;ve++)de=J(L,B[ve],Z),de!==null&&(k=d(de,k,ve),Ne===null?fe=de:Ne.sibling=de,Ne=de);return qe&&Ms(L,ve),fe}for(de=l(de);ve<B.length;ve++)Vt=H(de,L,ve,B[ve],Z),Vt!==null&&(t&&Vt.alternate!==null&&de.delete(Vt.key===null?ve:Vt.key),k=d(Vt,k,ve),Ne===null?fe=Vt:Ne.sibling=Vt,Ne=Vt);return t&&de.forEach(function(kr){return r(L,kr)}),qe&&Ms(L,ve),fe}function ye(L,k,B,Z){if(B==null)throw Error(s(151));for(var fe=null,Ne=null,de=k,ve=k=0,Vt=null,Be=B.next();de!==null&&!Be.done;ve++,Be=B.next()){de.index>ve?(Vt=de,de=null):Vt=de.sibling;var kr=q(L,de,Be.value,Z);if(kr===null){de===null&&(de=Vt);break}t&&de&&kr.alternate===null&&r(L,de),k=d(kr,k,ve),Ne===null?fe=kr:Ne.sibling=kr,Ne=kr,de=Vt}if(Be.done)return a(L,de),qe&&Ms(L,ve),fe;if(de===null){for(;!Be.done;ve++,Be=B.next())Be=J(L,Be.value,Z),Be!==null&&(k=d(Be,k,ve),Ne===null?fe=Be:Ne.sibling=Be,Ne=Be);return qe&&Ms(L,ve),fe}for(de=l(de);!Be.done;ve++,Be=B.next())Be=H(de,L,ve,Be.value,Z),Be!==null&&(t&&Be.alternate!==null&&de.delete(Be.key===null?ve:Be.key),k=d(Be,k,ve),Ne===null?fe=Be:Ne.sibling=Be,Ne=Be);return t&&de.forEach(function(yw){return r(L,yw)}),qe&&Ms(L,ve),fe}function Ze(L,k,B,Z){if(typeof B=="object"&&B!==null&&B.type===O&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case b:e:{for(var fe=B.key;k!==null;){if(k.key===fe){if(fe=B.type,fe===O){if(k.tag===7){a(L,k.sibling),Z=h(k,B.props.children),Z.return=L,L=Z;break e}}else if(k.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===w&&G_(fe)===k.type){a(L,k.sibling),Z=h(k,B.props),gl(Z,B),Z.return=L,L=Z;break e}a(L,k);break}else r(L,k);k=k.sibling}B.type===O?(Z=Ns(B.props.children,L.mode,Z,B.key),Z.return=L,L=Z):(Z=ac(B.type,B.key,B.props,null,L.mode,Z),gl(Z,B),Z.return=L,L=Z)}return v(L);case P:e:{for(fe=B.key;k!==null;){if(k.key===fe)if(k.tag===4&&k.stateNode.containerInfo===B.containerInfo&&k.stateNode.implementation===B.implementation){a(L,k.sibling),Z=h(k,B.children||[]),Z.return=L,L=Z;break e}else{a(L,k);break}else r(L,k);k=k.sibling}Z=qf(B,L.mode,Z),Z.return=L,L=Z}return v(L);case w:return fe=B._init,B=fe(B._payload),Ze(L,k,B,Z)}if(He(B))return Ae(L,k,B,Z);if(C(B)){if(fe=C(B),typeof fe!="function")throw Error(s(150));return B=fe.call(B),ye(L,k,B,Z)}if(typeof B.then=="function")return Ze(L,k,Sc(B),Z);if(B.$$typeof===$)return Ze(L,k,cc(L,B),Z);bc(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,k!==null&&k.tag===6?(a(L,k.sibling),Z=h(k,B),Z.return=L,L=Z):(a(L,k),Z=jf(B,L.mode,Z),Z.return=L,L=Z),v(L)):a(L,k)}return function(L,k,B,Z){try{pl=0;var fe=Ze(L,k,B,Z);return za=null,fe}catch(de){if(de===al||de===fc)throw de;var Ne=gn(29,de,null,L.mode);return Ne.lanes=Z,Ne.return=L,Ne}finally{}}}var Ba=K_(!0),Q_=K_(!1),Vn=ne(null),li=null;function Er(t){var r=t.alternate;re(Ct,Ct.current&1),re(Vn,t),li===null&&(r===null||ka.current!==null||r.memoizedState!==null)&&(li=t)}function Y_(t){if(t.tag===22){if(re(Ct,Ct.current),re(Vn,t),li===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(li=t)}}else Tr()}function Tr(){re(Ct,Ct.current),re(Vn,Vn.current)}function qi(t){le(Vn),li===t&&(li=null),le(Ct)}var Ct=ne(0);function wc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||cm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Td(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Ad={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=En(),h=_r(l);h.payload=r,a!=null&&(h.callback=a),r=yr(t,h,l),r!==null&&(Tn(r,t,l),ll(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=En(),h=_r(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=yr(t,h,l),r!==null&&(Tn(r,t,l),ll(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=En(),l=_r(a);l.tag=2,r!=null&&(l.callback=r),r=yr(t,l,a),r!==null&&(Tn(r,t,a),ll(r,t,a))}};function $_(t,r,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!Zo(a,l)||!Zo(h,d):!0}function X_(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Ad.enqueueReplaceState(r,r.state,null)}function Bs(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Rc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function W_(t){Rc(t)}function Z_(t){console.error(t)}function J_(t){Rc(t)}function Ic(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function ey(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Sd(t,r,a){return a=_r(a),a.tag=3,a.payload={element:null},a.callback=function(){Ic(t,r)},a}function ty(t){return t=_r(t),t.tag=3,t}function ny(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){ey(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){ey(r,a,l),typeof h!="function"&&(Ir===null?Ir=new Set([this]):Ir.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function yb(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&il(r,a,h,!0),a=Vn.current,a!==null){switch(a.tag){case 13:return li===null?Qd():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Zf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),$d(t,l,h)),!1;case 22:return a.flags|=65536,l===Zf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),$d(t,l,h)),!1}throw Error(s(435,a.tag))}return $d(t,l,h),Qd(),!1}if(qe)return r=Vn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Gf&&(t=Error(s(422),{cause:l}),nl(xn(t,a)))):(l!==Gf&&(r=Error(s(423),{cause:l}),nl(xn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=xn(l,a),h=Sd(t.stateNode,l,h),td(t,h),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:l});if(d=xn(d,a),Sl===null?Sl=[d]:Sl.push(d),ft!==4&&(ft=2),r===null)return!0;l=xn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Sd(a.stateNode,l,t),td(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ir===null||!Ir.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ty(h),ny(h,t,a,l),td(a,h),!1}a=a.return}while(a!==null);return!1}var iy=Error(s(461)),Pt=!1;function Bt(t,r,a,l){r.child=t===null?Q_(r,null,a,l):Ba(r,t.child,a,l)}function ry(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Us(r),l=ad(t,r,a,v,d,h),T=od(),t!==null&&!Pt?(ld(t,r,h),Hi(t,r,h)):(qe&&T&&Hf(r),r.flags|=1,Bt(t,r,l,h),r.child)}function sy(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Bf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,ay(t,r,d,l,h)):(t=ac(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Nd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Zo,a(v,l)&&t.ref===r.ref)return Hi(t,r,h)}return r.flags|=1,t=Vi(d,l),t.ref=r.ref,t.return=r,r.child=t}function ay(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(Zo(d,l)&&t.ref===r.ref)if(Pt=!1,r.pendingProps=l=d,Nd(t,h))(t.flags&131072)!==0&&(Pt=!0);else return r.lanes=t.lanes,Hi(t,r,h)}return bd(t,r,a,l,h)}function oy(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return ly(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&hc(r,d!==null?d.cachePool:null),d!==null?a_(r,d):id(),Y_(r);else return r.lanes=r.childLanes=536870912,ly(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(hc(r,d.cachePool),a_(r,d),Tr(),r.memoizedState=null):(t!==null&&hc(r,null),id(),Tr());return Bt(t,r,h,a),r.child}function ly(t,r,a,l){var h=Wf();return h=h===null?null:{parent:It._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&hc(r,null),id(),Y_(r),t!==null&&il(t,r,l,!0),null}function Cc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function bd(t,r,a,l,h){return Us(r),a=ad(t,r,a,l,void 0,h),l=od(),t!==null&&!Pt?(ld(t,r,h),Hi(t,r,h)):(qe&&l&&Hf(r),r.flags|=1,Bt(t,r,a,h),r.child)}function uy(t,r,a,l,h,d){return Us(r),r.updateQueue=null,a=l_(r,l,a,h),o_(t),l=od(),t!==null&&!Pt?(ld(t,r,d),Hi(t,r,d)):(qe&&l&&Hf(r),r.flags|=1,Bt(t,r,a,d),r.child)}function cy(t,r,a,l,h){if(Us(r),r.stateNode===null){var d=Oa,v=a.contextType;typeof v=="object"&&v!==null&&(d=Qt(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ad,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Jf(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Qt(v):Oa,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Td(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Ad.enqueueReplaceState(d,d.state,null),cl(r,l,d,h),ul(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,D=Bs(a,T);d.props=D;var j=d.context,X=a.contextType;v=Oa,typeof X=="object"&&X!==null&&(v=Qt(X));var J=a.getDerivedStateFromProps;X=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||j!==v)&&X_(r,d,l,v),gr=!1;var q=r.memoizedState;d.state=q,cl(r,l,d,h),ul(),j=r.memoizedState,T||q!==j||gr?(typeof J=="function"&&(Td(r,a,J,l),j=r.memoizedState),(D=gr||$_(r,a,D,l,q,j,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=j),d.props=l,d.state=j,d.context=v,l=D):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,ed(t,r),v=r.memoizedProps,X=Bs(a,v),d.props=X,J=r.pendingProps,q=d.context,j=a.contextType,D=Oa,typeof j=="object"&&j!==null&&(D=Qt(j)),T=a.getDerivedStateFromProps,(j=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==J||q!==D)&&X_(r,d,l,D),gr=!1,q=r.memoizedState,d.state=q,cl(r,l,d,h),ul();var H=r.memoizedState;v!==J||q!==H||gr||t!==null&&t.dependencies!==null&&uc(t.dependencies)?(typeof T=="function"&&(Td(r,a,T,l),H=r.memoizedState),(X=gr||$_(r,a,X,l,q,H,D)||t!==null&&t.dependencies!==null&&uc(t.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,D)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=H),d.props=l,d.state=H,d.context=D,l=X):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Cc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Ba(r,t.child,null,h),r.child=Ba(r,null,a,h)):Bt(t,r,a,h),r.memoizedState=d.state,t=r.child):t=Hi(t,r,h),t}function hy(t,r,a,l){return tl(),r.flags|=256,Bt(t,r,a,l),r.child}var wd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rd(t){return{baseLanes:t,cachePool:Zg()}}function Id(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Un),t}function fy(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(qe){if(h?Er(r):Tr(),qe){var T=ht,D;if(D=T){e:{for(D=T,T=oi;D.nodeType!==8;){if(!T){T=null;break e}if(D=Fn(D.nextSibling),D===null){T=null;break e}}T=D}T!==null?(r.memoizedState={dehydrated:T,treeContext:xs!==null?{id:Ui,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},D=gn(18,null,null,0),D.stateNode=T,D.return=r,r.child=D,nn=r,ht=null,D=!0):D=!1}D||ks(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return cm(T)?r.lanes=32:r.lanes=536870912,null;qi(r)}return T=l.children,l=l.fallback,h?(Tr(),h=r.mode,T=Dc({mode:"hidden",children:T},h),l=Ns(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=Rd(a),h.childLanes=Id(t,v,a),r.memoizedState=wd,l):(Er(r),Cd(r,T))}if(D=t.memoizedState,D!==null&&(T=D.dehydrated,T!==null)){if(d)r.flags&256?(Er(r),r.flags&=-257,r=Dd(t,r,a)):r.memoizedState!==null?(Tr(),r.child=t.child,r.flags|=128,r=null):(Tr(),h=l.fallback,T=r.mode,l=Dc({mode:"visible",children:l.children},T),h=Ns(h,T,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Ba(r,t.child,null,a),l=r.child,l.memoizedState=Rd(a),l.childLanes=Id(t,v,a),r.memoizedState=wd,r=h);else if(Er(r),cm(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var j=v.dgst;v=j,l=Error(s(419)),l.stack="",l.digest=v,nl({value:l,source:null,stack:null}),r=Dd(t,r,a)}else if(Pt||il(t,r,a,!1),v=(a&t.childLanes)!==0,Pt||v){if(v=tt,v!==null&&(l=a&-a,l=(l&42)!==0?1:lr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,Da(t,l),Tn(v,t,l),iy;T.data==="$?"||Qd(),r=Dd(t,r,a)}else T.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=D.treeContext,ht=Fn(T.nextSibling),nn=r,qe=!0,Ps=null,oi=!1,t!==null&&(Pn[kn++]=Ui,Pn[kn++]=Li,Pn[kn++]=xs,Ui=t.id,Li=t.overflow,xs=r),r=Cd(r,l.children),r.flags|=4096);return r}return h?(Tr(),h=l.fallback,T=r.mode,D=t.child,j=D.sibling,l=Vi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,j!==null?h=Vi(j,h):(h=Ns(h,T,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=t.child.memoizedState,T===null?T=Rd(a):(D=T.cachePool,D!==null?(j=It._currentValue,D=D.parent!==j?{parent:j,pool:j}:D):D=Zg(),T={baseLanes:T.baseLanes|a,cachePool:D}),h.memoizedState=T,h.childLanes=Id(t,v,a),r.memoizedState=wd,l):(Er(r),a=t.child,t=a.sibling,a=Vi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function Cd(t,r){return r=Dc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Dc(t,r){return t=gn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Dd(t,r,a){return Ba(r,t.child,null,a),t=Cd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function dy(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Qf(t.return,r,a)}function Od(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function my(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(Bt(t,r,l.children,a),l=Ct.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dy(t,a,r);else if(t.tag===19)dy(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(re(Ct,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&wc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),Od(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&wc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Od(r,!0,a,null,d);break;case"together":Od(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Hi(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Rr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(il(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Vi(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Vi(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Nd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&uc(t)))}function vb(t,r,a){switch(r.tag){case 3:et(r,r.stateNode.containerInfo),pr(r,It,t.memoizedState.cache),tl();break;case 27:case 5:or(r);break;case 4:et(r,r.stateNode.containerInfo);break;case 10:pr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Er(r),r.flags|=128,null):(a&r.child.childLanes)!==0?fy(t,r,a):(Er(r),t=Hi(t,r,a),t!==null?t.sibling:null);Er(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(il(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return my(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(Ct,Ct.current),l)break;return null;case 22:case 23:return r.lanes=0,oy(t,r,a);case 24:pr(r,It,t.memoizedState.cache)}return Hi(t,r,a)}function py(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Pt=!0;else{if(!Nd(t,a)&&(r.flags&128)===0)return Pt=!1,vb(t,r,a);Pt=(t.flags&131072)!==0}else Pt=!1,qe&&(r.flags&1048576)!==0&&Gg(r,lc,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Bf(l)?(t=Bs(l,t),r.tag=1,r=cy(null,r,l,t,a)):(r.tag=0,r=bd(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ae){r.tag=11,r=ry(null,r,l,t,a);break e}else if(h===x){r.tag=14,r=sy(null,r,l,t,a);break e}}throw r=De(l)||l,Error(s(306,r,""))}}return r;case 0:return bd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Bs(l,r.pendingProps),cy(t,r,l,h,a);case 3:e:{if(et(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,ed(t,r),cl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,pr(r,It,l),l!==d.cache&&Yf(r,[It],a,!0),ul(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=hy(t,r,l,a);break e}else if(l!==h){h=xn(Error(s(424)),r),nl(h),r=hy(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ht=Fn(t.firstChild),nn=r,qe=!0,Ps=null,oi=!0,a=Q_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(tl(),l===h){r=Hi(t,r,a);break e}Bt(t,r,l,a)}r=r.child}return r;case 26:return Cc(t,r),t===null?(a=vv(r.type,null,r.pendingProps,null))?r.memoizedState=a:qe||(a=r.type,t=r.pendingProps,l=Hc(Se.current).createElement(a),l[bt]=r,l[yt]=t,qt(l,a,t),mt(l),r.stateNode=l):r.memoizedState=vv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return or(r),t===null&&qe&&(l=r.stateNode=gv(r.type,r.pendingProps,Se.current),nn=r,oi=!0,h=ht,Or(r.type)?(hm=h,ht=Fn(l.firstChild)):ht=h),Bt(t,r,r.pendingProps.children,a),Cc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&qe&&((h=l=ht)&&(l=Qb(l,r.type,r.pendingProps,oi),l!==null?(r.stateNode=l,nn=r,ht=Fn(l.firstChild),oi=!1,h=!0):h=!1),h||ks(r)),or(r),h=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,om(h,d)?l=null:v!==null&&om(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=ad(t,r,hb,null,null,a),xl._currentValue=h),Cc(t,r),Bt(t,r,l,a),r.child;case 6:return t===null&&qe&&((t=a=ht)&&(a=Yb(a,r.pendingProps,oi),a!==null?(r.stateNode=a,nn=r,ht=null,t=!0):t=!1),t||ks(r)),null;case 13:return fy(t,r,a);case 4:return et(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Ba(r,null,l,a):Bt(t,r,l,a),r.child;case 11:return ry(t,r,r.type,r.pendingProps,a);case 7:return Bt(t,r,r.pendingProps,a),r.child;case 8:return Bt(t,r,r.pendingProps.children,a),r.child;case 12:return Bt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,pr(r,r.type,l.value),Bt(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Us(r),h=Qt(h),l=l(h),r.flags|=1,Bt(t,r,l,a),r.child;case 14:return sy(t,r,r.type,r.pendingProps,a);case 15:return ay(t,r,r.type,r.pendingProps,a);case 19:return my(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=Dc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Vi(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return oy(t,r,a);case 24:return Us(r),l=Qt(It),t===null?(h=Wf(),h===null&&(h=tt,d=$f(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Jf(r),pr(r,It,h)):((t.lanes&a)!==0&&(ed(t,r),cl(r,null,null,a),ul()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),pr(r,It,l)):(l=d.cache,pr(r,It,l),l!==h.cache&&Yf(r,[It],a,!0))),Bt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Fi(t){t.flags|=4}function gy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!bv(r)){if(r=Vn.current,r!==null&&((Le&4194048)===Le?li!==null:(Le&62914560)!==Le&&(Le&536870912)===0||r!==li))throw ol=Zf,Jg;t.flags|=8192}}function Oc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Po():536870912,t.lanes|=r,Fa|=r)}function _l(t,r){if(!qe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function Eb(t,r,a){var l=r.pendingProps;switch(Ff(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(r),null;case 1:return at(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Bi(It),$n(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(el(r)?Fi(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Yg())),at(r),null;case 26:return a=r.memoizedState,t===null?(Fi(r),a!==null?(at(r),gy(r,a)):(at(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Fi(r),at(r),gy(r,a)):(at(r),r.flags&=-16777217):(t.memoizedProps!==l&&Fi(r),at(r),r.flags&=-16777217),null;case 27:Si(r),a=Se.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Fi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return at(r),null}t=_e.current,el(r)?Kg(r):(t=gv(h,l,a),r.stateNode=t,Fi(r))}return at(r),null;case 5:if(Si(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Fi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return at(r),null}if(t=_e.current,el(r))Kg(r);else{switch(h=Hc(Se.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[bt]=r,t[yt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(qt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Fi(r)}}return at(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Fi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Se.current,el(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[bt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||uv(t.nodeValue,a)),t||ks(r)}else t=Hc(t).createTextNode(l),t[bt]=r,r.stateNode=t}return at(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=el(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[bt]=r}else tl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),h=!1}else h=Yg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(qi(r),r):(qi(r),null)}if(qi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),Oc(r,r.updateQueue),at(r),null;case 4:return $n(),t===null&&nm(r.stateNode.containerInfo),at(r),null;case 10:return Bi(r.type),at(r),null;case 19:if(le(Ct),h=r.memoizedState,h===null)return at(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)_l(h,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=wc(t),d!==null){for(r.flags|=128,_l(h,!1),t=d.updateQueue,r.updateQueue=t,Oc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Fg(a,t),a=a.sibling;return re(Ct,Ct.current&1|2),r.child}t=t.sibling}h.tail!==null&&Rn()>Mc&&(r.flags|=128,l=!0,_l(h,!1),r.lanes=4194304)}else{if(!l)if(t=wc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,Oc(r,t),_l(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qe)return at(r),null}else 2*Rn()-h.renderingStartTime>Mc&&a!==536870912&&(r.flags|=128,l=!0,_l(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Rn(),r.sibling=null,t=Ct.current,re(Ct,l?t&1|2:t&1),r):(at(r),null);case 22:case 23:return qi(r),rd(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(at(r),r.subtreeFlags&6&&(r.flags|=8192)):at(r),a=r.updateQueue,a!==null&&Oc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&le(Ls),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Bi(It),at(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Tb(t,r){switch(Ff(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Bi(It),$n(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Si(r),null;case 13:if(qi(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));tl()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return le(Ct),null;case 4:return $n(),null;case 10:return Bi(r.type),null;case 22:case 23:return qi(r),rd(),t!==null&&le(Ls),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Bi(It),null;case 25:return null;default:return null}}function _y(t,r){switch(Ff(r),r.tag){case 3:Bi(It),$n();break;case 26:case 27:case 5:Si(r);break;case 4:$n();break;case 13:qi(r);break;case 19:le(Ct);break;case 10:Bi(r.type);break;case 22:case 23:qi(r),rd(),t!==null&&le(Ls);break;case 24:Bi(It)}}function yl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Je(r,r.return,T)}}function Ar(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=r;var D=a,j=T;try{j()}catch(X){Je(h,D,X)}}}l=l.next}while(l!==d)}}catch(X){Je(r,r.return,X)}}function yy(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{s_(r,a)}catch(l){Je(t,t.return,l)}}}function vy(t,r,a){a.props=Bs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Je(t,r,l)}}function vl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Je(t,r,h)}}function ui(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Je(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Je(t,r,h)}else a.current=null}function Ey(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Je(t,t.return,h)}}function xd(t,r,a){try{var l=t.stateNode;qb(l,t.type,a,r),l[yt]=r}catch(h){Je(t,t.return,h)}}function Ty(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Or(t.type)||t.tag===4}function Md(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ty(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Or(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=qc));else if(l!==4&&(l===27&&Or(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Pd(t,r,a),t=t.sibling;t!==null;)Pd(t,r,a),t=t.sibling}function Nc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Or(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Nc(t,r,a),t=t.sibling;t!==null;)Nc(t,r,a),t=t.sibling}function Ay(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);qt(r,l,a),r[bt]=t,r[yt]=a}catch(d){Je(t,t.return,d)}}var Gi=!1,gt=!1,kd=!1,Sy=typeof WeakSet=="function"?WeakSet:Set,kt=null;function Ab(t,r){if(t=t.containerInfo,sm=$c,t=Pg(t),Mf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,D=-1,j=0,X=0,J=t,q=null;t:for(;;){for(var H;J!==a||h!==0&&J.nodeType!==3||(T=v+h),J!==d||l!==0&&J.nodeType!==3||(D=v+l),J.nodeType===3&&(v+=J.nodeValue.length),(H=J.firstChild)!==null;)q=J,J=H;for(;;){if(J===t)break t;if(q===a&&++j===h&&(T=v),q===d&&++X===l&&(D=v),(H=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=H}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(am={focusedElem:t,selectionRange:a},$c=!1,kt=r;kt!==null;)if(r=kt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,kt=t;else for(;kt!==null;){switch(r=kt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Ae=Bs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ae,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Je(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)um(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":um(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,kt=t;break}kt=r.return}}function by(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Sr(t,a),l&4&&yl(5,a);break;case 1:if(Sr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){Je(a,a.return,v)}else{var h=Bs(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Je(a,a.return,v)}}l&64&&yy(a),l&512&&vl(a,a.return);break;case 3:if(Sr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{s_(t,r)}catch(v){Je(a,a.return,v)}}break;case 27:r===null&&l&4&&Ay(a);case 26:case 5:Sr(t,a),r===null&&l&4&&Ey(a),l&512&&vl(a,a.return);break;case 12:Sr(t,a);break;case 13:Sr(t,a),l&4&&Iy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Nb.bind(null,a),$b(t,a))));break;case 22:if(l=a.memoizedState!==null||Gi,!l){r=r!==null&&r.memoizedState!==null||gt,h=Gi;var d=gt;Gi=l,(gt=r)&&!d?br(t,a,(a.subtreeFlags&8772)!==0):Sr(t,a),Gi=h,gt=d}break;case 30:break;default:Sr(t,a)}}function wy(t){var r=t.alternate;r!==null&&(t.alternate=null,wy(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&hr(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var st=null,on=!1;function Ki(t,r,a){for(a=a.child;a!==null;)Ry(t,r,a),a=a.sibling}function Ry(t,r,a){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(ct,a)}catch{}switch(a.tag){case 26:gt||ui(a,r),Ki(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:gt||ui(a,r);var l=st,h=on;Or(a.type)&&(st=a.stateNode,on=!1),Ki(t,r,a),Cl(a.stateNode),st=l,on=h;break;case 5:gt||ui(a,r);case 6:if(l=st,h=on,st=null,Ki(t,r,a),st=l,on=h,st!==null)if(on)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(a.stateNode)}catch(d){Je(a,r,d)}else try{st.removeChild(a.stateNode)}catch(d){Je(a,r,d)}break;case 18:st!==null&&(on?(t=st,mv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Vl(t)):mv(st,a.stateNode));break;case 4:l=st,h=on,st=a.stateNode.containerInfo,on=!0,Ki(t,r,a),st=l,on=h;break;case 0:case 11:case 14:case 15:gt||Ar(2,a,r),gt||Ar(4,a,r),Ki(t,r,a);break;case 1:gt||(ui(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&vy(a,r,l)),Ki(t,r,a);break;case 21:Ki(t,r,a);break;case 22:gt=(l=gt)||a.memoizedState!==null,Ki(t,r,a),gt=l;break;default:Ki(t,r,a)}}function Iy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Vl(t)}catch(a){Je(r,r.return,a)}}function Sb(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Sy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Sy),r;default:throw Error(s(435,t.tag))}}function Vd(t,r){var a=Sb(t);r.forEach(function(l){var h=xb.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function _n(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=r,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Or(T.type)){st=T.stateNode,on=!1;break e}break;case 5:st=T.stateNode,on=!1;break e;case 3:case 4:st=T.stateNode.containerInfo,on=!0;break e}T=T.return}if(st===null)throw Error(s(160));Ry(d,v,h),st=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Cy(r,t),r=r.sibling}var Hn=null;function Cy(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:_n(r,t),yn(t),l&4&&(Ar(3,t,t.return),yl(3,t),Ar(5,t,t.return));break;case 1:_n(r,t),yn(t),l&512&&(gt||a===null||ui(a,a.return)),l&64&&Gi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Hn;if(_n(r,t),yn(t),l&512&&(gt||a===null||ui(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ps]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),qt(d,l,a),d[bt]=t,mt(d),l=d;break e;case"link":var v=Av("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=Av("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[bt]=t,mt(d),l=d}t.stateNode=l}else Sv(h,t.type,t.stateNode);else t.stateNode=Tv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Sv(h,t.type,t.stateNode):Tv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&xd(t,t.memoizedProps,a.memoizedProps)}break;case 27:_n(r,t),yn(t),l&512&&(gt||a===null||ui(a,a.return)),a!==null&&l&4&&xd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(_n(r,t),yn(t),l&512&&(gt||a===null||ui(a,a.return)),t.flags&32){h=t.stateNode;try{Cn(h,"")}catch(H){Je(t,t.return,H)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,xd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(kd=!0);break;case 6:if(_n(r,t),yn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(H){Je(t,t.return,H)}}break;case 3:if(Kc=null,h=Hn,Hn=Fc(r.containerInfo),_n(r,t),Hn=h,yn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Vl(r.containerInfo)}catch(H){Je(t,t.return,H)}kd&&(kd=!1,Dy(t));break;case 4:l=Hn,Hn=Fc(t.stateNode.containerInfo),_n(r,t),yn(t),Hn=l;break;case 12:_n(r,t),yn(t);break;case 13:_n(r,t),yn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(qd=Rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vd(t,l)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,j=Gi,X=gt;if(Gi=j||h,gt=X||D,_n(r,t),gt=X,Gi=j,yn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||D||Gi||gt||js(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){D=a=r;try{if(d=D.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=D.stateNode;var J=D.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(H){Je(D,D.return,H)}}}else if(r.tag===6){if(a===null){D=r;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(H){Je(D,D.return,H)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Vd(t,a))));break;case 19:_n(r,t),yn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vd(t,l)));break;case 30:break;case 21:break;default:_n(r,t),yn(t)}}function yn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(Ty(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Md(t);Nc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Cn(v,""),a.flags&=-33);var T=Md(t);Nc(t,T,v);break;case 3:case 4:var D=a.stateNode.containerInfo,j=Md(t);Pd(t,j,D);break;default:throw Error(s(161))}}catch(X){Je(t,t.return,X)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Dy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Dy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Sr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)by(t,r.alternate,r),r=r.sibling}function js(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ar(4,r,r.return),js(r);break;case 1:ui(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&vy(r,r.return,a),js(r);break;case 27:Cl(r.stateNode);case 26:case 5:ui(r,r.return),js(r);break;case 22:r.memoizedState===null&&js(r);break;case 30:js(r);break;default:js(r)}t=t.sibling}}function br(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:br(h,d,a),yl(4,d);break;case 1:if(br(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Je(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)r_(D[h],T)}catch(j){Je(l,l.return,j)}}a&&v&64&&yy(d),vl(d,d.return);break;case 27:Ay(d);case 26:case 5:br(h,d,a),a&&l===null&&v&4&&Ey(d),vl(d,d.return);break;case 12:br(h,d,a);break;case 13:br(h,d,a),a&&v&4&&Iy(h,d);break;case 22:d.memoizedState===null&&br(h,d,a),vl(d,d.return);break;case 30:break;default:br(h,d,a)}r=r.sibling}}function Ud(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&rl(a))}function Ld(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&rl(t))}function ci(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Oy(t,r,a,l),r=r.sibling}function Oy(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:ci(t,r,a,l),h&2048&&yl(9,r);break;case 1:ci(t,r,a,l);break;case 3:ci(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&rl(t)));break;case 12:if(h&2048){ci(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Je(r,r.return,D)}}else ci(t,r,a,l);break;case 13:ci(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?ci(t,r,a,l):El(t,r):d._visibility&2?ci(t,r,a,l):(d._visibility|=2,ja(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&Ud(v,r);break;case 24:ci(t,r,a,l),h&2048&&Ld(r.alternate,r);break;default:ci(t,r,a,l)}}function ja(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,v=r,T=a,D=l,j=v.flags;switch(v.tag){case 0:case 11:case 15:ja(d,v,T,D,h),yl(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?ja(d,v,T,D,h):El(d,v):(X._visibility|=2,ja(d,v,T,D,h)),h&&j&2048&&Ud(v.alternate,v);break;case 24:ja(d,v,T,D,h),h&&j&2048&&Ld(v.alternate,v);break;default:ja(d,v,T,D,h)}r=r.sibling}}function El(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:El(a,l),h&2048&&Ud(l.alternate,l);break;case 24:El(a,l),h&2048&&Ld(l.alternate,l);break;default:El(a,l)}r=r.sibling}}var Tl=8192;function qa(t){if(t.subtreeFlags&Tl)for(t=t.child;t!==null;)Ny(t),t=t.sibling}function Ny(t){switch(t.tag){case 26:qa(t),t.flags&Tl&&t.memoizedState!==null&&lw(Hn,t.memoizedState,t.memoizedProps);break;case 5:qa(t);break;case 3:case 4:var r=Hn;Hn=Fc(t.stateNode.containerInfo),qa(t),Hn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Tl,Tl=16777216,qa(t),Tl=r):qa(t));break;default:qa(t)}}function xy(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Al(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];kt=l,Py(l,t)}xy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)My(t),t=t.sibling}function My(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&Ar(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,xc(t)):Al(t);break;default:Al(t)}}function xc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];kt=l,Py(l,t)}xy(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ar(8,r,r.return),xc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,xc(r));break;default:xc(r)}t=t.sibling}}function Py(t,r){for(;kt!==null;){var a=kt;switch(a.tag){case 0:case 11:case 15:Ar(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,kt=l;else e:for(a=t;kt!==null;){l=kt;var h=l.sibling,d=l.return;if(wy(l),l===a){kt=null;break e}if(h!==null){h.return=d,kt=h;break e}kt=d}}}var bb={getCacheForType:function(t){var r=Qt(It),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},wb=typeof WeakMap=="function"?WeakMap:Map,Qe=0,tt=null,xe=null,Le=0,Ye=0,vn=null,wr=!1,Ha=!1,zd=!1,Qi=0,ft=0,Rr=0,qs=0,Bd=0,Un=0,Fa=0,Sl=null,ln=null,jd=!1,qd=0,Mc=1/0,Pc=null,Ir=null,jt=0,Cr=null,Ga=null,Ka=0,Hd=0,Fd=null,ky=null,bl=0,Gd=null;function En(){if((Qe&2)!==0&&Le!==0)return Le&-Le;if(Y.T!==null){var t=Ma;return t!==0?t:Zd()}return ur()}function Vy(){Un===0&&(Un=(Le&536870912)===0||qe?Mo():536870912);var t=Vn.current;return t!==null&&(t.flags|=32),Un}function Tn(t,r,a){(t===tt&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Qa(t,0),Dr(t,Le,Un,!1)),wi(t,a),((Qe&2)===0||t!==tt)&&(t===tt&&((Qe&2)===0&&(qs|=a),ft===4&&Dr(t,Le,Un,!1)),hi(t))}function Uy(t,r,a){if((Qe&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||ms(t,r),h=l?Cb(t,r):Yd(t,r,!0),d=l;do{if(h===0){Ha&&!l&&Dr(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!Rb(a)){h=Yd(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var T=t;h=Sl;var D=T.current.memoizedState.isDehydrated;if(D&&(Qa(T,v).flags|=256),v=Yd(T,v,!1),v!==2){if(zd&&!D){T.errorRecoveryDisabledLanes|=d,qs|=d,h=4;break e}d=ln,ln=h,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Qa(t,0),Dr(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Dr(l,r,Un,!wr);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=qd+300-Rn(),10<h)){if(Dr(l,r,Un,!wr),ca(l,0,!0)!==0)break e;l.timeoutHandle=fv(Ly.bind(null,l,a,ln,Pc,jd,r,Un,qs,Fa,wr,d,2,-0,0),h);break e}Ly(l,a,ln,Pc,jd,r,Un,qs,Fa,wr,d,0,-0,0)}}break}while(!0);hi(t)}function Ly(t,r,a,l,h,d,v,T,D,j,X,J,q,H){if(t.timeoutHandle=-1,J=r.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Nl={stylesheets:null,count:0,unsuspend:ow},Ny(r),J=uw(),J!==null)){t.cancelPendingCommit=J(Gy.bind(null,t,r,d,a,l,h,v,T,D,X,1,q,H)),Dr(t,d,v,!j);return}Gy(t,r,d,a,l,h,v,T,D)}function Rb(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Dr(t,r,a,l){r&=~Bd,r&=~qs,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-Kt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Xn(t,a,r)}function kc(){return(Qe&6)===0?(wl(0),!1):!0}function Kd(){if(xe!==null){if(Ye===0)var t=xe.return;else t=xe,zi=Vs=null,ud(t),za=null,pl=0,t=xe;for(;t!==null;)_y(t.alternate,t),t=t.return;xe=null}}function Qa(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Fb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Kd(),tt=t,xe=a=Vi(t.current,null),Le=r,Ye=0,vn=null,wr=!1,Ha=ms(t,r),zd=!1,Fa=Un=Bd=qs=Rr=ft=0,ln=Sl=null,jd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Kt(l),d=1<<h;r|=t[h],l&=~d}return Qi=r,ic(),a}function zy(t,r){Ie=null,Y.H=Ac,r===al||r===fc?(r=n_(),Ye=3):r===Jg?(r=n_(),Ye=4):Ye=r===iy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,vn=r,xe===null&&(ft=1,Ic(t,xn(r,t.current)))}function By(){var t=Y.H;return Y.H=Ac,t===null?Ac:t}function jy(){var t=Y.A;return Y.A=bb,t}function Qd(){ft=4,wr||(Le&4194048)!==Le&&Vn.current!==null||(Ha=!0),(Rr&134217727)===0&&(qs&134217727)===0||tt===null||Dr(tt,Le,Un,!1)}function Yd(t,r,a){var l=Qe;Qe|=2;var h=By(),d=jy();(tt!==t||Le!==r)&&(Pc=null,Qa(t,r)),r=!1;var v=ft;e:do try{if(Ye!==0&&xe!==null){var T=xe,D=vn;switch(Ye){case 8:Kd(),v=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(r=!0);var j=Ye;if(Ye=0,vn=null,Ya(t,T,D,j),a&&Ha){v=0;break e}break;default:j=Ye,Ye=0,vn=null,Ya(t,T,D,j)}}Ib(),v=ft;break}catch(X){zy(t,X)}while(!0);return r&&t.shellSuspendCounter++,zi=Vs=null,Qe=l,Y.H=h,Y.A=d,xe===null&&(tt=null,Le=0,ic()),v}function Ib(){for(;xe!==null;)qy(xe)}function Cb(t,r){var a=Qe;Qe|=2;var l=By(),h=jy();tt!==t||Le!==r?(Pc=null,Mc=Rn()+500,Qa(t,r)):Ha=ms(t,r);e:do try{if(Ye!==0&&xe!==null){r=xe;var d=vn;t:switch(Ye){case 1:Ye=0,vn=null,Ya(t,r,d,1);break;case 2:case 9:if(e_(d)){Ye=0,vn=null,Hy(r);break}r=function(){Ye!==2&&Ye!==9||tt!==t||(Ye=7),hi(t)},d.then(r,r);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:e_(d)?(Ye=0,vn=null,Hy(r)):(Ye=0,vn=null,Ya(t,r,d,7));break;case 5:var v=null;switch(xe.tag){case 26:v=xe.memoizedState;case 5:case 27:var T=xe;if(!v||bv(v)){Ye=0,vn=null;var D=T.sibling;if(D!==null)xe=D;else{var j=T.return;j!==null?(xe=j,Vc(j)):xe=null}break t}}Ye=0,vn=null,Ya(t,r,d,5);break;case 6:Ye=0,vn=null,Ya(t,r,d,6);break;case 8:Kd(),ft=6;break e;default:throw Error(s(462))}}Db();break}catch(X){zy(t,X)}while(!0);return zi=Vs=null,Y.H=l,Y.A=h,Qe=a,xe!==null?0:(tt=null,Le=0,ic(),ft)}function Db(){for(;xe!==null&&!Do();)qy(xe)}function qy(t){var r=py(t.alternate,t,Qi);t.memoizedProps=t.pendingProps,r===null?Vc(t):xe=r}function Hy(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=uy(a,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=uy(a,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:ud(r);default:_y(a,r),r=xe=Fg(r,Qi),r=py(a,r,Qi)}t.memoizedProps=t.pendingProps,r===null?Vc(t):xe=r}function Ya(t,r,a,l){zi=Vs=null,ud(r),za=null,pl=0;var h=r.return;try{if(yb(t,h,r,a,Le)){ft=1,Ic(t,xn(a,t.current)),xe=null;return}}catch(d){if(h!==null)throw xe=h,d;ft=1,Ic(t,xn(a,t.current)),xe=null;return}r.flags&32768?(qe||l===1?t=!0:Ha||(Le&536870912)!==0?t=!1:(wr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Fy(r,t)):Vc(r)}function Vc(t){var r=t;do{if((r.flags&32768)!==0){Fy(r,wr);return}t=r.return;var a=Eb(r.alternate,r,Qi);if(a!==null){xe=a;return}if(r=r.sibling,r!==null){xe=r;return}xe=r=t}while(r!==null);ft===0&&(ft=5)}function Fy(t,r){do{var a=Tb(t.alternate,t);if(a!==null){a.flags&=32767,xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){xe=t;return}xe=t=a}while(t!==null);ft=6,xe=null}function Gy(t,r,a,l,h,d,v,T,D){t.cancelPendingCommit=null;do Uc();while(jt!==0);if((Qe&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Lf,ko(t,a,d,v,T,D),t===tt&&(xe=tt=null,Le=0),Ga=r,Cr=t,Ka=a,Hd=d,Fd=h,ky=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Mb(cs,function(){return Xy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=oe.p,oe.p=2,v=Qe,Qe|=4;try{Ab(t,r,a)}finally{Qe=v,oe.p=h,Y.T=l}}jt=1,Ky(),Qy(),Yy()}}function Ky(){if(jt===1){jt=0;var t=Cr,r=Ga,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=oe.p;oe.p=2;var h=Qe;Qe|=4;try{Cy(r,t);var d=am,v=Pg(t.containerInfo),T=d.focusedElem,D=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Mg(T.ownerDocument.documentElement,T)){if(D!==null&&Mf(T)){var j=D.start,X=D.end;if(X===void 0&&(X=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(X,T.value.length);else{var J=T.ownerDocument||document,q=J&&J.defaultView||window;if(q.getSelection){var H=q.getSelection(),Ae=T.textContent.length,ye=Math.min(D.start,Ae),Ze=D.end===void 0?ye:Math.min(D.end,Ae);!H.extend&&ye>Ze&&(v=Ze,Ze=ye,ye=v);var L=xg(T,ye),k=xg(T,Ze);if(L&&k&&(H.rangeCount!==1||H.anchorNode!==L.node||H.anchorOffset!==L.offset||H.focusNode!==k.node||H.focusOffset!==k.offset)){var B=J.createRange();B.setStart(L.node,L.offset),H.removeAllRanges(),ye>Ze?(H.addRange(B),H.extend(k.node,k.offset)):(B.setEnd(k.node,k.offset),H.addRange(B))}}}}for(J=[],H=T;H=H.parentNode;)H.nodeType===1&&J.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var Z=J[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}$c=!!sm,am=sm=null}finally{Qe=h,oe.p=l,Y.T=a}}t.current=r,jt=2}}function Qy(){if(jt===2){jt=0;var t=Cr,r=Ga,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=oe.p;oe.p=2;var h=Qe;Qe|=4;try{by(t,r.alternate,r)}finally{Qe=h,oe.p=l,Y.T=a}}jt=3}}function Yy(){if(jt===4||jt===3){jt=0,xu();var t=Cr,r=Ga,a=Ka,l=ky;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?jt=5:(jt=0,Ga=Cr=null,$y(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ir=null),ha(a),r=r.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(ct,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Y.T,h=oe.p,oe.p=2,Y.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{Y.T=r,oe.p=h}}(Ka&3)!==0&&Uc(),hi(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Gd?bl++:(bl=0,Gd=t):bl=0,wl(0)}}function $y(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,rl(r)))}function Uc(t){return Ky(),Qy(),Yy(),Xy()}function Xy(){if(jt!==5)return!1;var t=Cr,r=Hd;Hd=0;var a=ha(Ka),l=Y.T,h=oe.p;try{oe.p=32>a?32:a,Y.T=null,a=Fd,Fd=null;var d=Cr,v=Ka;if(jt=0,Ga=Cr=null,Ka=0,(Qe&6)!==0)throw Error(s(331));var T=Qe;if(Qe|=4,My(d.current),Oy(d,d.current,v,a),Qe=T,wl(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(ct,d)}catch{}return!0}finally{oe.p=h,Y.T=l,$y(t,r)}}function Wy(t,r,a){r=xn(a,r),r=Sd(t.stateNode,r,2),t=yr(t,r,2),t!==null&&(wi(t,2),hi(t))}function Je(t,r,a){if(t.tag===3)Wy(t,t,a);else for(;r!==null;){if(r.tag===3){Wy(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ir===null||!Ir.has(l))){t=xn(a,t),a=ty(2),l=yr(r,a,2),l!==null&&(ny(a,l,r,t),wi(l,2),hi(l));break}}r=r.return}}function $d(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new wb;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(zd=!0,h.add(a),t=Ob.bind(null,t,r,a),r.then(t,t))}function Ob(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(Le&a)===a&&(ft===4||ft===3&&(Le&62914560)===Le&&300>Rn()-qd?(Qe&2)===0&&Qa(t,0):Bd|=a,Fa===Le&&(Fa=0)),hi(t)}function Zy(t,r){r===0&&(r=Po()),t=Da(t,r),t!==null&&(wi(t,r),hi(t))}function Nb(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Zy(t,a)}function xb(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Zy(t,a)}function Mb(t,r){return ls(t,r)}var Lc=null,$a=null,Xd=!1,zc=!1,Wd=!1,Hs=0;function hi(t){t!==$a&&t.next===null&&($a===null?Lc=$a=t:$a=$a.next=t),zc=!0,Xd||(Xd=!0,kb())}function wl(t,r){if(!Wd&&zc){Wd=!0;do for(var a=!1,l=Lc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Kt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,nv(l,d))}else d=Le,d=ca(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ms(l,d)||(a=!0,nv(l,d));l=l.next}while(a);Wd=!1}}function Pb(){Jy()}function Jy(){zc=Xd=!1;var t=0;Hs!==0&&(Hb()&&(t=Hs),Hs=0);for(var r=Rn(),a=null,l=Lc;l!==null;){var h=l.next,d=ev(l,r);d===0?(l.next=null,a===null?Lc=h:a.next=h,h===null&&($a=a)):(a=l,(t!==0||(d&3)!==0)&&(zc=!0)),l=h}wl(t)}function ev(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Kt(d),T=1<<v,D=h[v];D===-1?((T&a)===0||(T&l)!==0)&&(h[v]=xo(T,r)):D<=r&&(t.expiredLanes|=T),d&=~T}if(r=tt,a=Le,a=ca(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&us(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ms(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&us(l),ha(a)){case 2:case 8:a=la;break;case 32:a=cs;break;case 268435456:a=ua;break;default:a=cs}return l=tv.bind(null,t),a=ls(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&us(l),t.callbackPriority=2,t.callbackNode=null,2}function tv(t,r){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Uc()&&t.callbackNode!==a)return null;var l=Le;return l=ca(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Uy(t,l,r),ev(t,Rn()),t.callbackNode!=null&&t.callbackNode===a?tv.bind(null,t):null)}function nv(t,r){if(Uc())return null;Uy(t,r,!0)}function kb(){Gb(function(){(Qe&6)!==0?ls(Oo,Pb):Jy()})}function Zd(){return Hs===0&&(Hs=Mo()),Hs}function iv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:_a(""+t)}function rv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function Vb(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=iv((h[yt]||null).action),v=l.submitter;v&&(r=(r=v[yt]||null)?iv(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var T=new ya("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Hs!==0){var D=v?rv(h,v):new FormData(h);yd(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(T.preventDefault(),D=v?rv(h,v):new FormData(h),yd(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var Jd=0;Jd<Uf.length;Jd++){var em=Uf[Jd],Ub=em.toLowerCase(),Lb=em[0].toUpperCase()+em.slice(1);qn(Ub,"on"+Lb)}qn(Ug,"onAnimationEnd"),qn(Lg,"onAnimationIteration"),qn(zg,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(tb,"onTransitionRun"),qn(nb,"onTransitionStart"),qn(ib,"onTransitionCancel"),qn(Bg,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function sv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var T=l[v],D=T.instance,j=T.currentTarget;if(T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=j;try{d(h)}catch(X){Rc(X)}h.currentTarget=null,d=D}else for(v=0;v<l.length;v++){if(T=l[v],D=T.instance,j=T.currentTarget,T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=j;try{d(h)}catch(X){Rc(X)}h.currentTarget=null,d=D}}}}function Me(t,r){var a=r[Uo];a===void 0&&(a=r[Uo]=new Set);var l=t+"__bubble";a.has(l)||(av(r,t,2,!1),a.add(l))}function tm(t,r,a){var l=0;r&&(l|=4),av(a,t,l,r)}var Bc="_reactListening"+Math.random().toString(36).slice(2);function nm(t){if(!t[Bc]){t[Bc]=!0,Lo.forEach(function(a){a!=="selectionchange"&&(zb.has(a)||tm(a,!1,t),tm(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Bc]||(r[Bc]=!0,tm("selectionchange",!1,r))}}function av(t,r,a,l){switch(Ov(r)){case 2:var h=fw;break;case 8:h=dw;break;default:h=gm}a=h.bind(null,r,a,t),h=void 0,!On||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function im(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var D=v.tag;if((D===3||D===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Ri(T),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){l=d=v;continue e}T=T.parentNode}}l=l.return}qu(function(){var j=d,X=Dn(a),J=[];e:{var q=jg.get(t);if(q!==void 0){var H=ya,Ae=t;switch(t){case"keypress":if(ni(a)===0)break e;case"keydown":case"keyup":H=ba;break;case"focusin":Ae="focus",H=Ta;break;case"focusout":Ae="blur",H=Ta;break;case"beforeblur":case"afterblur":H=Ta;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Df;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Xu;break;case Ug:case Lg:case zg:H=Aa;break;case Bg:H=Zu;break;case"scroll":case"scrollend":H=Hu;break;case"wheel":H=wa;break;case"copy":case"cut":case"paste":H=Sa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Xo;break;case"toggle":case"beforetoggle":H=ec}var ye=(r&4)!==0,Ze=!ye&&(t==="scroll"||t==="scrollend"),L=ye?q!==null?q+"Capture":null:q;ye=[];for(var k=j,B;k!==null;){var Z=k;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||L===null||(Z=As(k,L),Z!=null&&ye.push(Il(k,Z,B))),Ze)break;k=k.return}0<ye.length&&(q=new H(q,Ae,null,a,X),J.push({event:q,listeners:ye}))}}if((r&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",q&&a!==Oi&&(Ae=a.relatedTarget||a.fromElement)&&(Ri(Ae)||Ae[In]))break e;if((H||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,H?(Ae=a.relatedTarget||a.toElement,H=j,Ae=Ae?Ri(Ae):null,Ae!==null&&(Ze=u(Ae),ye=Ae.tag,Ae!==Ze||ye!==5&&ye!==27&&ye!==6)&&(Ae=null)):(H=null,Ae=j),H!==Ae)){if(ye=Nn,Z="onMouseLeave",L="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Xo,Z="onPointerLeave",L="onPointerEnter",k="pointer"),Ze=H==null?q:Zn(H),B=Ae==null?q:Zn(Ae),q=new ye(Z,k+"leave",H,a,X),q.target=Ze,q.relatedTarget=B,Z=null,Ri(X)===j&&(ye=new ye(L,k+"enter",Ae,a,X),ye.target=B,ye.relatedTarget=Ze,Z=ye),Ze=Z,H&&Ae)t:{for(ye=H,L=Ae,k=0,B=ye;B;B=Xa(B))k++;for(B=0,Z=L;Z;Z=Xa(Z))B++;for(;0<k-B;)ye=Xa(ye),k--;for(;0<B-k;)L=Xa(L),B--;for(;k--;){if(ye===L||L!==null&&ye===L.alternate)break t;ye=Xa(ye),L=Xa(L)}ye=null}else ye=null;H!==null&&ov(J,q,H,ye,!1),Ae!==null&&Ze!==null&&ov(J,Ze,Ae,ye,!0)}}e:{if(q=j?Zn(j):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var fe=Rg;else if(Rt(q))if(Ig)fe=ZS;else{fe=XS;var Ne=$S}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?j&&Ho(j.elementType)&&(fe=Rg):fe=WS;if(fe&&(fe=fe(t,j))){ki(J,fe,a,X);break e}Ne&&Ne(t,q,j),t==="focusout"&&j&&q.type==="number"&&j.memoizedProps.value!=null&&dr(q,"number",q.value)}switch(Ne=j?Zn(j):window,t){case"focusin":(Rt(Ne)||Ne.contentEditable==="true")&&(Ra=Ne,Pf=j,Jo=null);break;case"focusout":Jo=Pf=Ra=null;break;case"mousedown":kf=!0;break;case"contextmenu":case"mouseup":case"dragend":kf=!1,kg(J,a,X);break;case"selectionchange":if(eb)break;case"keydown":case"keyup":kg(J,a,X)}var de;if(si)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Ve?G(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(y&&a.locale!=="ko"&&(Ve||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Ve&&(de=Go()):(ti=X,mr="value"in ti?ti.value:ti.textContent,Ve=!0)),Ne=jc(j,ve),0<Ne.length&&(ve=new Yo(ve,t,null,a,X),J.push({event:ve,listeners:Ne}),de?ve.data=de:(de=se(a),de!==null&&(ve.data=de)))),(de=_?wt(t,a):Ue(t,a))&&(ve=jc(j,"onBeforeInput"),0<ve.length&&(Ne=new Yo("onBeforeInput","beforeinput",null,a,X),J.push({event:Ne,listeners:ve}),Ne.data=de)),Vb(J,t,j,a,X)}sv(J,r)})}function Il(t,r,a){return{instance:t,listener:r,currentTarget:a}}function jc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=As(t,a),h!=null&&l.unshift(Il(t,h,d)),h=As(t,r),h!=null&&l.push(Il(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Xa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ov(t,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var T=a,D=T.alternate,j=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||j===null||(D=j,h?(j=As(a,d),j!=null&&v.unshift(Il(a,j,D))):h||(j=As(a,d),j!=null&&v.push(Il(a,j,D)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var Bb=/\r\n?/g,jb=/\u0000|\uFFFD/g;function lv(t){return(typeof t=="string"?t:""+t).replace(Bb,`
`).replace(jb,"")}function uv(t,r){return r=lv(r),lv(t)===r}function qc(){}function We(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Cn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Cn(t,""+l);break;case"className":Jn(t,"class",l);break;case"tabIndex":Jn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Jn(t,a,l);break;case"style":qo(t,l,d);break;case"data":if(r!=="object"){Jn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=_a(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&We(t,r,"name",h.name,h,null),We(t,r,"formEncType",h.formEncType,h,null),We(t,r,"formMethod",h.formMethod,h,null),We(t,r,"formTarget",h.formTarget,h,null)):(We(t,r,"encType",h.encType,h,null),We(t,r,"method",h.method,h,null),We(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=_a(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=qc);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=_a(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),fr(t,"popover",l);break;case"xlinkActuate":Lt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Lt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Lt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Lt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Lt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Lt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=If.get(a)||a,fr(t,a,l))}}function rm(t,r,a,l,h,d){switch(a){case"style":qo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Cn(t,l):(typeof l=="number"||typeof l=="bigint")&&Cn(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=qc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[yt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):fr(t,a,l)}}}function qt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(t,r,d,v,a,null)}}h&&We(t,r,"srcSet",a.srcSet,a,null),l&&We(t,r,"src",a.src,a,null);return;case"input":Me("invalid",t);var T=d=v=h=null,D=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":D=X;break;case"defaultChecked":j=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:We(t,r,l,X,a,null)}}vs(t,d,T,D,j,v,h,!1),ga(t);return;case"select":Me("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:We(t,r,h,T,a,null)}r=d,a=v,t.multiple=!!l,r!=null?Di(t,!!l,r,!1):a!=null&&Di(t,!!l,a,!0);return;case"textarea":Me("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:We(t,r,v,T,a,null)}Es(t,l,h,d),ga(t);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,r,D,l,a,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<Rl.length;l++)Me(Rl[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(t,r,j,l,a,null)}return;default:if(Ho(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&rm(t,r,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&We(t,r,T,l,a,null))}function qb(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,D=null,j=null,X=null;for(H in a){var J=a[H];if(a.hasOwnProperty(H)&&J!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":D=J;default:l.hasOwnProperty(H)||We(t,r,H,null,l,J)}}for(var q in l){var H=l[q];if(J=a[q],l.hasOwnProperty(q)&&(H!=null||J!=null))switch(q){case"type":d=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":X=H;break;case"value":v=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:H!==J&&We(t,r,q,H,l,J)}}mn(t,v,T,D,j,X,d,h);return;case"select":H=v=T=q=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":H=D;default:l.hasOwnProperty(d)||We(t,r,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":q=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==D&&We(t,r,h,d,l,D)}r=T,a=v,l=H,q!=null?Di(t,!!a,q,!1):!!l!=!!a&&(r!=null?Di(t,!!a,r,!0):Di(t,!!a,a?[]:"",!1));return;case"textarea":H=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:We(t,r,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":q=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(t,r,v,h,l,d)}$e(t,q,H);return;case"option":for(var Ae in a)if(q=a[Ae],a.hasOwnProperty(Ae)&&q!=null&&!l.hasOwnProperty(Ae))switch(Ae){case"selected":t.selected=!1;break;default:We(t,r,Ae,null,l,q)}for(D in l)if(q=l[D],H=a[D],l.hasOwnProperty(D)&&q!==H&&(q!=null||H!=null))switch(D){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:We(t,r,D,q,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)q=a[ye],a.hasOwnProperty(ye)&&q!=null&&!l.hasOwnProperty(ye)&&We(t,r,ye,null,l,q);for(j in l)if(q=l[j],H=a[j],l.hasOwnProperty(j)&&q!==H&&(q!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:We(t,r,j,q,l,H)}return;default:if(Ho(r)){for(var Ze in a)q=a[Ze],a.hasOwnProperty(Ze)&&q!==void 0&&!l.hasOwnProperty(Ze)&&rm(t,r,Ze,void 0,l,q);for(X in l)q=l[X],H=a[X],!l.hasOwnProperty(X)||q===H||q===void 0&&H===void 0||rm(t,r,X,q,l,H);return}}for(var L in a)q=a[L],a.hasOwnProperty(L)&&q!=null&&!l.hasOwnProperty(L)&&We(t,r,L,null,l,q);for(J in l)q=l[J],H=a[J],!l.hasOwnProperty(J)||q===H||q==null&&H==null||We(t,r,J,q,l,H)}var sm=null,am=null;function Hc(t){return t.nodeType===9?t:t.ownerDocument}function cv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function om(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var lm=null;function Hb(){var t=window.event;return t&&t.type==="popstate"?t===lm?!1:(lm=t,!0):(lm=null,!1)}var fv=typeof setTimeout=="function"?setTimeout:void 0,Fb=typeof clearTimeout=="function"?clearTimeout:void 0,dv=typeof Promise=="function"?Promise:void 0,Gb=typeof queueMicrotask=="function"?queueMicrotask:typeof dv<"u"?function(t){return dv.resolve(null).then(t).catch(Kb)}:fv;function Kb(t){setTimeout(function(){throw t})}function Or(t){return t==="head"}function mv(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&Cl(v.documentElement),a&2&&Cl(v.body),a&4)for(a=v.head,Cl(a),v=a.firstChild;v;){var T=v.nextSibling,D=v.nodeName;v[ps]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),Vl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Vl(r)}function um(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":um(a),hr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Qb(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ps])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Fn(t.nextSibling),t===null)break}return null}function Yb(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Fn(t.nextSibling),t===null))return null;return t}function cm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function $b(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Fn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var hm=null;function pv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function gv(t,r,a){switch(r=Hc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Cl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);hr(t)}var Ln=new Map,_v=new Set;function Fc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Yi=oe.d;oe.d={f:Xb,r:Wb,D:Zb,C:Jb,L:ew,m:tw,X:iw,S:nw,M:rw};function Xb(){var t=Yi.f(),r=kc();return t||r}function Wb(t){var r=Wn(t);r!==null&&r.tag===5&&r.type==="form"?U_(r):Yi.r(t)}var Wa=typeof document>"u"?null:document;function yv(t,r,a){var l=Wa;if(l&&typeof r=="string"&&r){var h=vt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),_v.has(h)||(_v.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),qt(r,"link",t),mt(r),l.head.appendChild(r)))}}function Zb(t){Yi.D(t),yv("dns-prefetch",t,null)}function Jb(t,r){Yi.C(t,r),yv("preconnect",t,r)}function ew(t,r,a){Yi.L(t,r,a);var l=Wa;if(l&&t&&r){var h='link[rel="preload"][as="'+vt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+vt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+vt(a.imageSizes)+'"]')):h+='[href="'+vt(t)+'"]';var d=h;switch(r){case"style":d=Za(t);break;case"script":d=Ja(t)}Ln.has(d)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Ln.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Dl(d))||r==="script"&&l.querySelector(Ol(d))||(r=l.createElement("link"),qt(r,"link",t),mt(r),l.head.appendChild(r)))}}function tw(t,r){Yi.m(t,r);var a=Wa;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+vt(l)+'"][href="'+vt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ja(t)}if(!Ln.has(d)&&(t=E({rel:"modulepreload",href:t},r),Ln.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ol(d)))return}l=a.createElement("link"),qt(l,"link",t),mt(l),a.head.appendChild(l)}}}function nw(t,r,a){Yi.S(t,r,a);var l=Wa;if(l&&t){var h=Jt(l).hoistableStyles,d=Za(t);r=r||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Dl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Ln.get(d))&&fm(t,a);var D=v=l.createElement("link");mt(D),qt(D,"link",t),D._p=new Promise(function(j,X){D.onload=j,D.onerror=X}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Gc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function iw(t,r){Yi.X(t,r);var a=Wa;if(a&&t){var l=Jt(a).hoistableScripts,h=Ja(t),d=l.get(h);d||(d=a.querySelector(Ol(h)),d||(t=E({src:t,async:!0},r),(r=Ln.get(h))&&dm(t,r),d=a.createElement("script"),mt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function rw(t,r){Yi.M(t,r);var a=Wa;if(a&&t){var l=Jt(a).hoistableScripts,h=Ja(t),d=l.get(h);d||(d=a.querySelector(Ol(h)),d||(t=E({src:t,async:!0,type:"module"},r),(r=Ln.get(h))&&dm(t,r),d=a.createElement("script"),mt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function vv(t,r,a,l){var h=(h=Se.current)?Fc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Za(a.href),a=Jt(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Za(a.href);var d=Jt(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Dl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),d||sw(h,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ja(a),a=Jt(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Za(t){return'href="'+vt(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function Ev(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function sw(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),qt(r,"link",a),mt(r),t.head.appendChild(r))}function Ja(t){return'[src="'+vt(t)+'"]'}function Ol(t){return"script[async]"+t}function Tv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+vt(a.href)+'"]');if(l)return r.instance=l,mt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),mt(l),qt(l,"style",h),Gc(l,a.precedence,t),r.instance=l;case"stylesheet":h=Za(a.href);var d=t.querySelector(Dl(h));if(d)return r.state.loading|=4,r.instance=d,mt(d),d;l=Ev(a),(h=Ln.get(h))&&fm(l,h),d=(t.ownerDocument||t).createElement("link"),mt(d);var v=d;return v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),qt(d,"link",l),r.state.loading|=4,Gc(d,a.precedence,t),r.instance=d;case"script":return d=Ja(a.src),(h=t.querySelector(Ol(d)))?(r.instance=h,mt(h),h):(l=a,(h=Ln.get(d))&&(l=E({},a),dm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),mt(h),qt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Gc(l,a.precedence,t));return r.instance}function Gc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function fm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function dm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Kc=null;function Av(t,r,a){if(Kc===null){var l=new Map,h=Kc=new Map;h.set(a,l)}else h=Kc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ps]||d[bt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function Sv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function aw(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function bv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Nl=null;function ow(){}function lw(t,r,a){if(Nl===null)throw Error(s(475));var l=Nl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Za(a.href),d=t.querySelector(Dl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Qc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,mt(d);return}d=t.ownerDocument||t,a=Ev(a),(h=Ln.get(h))&&fm(a,h),d=d.createElement("link"),mt(d);var v=d;v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),qt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Qc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function uw(){if(Nl===null)throw Error(s(475));var t=Nl;return t.stylesheets&&t.count===0&&mm(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&mm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Qc(){if(this.count--,this.count===0){if(this.stylesheets)mm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Yc=null;function mm(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Yc=new Map,r.forEach(cw,t),Yc=null,Qc.call(t))}function cw(t,r){if(!(r.state.loading&4)){var a=Yc.get(t);if(a)var l=a.get(null);else{a=new Map,Yc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Qc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var xl={$$typeof:$,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function hw(t,r,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function wv(t,r,a,l,h,d,v,T,D,j,X,J){return t=new hw(t,r,a,v,T,D,j,J),r=1,d===!0&&(r|=24),d=gn(3,null,null,r),t.current=d,d.stateNode=t,r=$f(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Jf(d),t}function Rv(t){return t?(t=Oa,t):Oa}function Iv(t,r,a,l,h,d){h=Rv(h),l.context===null?l.context=h:l.pendingContext=h,l=_r(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=yr(t,l,r),a!==null&&(Tn(a,t,r),ll(a,t,r))}function Cv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function pm(t,r){Cv(t,r),(t=t.alternate)&&Cv(t,r)}function Dv(t){if(t.tag===13){var r=Da(t,67108864);r!==null&&Tn(r,t,67108864),pm(t,67108864)}}var $c=!0;function fw(t,r,a,l){var h=Y.T;Y.T=null;var d=oe.p;try{oe.p=2,gm(t,r,a,l)}finally{oe.p=d,Y.T=h}}function dw(t,r,a,l){var h=Y.T;Y.T=null;var d=oe.p;try{oe.p=8,gm(t,r,a,l)}finally{oe.p=d,Y.T=h}}function gm(t,r,a,l){if($c){var h=_m(l);if(h===null)im(t,r,l,Xc,a),Nv(t,l);else if(pw(h,t,r,a,l))l.stopPropagation();else if(Nv(t,l),r&4&&-1<mw.indexOf(t)){for(;h!==null;){var d=Wn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=zn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var D=1<<31-Kt(v);T.entanglements[1]|=D,v&=~D}hi(d),(Qe&6)===0&&(Mc=Rn()+500,wl(0))}}break;case 13:T=Da(d,2),T!==null&&Tn(T,d,2),kc(),pm(d,2)}if(d=_m(l),d===null&&im(t,r,l,Xc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else im(t,r,l,null,a)}}function _m(t){return t=Dn(t),ym(t)}var Xc=null;function ym(t){if(Xc=null,t=Ri(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Xc=t,null}function Ov(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tf()){case Oo:return 2;case la:return 8;case cs:case Af:return 32;case ua:return 268435456;default:return 32}default:return 32}}var vm=!1,Nr=null,xr=null,Mr=null,Ml=new Map,Pl=new Map,Pr=[],mw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Nv(t,r){switch(t){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":Ml.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(r.pointerId)}}function kl(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=Wn(r),r!==null&&Dv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function pw(t,r,a,l,h){switch(r){case"focusin":return Nr=kl(Nr,t,r,a,l,h),!0;case"dragenter":return xr=kl(xr,t,r,a,l,h),!0;case"mouseover":return Mr=kl(Mr,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ml.set(d,kl(Ml.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Pl.set(d,kl(Pl.get(d)||null,t,r,a,l,h)),!0}return!1}function xv(t){var r=Ri(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,ku(t.priority,function(){if(a.tag===13){var l=En();l=lr(l);var h=Da(a,l);h!==null&&Tn(h,a,l),pm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=_m(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Oi=l,a.target.dispatchEvent(l),Oi=null}else return r=Wn(a),r!==null&&Dv(r),t.blockedOn=a,!1;r.shift()}return!0}function Mv(t,r,a){Wc(t)&&a.delete(r)}function gw(){vm=!1,Nr!==null&&Wc(Nr)&&(Nr=null),xr!==null&&Wc(xr)&&(xr=null),Mr!==null&&Wc(Mr)&&(Mr=null),Ml.forEach(Mv),Pl.forEach(Mv)}function Zc(t,r){t.blockedOn===r&&(t.blockedOn=null,vm||(vm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,gw)))}var Jc=null;function Pv(t){Jc!==t&&(Jc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Jc===t&&(Jc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(ym(l||a)===null)continue;break}var d=Wn(a);d!==null&&(t.splice(r,3),r-=3,yd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Vl(t){function r(D){return Zc(D,t)}Nr!==null&&Zc(Nr,t),xr!==null&&Zc(xr,t),Mr!==null&&Zc(Mr,t),Ml.forEach(r),Pl.forEach(r);for(var a=0;a<Pr.length;a++){var l=Pr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Pr.length&&(a=Pr[0],a.blockedOn===null);)xv(a),a.blockedOn===null&&Pr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[yt]||null;if(typeof d=="function")v||Pv(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[yt]||null)T=v.formAction;else if(ym(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Pv(a)}}}function Em(t){this._internalRoot=t}eh.prototype.render=Em.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=En();Iv(a,l,t,r,null,null)},eh.prototype.unmount=Em.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Iv(t.current,2,null,t,null,null),kc(),r[In]=null}};function eh(t){this._internalRoot=t}eh.prototype.unstable_scheduleHydration=function(t){if(t){var r=ur();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Pr.length&&r!==0&&r<Pr[a].priority;a++);Pr.splice(a,0,t),a===0&&xv(t)}};var kv=e.version;if(kv!=="19.1.0")throw Error(s(527,kv,"19.1.0"));oe.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var _w={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!th.isDisabled&&th.supportsFiber)try{ct=th.inject(_w),Ke=th}catch{}}return Ll.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=W_,d=Z_,v=J_,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=wv(t,1,!1,null,null,a,l,h,d,v,T,null),t[In]=r.current,nm(t),new Em(r)},Ll.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=W_,v=Z_,T=J_,D=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),r=wv(t,1,!0,r,a??null,l,h,d,v,T,D,j),r.context=Rv(null),a=r.current,l=En(),l=lr(l),h=_r(l),h.callback=null,yr(a,h,l),a=l,r.current.lanes=a,wi(r,a),hi(r),t[In]=r.current,nm(t),new eh(r)},Ll.version="19.1.0",Ll}var Gv;function Cw(){if(Gv)return Sm.exports;Gv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Sm.exports=Iw(),Sm.exports}var Dw=Cw(),zl={},Kv;function Ow(){if(Kv)return zl;Kv=1,Object.defineProperty(zl,"__esModule",{value:!0}),zl.parse=f,zl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function f(b,P){const O=new u,F=b.length;if(F<2)return O;const U=(P==null?void 0:P.decode)||E;let K=0;do{const ie=b.indexOf("=",K);if(ie===-1)break;const $=b.indexOf(";",K),ae=$===-1?F:$;if(ie>ae){K=b.lastIndexOf(";",ie-1)+1;continue}const ue=m(b,K,ie),me=p(b,ie,ue),x=b.slice(ue,me);if(O[x]===void 0){let w=m(b,ie+1,ae),I=p(b,ae,w);const M=U(b.slice(w,I));O[x]=M}K=ae+1}while(K<F);return O}function m(b,P,O){do{const F=b.charCodeAt(P);if(F!==32&&F!==9)return P}while(++P<O);return O}function p(b,P,O){for(;P>O;){const F=b.charCodeAt(--P);if(F!==32&&F!==9)return P+1}return O}function g(b,P,O){const F=(O==null?void 0:O.encode)||encodeURIComponent;if(!i.test(b))throw new TypeError(`argument name is invalid: ${b}`);const U=F(P);if(!e.test(U))throw new TypeError(`argument val is invalid: ${P}`);let K=b+"="+U;if(!O)return K;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);K+="; Max-Age="+O.maxAge}if(O.domain){if(!n.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);K+="; Domain="+O.domain}if(O.path){if(!s.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);K+="; Path="+O.path}if(O.expires){if(!S(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);K+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(K+="; HttpOnly"),O.secure&&(K+="; Secure"),O.partitioned&&(K+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return K}function E(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function S(b){return o.call(b)==="[object Date]"}return zl}Ow();var Qv="popstate";function Nw(i={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Hm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:iu(o)}return Mw(e,n,null,i)}function ot(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function vi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xw(){return Math.random().toString(36).substring(2,10)}function Yv(i,e){return{usr:i.state,key:i.key,idx:e}}function Hm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Eo(e):e,state:n,key:e&&e.key||s||xw()}}function iu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Eo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function Mw(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let U=E(),K=U==null?null:U-g;g=U,p&&p({action:m,location:F.location,delta:K})}function b(U,K){m="PUSH";let ie=Hm(F.location,U,K);g=E()+1;let $=Yv(ie,g),ae=F.createHref(ie);try{f.pushState($,"",ae)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(ae)}u&&p&&p({action:m,location:F.location,delta:1})}function P(U,K){m="REPLACE";let ie=Hm(F.location,U,K);g=E();let $=Yv(ie,g),ae=F.createHref(ie);f.replaceState($,"",ae),u&&p&&p({action:m,location:F.location,delta:0})}function O(U){let K=o.location.origin!=="null"?o.location.origin:o.location.href,ie=typeof U=="string"?U:iu(U);return ie=ie.replace(/ $/,"%20"),ot(K,`No window.location.(origin|href) available to create URL for href: ${ie}`),new URL(ie,K)}let F={get action(){return m},get location(){return i(o,f)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Qv,S),p=U,()=>{o.removeEventListener(Qv,S),p=null}},createHref(U){return e(o,U)},createURL:O,encodeLocation(U){let K=O(U);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:b,replace:P,go(U){return f.go(U)}};return F}function UE(i,e,n="/"){return Pw(i,e,n,!1)}function Pw(i,e,n,s){let o=typeof e=="string"?Eo(e):e,u=tr(o.pathname||"/",n);if(u==null)return null;let f=LE(i);kw(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=Kw(u);m=Fw(f[p],g,s)}return m}function LE(i,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(ot(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Zi([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(ot(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),LE(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:qw(g,u.index),routesMeta:E})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of zE(u.path))o(u,f,p)}),e}function zE(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=zE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function kw(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Hw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Vw=/^:[\w-]+$/,Uw=3,Lw=2,zw=1,Bw=10,jw=-2,$v=i=>i==="*";function qw(i,e){let n=i.split("/"),s=n.length;return n.some($v)&&(s+=jw),e&&(s+=Lw),n.filter(o=>!$v(o)).reduce((o,u)=>o+(Vw.test(u)?Uw:u===""?zw:Bw),s)}function Hw(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function Fw(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=bh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),b=p.route;if(!S&&g&&n&&!s[s.length-1].route.index&&(S=bh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:Zi([u,S.pathname]),pathnameBase:Xw(Zi([u,S.pathnameBase])),route:b}),S.pathnameBase!=="/"&&(u=Zi([u,S.pathnameBase]))}return f}function bh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=Gw(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:S},b)=>{if(E==="*"){let O=m[b]||"";f=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const P=m[b];return S&&!P?g[E]=void 0:g[E]=(P||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function Gw(i,e=!1,n=!0){vi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Kw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function tr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function Qw(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Eo(i):i;return{pathname:n?n.startsWith("/")?n:Yw(n,e):e,search:Ww(s),hash:Zw(o)}}function Yw(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Im(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $w(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function BE(i){let e=$w(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function jE(i,e,n,s=!1){let o;typeof i=="string"?o=Eo(i):(o={...i},ot(!o.pathname||!o.pathname.includes("?"),Im("?","pathname","search",o)),ot(!o.pathname||!o.pathname.includes("#"),Im("#","pathname","hash",o)),ot(!o.search||!o.search.includes("#"),Im("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),S-=1;o.pathname=b.join("/")}m=S>=0?e[S]:"/"}let p=Qw(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Zi=i=>i.join("/").replace(/\/\/+/g,"/"),Xw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Ww=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Zw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Jw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var qE=["POST","PUT","PATCH","DELETE"];new Set(qE);var e1=["GET",...qE];new Set(e1);var To=Q.createContext(null);To.displayName="DataRouter";var Kh=Q.createContext(null);Kh.displayName="DataRouterState";var HE=Q.createContext({isTransitioning:!1});HE.displayName="ViewTransition";var t1=Q.createContext(new Map);t1.displayName="Fetchers";var n1=Q.createContext(null);n1.displayName="Await";var Ti=Q.createContext(null);Ti.displayName="Navigation";var pu=Q.createContext(null);pu.displayName="Location";var ar=Q.createContext({outlet:null,matches:[],isDataRoute:!1});ar.displayName="Route";var Ep=Q.createContext(null);Ep.displayName="RouteError";function i1(i,{relative:e}={}){ot(gu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=Q.useContext(Ti),{hash:o,pathname:u,search:f}=_u(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Zi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function gu(){return Q.useContext(pu)!=null}function na(){return ot(gu(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(pu).location}var FE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GE(i){Q.useContext(Ti).static||Q.useLayoutEffect(i)}function Tp(){let{isDataRoute:i}=Q.useContext(ar);return i?g1():r1()}function r1(){ot(gu(),"useNavigate() may be used only in the context of a <Router> component.");let i=Q.useContext(To),{basename:e,navigator:n}=Q.useContext(Ti),{matches:s}=Q.useContext(ar),{pathname:o}=na(),u=JSON.stringify(BE(s)),f=Q.useRef(!1);return GE(()=>{f.current=!0}),Q.useCallback((p,g={})=>{if(vi(f.current,FE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=jE(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Zi([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}Q.createContext(null);function _u(i,{relative:e}={}){let{matches:n}=Q.useContext(ar),{pathname:s}=na(),o=JSON.stringify(BE(n));return Q.useMemo(()=>jE(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function s1(i,e){return KE(i,e)}function KE(i,e,n,s){var ie;ot(gu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=Q.useContext(Ti),{matches:f}=Q.useContext(ar),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let $=S&&S.path||"";QE(g,!S||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let b=na(),P;if(e){let $=typeof e=="string"?Eo(e):e;ot(E==="/"||((ie=$.pathname)==null?void 0:ie.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${$.pathname}" was given in the \`location\` prop.`),P=$}else P=b;let O=P.pathname||"/",F=O;if(E!=="/"){let $=E.replace(/^\//,"").split("/");F="/"+O.replace(/^\//,"").split("/").slice($.length).join("/")}let U=!u&&n&&n.matches&&n.matches.length>0?n.matches:UE(i,{pathname:F});vi(S||U!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),vi(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=c1(U&&U.map($=>Object.assign({},$,{params:Object.assign({},p,$.params),pathname:Zi([E,o.encodeLocation?o.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?E:Zi([E,o.encodeLocation?o.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),f,n,s);return e&&K?Q.createElement(pu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},K):K}function a1(){let i=p1(),e=Jw(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=Q.createElement(Q.Fragment,null,Q.createElement("p",null,"💿 Hey developer 👋"),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:u},"ErrorBoundary")," or"," ",Q.createElement("code",{style:u},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),n?Q.createElement("pre",{style:o},n):null,f)}var o1=Q.createElement(a1,null),l1=class extends Q.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?Q.createElement(ar.Provider,{value:this.props.routeContext},Q.createElement(Ep.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function u1({routeContext:i,match:e,children:n}){let s=Q.useContext(To);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(ar.Provider,{value:i},n)}function c1(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ot(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:S}=n,b=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!S||S[g.route.id]===void 0);if(g.route.lazy||b){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let S,b=!1,P=null,O=null;n&&(S=u&&g.route.id?u[g.route.id]:void 0,P=g.route.errorElement||o1,f&&(m<0&&E===0?(QE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,O=null):m===E&&(b=!0,O=g.route.hydrateFallbackElement||null)));let F=e.concat(o.slice(0,E+1)),U=()=>{let K;return S?K=P:b?K=O:g.route.Component?K=Q.createElement(g.route.Component,null):g.route.element?K=g.route.element:K=p,Q.createElement(u1,{match:g,routeContext:{outlet:p,matches:F,isDataRoute:n!=null},children:K})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?Q.createElement(l1,{location:n.location,revalidation:n.revalidation,component:P,error:S,children:U(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):U()},null)}function Ap(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h1(i){let e=Q.useContext(To);return ot(e,Ap(i)),e}function f1(i){let e=Q.useContext(Kh);return ot(e,Ap(i)),e}function d1(i){let e=Q.useContext(ar);return ot(e,Ap(i)),e}function Sp(i){let e=d1(i),n=e.matches[e.matches.length-1];return ot(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function m1(){return Sp("useRouteId")}function p1(){var s;let i=Q.useContext(Ep),e=f1("useRouteError"),n=Sp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function g1(){let{router:i}=h1("useNavigate"),e=Sp("useNavigate"),n=Q.useRef(!1);return GE(()=>{n.current=!0}),Q.useCallback(async(o,u={})=>{vi(n.current,FE),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Xv={};function QE(i,e,n){!e&&!Xv[i]&&(Xv[i]=!0,vi(!1,n))}Q.memo(_1);function _1({routes:i,future:e,state:n}){return KE(i,void 0,n,e)}function hh(i){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function y1({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ot(!gu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=Q.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Eo(n));let{pathname:p="/",search:g="",hash:E="",state:S=null,key:b="default"}=n,P=Q.useMemo(()=>{let O=tr(p,f);return O==null?null:{location:{pathname:O,search:g,hash:E,state:S,key:b},navigationType:s}},[f,p,g,E,S,b,s]);return vi(P!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:Q.createElement(Ti.Provider,{value:m},Q.createElement(pu.Provider,{children:e,value:P}))}function v1({children:i,location:e}){return s1(Fm(i),e)}function Fm(i,e=[]){let n=[];return Q.Children.forEach(i,(s,o)=>{if(!Q.isValidElement(s))return;let u=[...e,o];if(s.type===Q.Fragment){n.push.apply(n,Fm(s.props.children,u));return}ot(s.type===hh,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Fm(s.props.children,u)),n.push(f)}),n}var fh="get",dh="application/x-www-form-urlencoded";function Qh(i){return i!=null&&typeof i.tagName=="string"}function E1(i){return Qh(i)&&i.tagName.toLowerCase()==="button"}function T1(i){return Qh(i)&&i.tagName.toLowerCase()==="form"}function A1(i){return Qh(i)&&i.tagName.toLowerCase()==="input"}function S1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function b1(i,e){return i.button===0&&(!e||e==="_self")&&!S1(i)}var nh=null;function w1(){if(nh===null)try{new FormData(document.createElement("form"),0),nh=!1}catch{nh=!0}return nh}var R1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cm(i){return i!=null&&!R1.has(i)?(vi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dh}"`),null):i}function I1(i,e){let n,s,o,u,f;if(T1(i)){let m=i.getAttribute("action");s=m?tr(m,e):null,n=i.getAttribute("method")||fh,o=Cm(i.getAttribute("enctype"))||dh,u=new FormData(i)}else if(E1(i)||A1(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?tr(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||fh,o=Cm(i.getAttribute("formenctype"))||Cm(m.getAttribute("enctype"))||dh,u=new FormData(m,i),!w1()){let{name:g,type:E,value:S}=i;if(E==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,S)}}else{if(Qh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=fh,s=null,o=dh,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function bp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function C1(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function D1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function O1(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await C1(u,n);return f.links?f.links():[]}return[]}));return P1(s.flat(1).filter(D1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Wv(i,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var S;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=n[0])==null?void 0:S.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function N1(i,e,{includeHydrateFallback:n}={}){return x1(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function x1(i){return[...new Set(i)]}function M1(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function P1(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(M1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}var k1=new Set([100,101,204,205]);function V1(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&tr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function YE(){let i=Q.useContext(To);return bp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function U1(){let i=Q.useContext(Kh);return bp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var wp=Q.createContext(void 0);wp.displayName="FrameworkContext";function $E(){let i=Q.useContext(wp);return bp(i,"You must render this element inside a <HydratedRouter> element"),i}function L1(i,e){let n=Q.useContext(wp),[s,o]=Q.useState(!1),[u,f]=Q.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:S}=e,b=Q.useRef(null);Q.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let F=K=>{K.forEach(ie=>{f(ie.isIntersecting)})},U=new IntersectionObserver(F,{threshold:.5});return b.current&&U.observe(b.current),()=>{U.disconnect()}}},[i]),Q.useEffect(()=>{if(s){let F=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(F)}}},[s]);let P=()=>{o(!0)},O=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,b,{}]:[u,b,{onFocus:Bl(m,P),onBlur:Bl(p,O),onMouseEnter:Bl(g,P),onMouseLeave:Bl(E,O),onTouchStart:Bl(S,P)}]:[!1,b,{}]}function Bl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function z1({page:i,...e}){let{router:n}=YE(),s=Q.useMemo(()=>UE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?Q.createElement(j1,{page:i,matches:s,...e}):null}function B1(i){let{manifest:e,routeModules:n}=$E(),[s,o]=Q.useState([]);return Q.useEffect(()=>{let u=!1;return O1(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function j1({page:i,matches:e,...n}){let s=na(),{manifest:o,routeModules:u}=$E(),{basename:f}=YE(),{loaderData:m,matches:p}=U1(),g=Q.useMemo(()=>Wv(i,e,p,o,s,"data"),[i,e,p,o,s]),E=Q.useMemo(()=>Wv(i,e,p,o,s,"assets"),[i,e,p,o,s]),S=Q.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let O=new Set,F=!1;if(e.forEach(K=>{var $;let ie=o.routes[K.route.id];!ie||!ie.hasLoader||(!g.some(ae=>ae.route.id===K.route.id)&&K.route.id in m&&(($=u[K.route.id])!=null&&$.shouldRevalidate)||ie.hasClientLoader?F=!0:O.add(K.route.id))}),O.size===0)return[];let U=V1(i,f);return F&&O.size>0&&U.searchParams.set("_routes",e.filter(K=>O.has(K.route.id)).map(K=>K.route.id).join(",")),[U.pathname+U.search]},[f,m,s,o,g,e,i,u]),b=Q.useMemo(()=>N1(E,o),[E,o]),P=B1(E);return Q.createElement(Q.Fragment,null,S.map(O=>Q.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),b.map(O=>Q.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),P.map(({key:O,link:F})=>Q.createElement("link",{key:O,...F})))}function q1(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var XE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{XE&&(window.__reactRouterVersion="7.5.2")}catch{}function H1({basename:i,children:e,window:n}){let s=Q.useRef();s.current==null&&(s.current=Nw({window:n,v5Compat:!0}));let o=s.current,[u,f]=Q.useState({action:o.action,location:o.location}),m=Q.useCallback(p=>{Q.startTransition(()=>f(p))},[f]);return Q.useLayoutEffect(()=>o.listen(m),[o,m]),Q.createElement(y1,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var WE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yh=Q.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:S,...b},P){let{basename:O}=Q.useContext(Ti),F=typeof g=="string"&&WE.test(g),U,K=!1;if(typeof g=="string"&&F&&(U=g,XE))try{let I=new URL(window.location.href),M=g.startsWith("//")?new URL(I.protocol+g):new URL(g),V=tr(M.pathname,O);M.origin===I.origin&&V!=null?g=V+M.search+M.hash:K=!0}catch{vi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ie=i1(g,{relative:o}),[$,ae,ue]=L1(s,b),me=Q1(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:S});function x(I){e&&e(I),I.defaultPrevented||me(I)}let w=Q.createElement("a",{...b,...ue,href:U||ie,onClick:K||u?e:x,ref:q1(P,ae),target:p,"data-discover":!F&&n==="render"?"true":void 0});return $&&!F?Q.createElement(Q.Fragment,null,w,Q.createElement(z1,{page:ie})):w});Yh.displayName="Link";var F1=Q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let S=_u(f,{relative:g.relative}),b=na(),P=Q.useContext(Kh),{navigator:O,basename:F}=Q.useContext(Ti),U=P!=null&&Z1(S)&&m===!0,K=O.encodeLocation?O.encodeLocation(S).pathname:S.pathname,ie=b.pathname,$=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(ie=ie.toLowerCase(),$=$?$.toLowerCase():null,K=K.toLowerCase()),$&&F&&($=tr($,F)||$);const ae=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let ue=ie===K||!o&&ie.startsWith(K)&&ie.charAt(ae)==="/",me=$!=null&&($===K||!o&&$.startsWith(K)&&$.charAt(K.length)==="/"),x={isActive:ue,isPending:me,isTransitioning:U},w=ue?e:void 0,I;typeof s=="function"?I=s(x):I=[s,ue?"active":null,me?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(x):u;return Q.createElement(Yh,{...g,"aria-current":w,className:I,ref:E,style:M,to:f,viewTransition:m},typeof p=="function"?p(x):p)});F1.displayName="NavLink";var G1=Q.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=fh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:S,...b},P)=>{let O=X1(),F=W1(m,{relative:g}),U=f.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&WE.test(m),ie=$=>{if(p&&p($),$.defaultPrevented)return;$.preventDefault();let ae=$.nativeEvent.submitter,ue=(ae==null?void 0:ae.getAttribute("formmethod"))||f;O(ae||$.currentTarget,{fetcherKey:e,method:ue,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:S})};return Q.createElement("form",{ref:P,method:U,action:F,onSubmit:s?p:ie,...b,"data-discover":!K&&i==="render"?"true":void 0})});G1.displayName="Form";function K1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZE(i){let e=Q.useContext(To);return ot(e,K1(i)),e}function Q1(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Tp(),p=na(),g=_u(i,{relative:u});return Q.useCallback(E=>{if(b1(E,e)){E.preventDefault();let S=n!==void 0?n:iu(p)===iu(g);m(i,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,i,o,u,f])}var Y1=0,$1=()=>`__${String(++Y1)}__`;function X1(){let{router:i}=ZE("useSubmit"),{basename:e}=Q.useContext(Ti),n=m1();return Q.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=I1(s,e);if(o.navigate===!1){let E=o.fetcherKey||$1();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function W1(i,{relative:e}={}){let{basename:n}=Q.useContext(Ti),s=Q.useContext(ar);ot(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={..._u(i||".",{relative:e})},f=na();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Zi([n,u.pathname])),iu(u)}function Z1(i,e={}){let n=Q.useContext(HE);ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ZE("useViewTransitionState"),o=_u(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=tr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=tr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return bh(o.pathname,f)!=null||bh(o.pathname,u)!=null}new TextEncoder;[...k1];const JE=Q.createContext();function yu(){return Q.useContext(JE)}function J1({children:i}){const[e,n]=Q.useState(null),[s,o]=Q.useState("Home"),[u,f]=Q.useState([]),[m,p]=Q.useState("home"),g=()=>{n(null),o("Home"),p("home"),f([])},E=(F,U="Folder")=>{e&&f(K=>[...K,{id:e,name:s}]),n(F),o(U),p("folder")},S=()=>{if(u.length>0){const F=u[u.length-1];n(F.id),o(F.name),f(U=>U.slice(0,-1))}else g()},b=()=>{n(null),o("Pictures"),p("pictures"),f([])},P=()=>{n(null),o("Shared Files"),p("shared"),f([])},O=()=>{n(null),o("Deleted Files"),p("deleted"),f([])};return W.jsx(JE.Provider,{value:{currentFolderId:e,currentFolderName:s,currentView:m,goHome:g,openFolder:E,openParentFolder:S,openPictures:b,openSharedFiles:P,openDeletedFiles:O},children:i})}var eT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Zv=Ks.createContext&&Ks.createContext(eT),eR=["attr","size","title"];function tR(i,e){if(i==null)return{};var n=nR(i,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(n[s]=i[s])}return n}function nR(i,e){if(i==null)return{};var n={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function wh(){return wh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},wh.apply(this,arguments)}function Jv(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function Rh(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jv(Object(n),!0).forEach(function(s){iR(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):Jv(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}function iR(i,e,n){return e=rR(e),e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function rR(i){var e=sR(i,"string");return typeof e=="symbol"?e:e+""}function sR(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function tT(i){return i&&i.map((e,n)=>Ks.createElement(e.tag,Rh({key:n},e.attr),tT(e.child)))}function wn(i){return e=>Ks.createElement(aR,wh({attr:Rh({},i.attr)},e),tT(i.child))}function aR(i){var e=n=>{var{attr:s,size:o,title:u}=i,f=tR(i,eR),m=o||n.size||"1em",p;return n.className&&(p=n.className),i.className&&(p=(p?p+" ":"")+i.className),Ks.createElement("svg",wh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,f,{className:p,style:Rh(Rh({color:i.color||n.color},n.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&Ks.createElement("title",null,u),i.children)};return Zv!==void 0?Ks.createElement(Zv.Consumer,null,n=>e(n)):e(eT)}function oR(i){return wn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-200 0H360v-72h304v72z"},child:[]}]})(i)}function lR(i){return wn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z"},child:[]}]})(i)}function uR(i){return wn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 0 0-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM632 577c0 3.8-3.4 7-7.5 7H540v84.9c0 3.9-3.2 7.1-7 7.1h-42c-3.8 0-7-3.2-7-7.1V584h-84.5c-4.1 0-7.5-3.2-7.5-7v-42c0-3.8 3.4-7 7.5-7H484v-84.9c0-3.9 3.2-7.1 7-7.1h42c3.8 0 7 3.2 7 7.1V528h84.5c4.1 0 7.5 3.2 7.5 7v42z"},child:[]}]})(i)}function cR(i){return wn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 0 0-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32z"},child:[]}]})(i)}function hR(i){return wn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M946.5 505L534.6 93.4a31.93 31.93 0 0 0-45.2 0L77.5 505c-12 12-18.8 28.3-18.8 45.3 0 35.3 28.7 64 64 64h43.4V908c0 17.7 14.3 32 32 32H448V716h112v224h265.9c17.7 0 32-14.3 32-32V614.3h43.4c17 0 33.3-6.7 45.3-18.8 24.9-25 24.9-65.5-.1-90.5z"},child:[]}]})(i)}function fR(i){return wn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zM338 304c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm513.9 437.1a8.11 8.11 0 0 1-5.2 1.9H177.2c-4.4 0-8-3.6-8-8 0-1.9.7-3.7 1.9-5.2l170.3-202c2.8-3.4 7.9-3.8 11.3-1 .3.3.7.6 1 1l99.4 118 158.1-187.5c2.8-3.4 7.9-3.8 11.3-1 .3.3.7.6 1 1l229.6 271.6c2.6 3.3 2.2 8.4-1.2 11.2z"},child:[]}]})(i)}function dR(i){return wn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 0 0 0 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"},child:[]}]})(i)}function mR(i){return wn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M505.7 661a8 8 0 0 0 12.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"},child:[]}]})(i)}function pR(i){return wn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M574 665.4a8.03 8.03 0 0 0-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 0 0-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 0 0 0 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 0 0 0 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 0 0-11.3 0L372.3 598.7a8.03 8.03 0 0 0 0 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"},child:[]}]})(i)}function gR(i){return wn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 0 1-112.7 75.9A352.8 352.8 0 0 1 512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 0 1-112.7-75.9 353.28 353.28 0 0 1-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 0 0 0-12.6z"},child:[]}]})(i)}function _R(i){return wn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"},child:[]}]})(i)}function yR(i){return wn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 0 0 0-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"},child:[]}]})(i)}function vR(i){return wn({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 0 0-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"},child:[]}]})(i)}function ER(){const{goHome:i,openPictures:e,openSharedFiles:n,openDeletedFiles:s}=yu();return W.jsxs("div",{className:"sidebar",style:{padding:"1.5rem 1rem"},children:[W.jsx("h2",{onClick:i,style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",marginBottom:"2rem"},children:W.jsx("span",{children:"MyDropbox"})}),W.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0},children:[W.jsxs("li",{onClick:i,style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",marginBottom:"1.5rem",fontSize:"16px"},children:[W.jsx(hR,{size:20})," Home"]}),W.jsxs("li",{onClick:e,style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",marginBottom:"1.5rem",fontSize:"16px"},children:[W.jsx(fR,{size:20})," Pictures"]}),W.jsxs("li",{onClick:n,style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"5px",marginBottom:"1.5rem",fontSize:"16px"},children:[W.jsx(yR,{size:20})," Shared Files"]}),W.jsxs("li",{onClick:s,style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontSize:"16px"},children:[W.jsx(oR,{size:20})," Trash"]})]})]})}const TR=()=>{};var e0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},AR=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},iT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,P=g&63;p||(P=64,f||(b=64)),s.push(n[E],n[S],n[b],n[P])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(nT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):AR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const S=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||S==null)throw new SR;const b=u<<2|m>>4;if(s.push(b),g!==64){const P=m<<4&240|g>>2;if(s.push(P),S!==64){const O=g<<6&192|S;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class SR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bR=function(i){const e=nT(i);return iT.encodeByteArray(e,!0)},Ih=function(i){return bR(i).replace(/\./g,"")},rT=function(i){try{return iT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=()=>wR().__FIREBASE_DEFAULTS__,IR=()=>{if(typeof process>"u"||typeof e0>"u")return;const i=e0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},CR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&rT(i[1]);return e&&JSON.parse(e)},$h=()=>{try{return TR()||RR()||IR()||CR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},sT=i=>{var e,n;return(n=(e=$h())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},aT=i=>{const e=sT(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},oT=()=>{var i;return(i=$h())===null||i===void 0?void 0:i.config},lT=i=>{var e;return(e=$h())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Ih(JSON.stringify(n)),Ih(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function NR(){var i;const e=(i=$h())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function PR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kR(){const i=Zt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function VR(){return!NR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UR(){try{return typeof indexedDB=="object"}catch{return!1}}function LR(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="FirebaseError";class Ai extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=zR,Object.setPrototypeOf(this,Ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vu.prototype.create)}}class vu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?BR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Ai(o,m,s)}}function BR(i,e){return i.replace(jR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const jR=/\{\$([^}]+)}/g;function qR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function $s(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(t0(u)&&t0(f)){if(!$s(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function t0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Fl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Gl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function HR(i,e){const n=new FR(i,e);return n.subscribe.bind(n)}class FR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");GR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Dm),o.error===void 0&&(o.error=Dm),o.complete===void 0&&(o.complete=Dm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Dm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(i){return i&&i._delegate?i._delegate:i}class Xr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new DR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YR(e))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fs){return this.instances.has(e)}getOptions(e=Fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:QR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Fs){return this.component?this.component.multipleInstances?e:Fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QR(i){return i===Fs?void 0:i}function YR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Pe||(Pe={}));const XR={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},WR=Pe.INFO,ZR={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},JR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=ZR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rp{constructor(e){this.name=e,this._logLevel=WR,this._logHandler=JR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const e2=(i,e)=>e.some(n=>i instanceof n);let n0,i0;function t2(){return n0||(n0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n2(){return i0||(i0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cT=new WeakMap,Gm=new WeakMap,hT=new WeakMap,Om=new WeakMap,Ip=new WeakMap;function i2(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(Gr(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&cT.set(n,i)}).catch(()=>{}),Ip.set(e,i),e}function r2(i){if(Gm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Gm.set(i,e)}let Km={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Gm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||hT.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function s2(i){Km=i(Km)}function a2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Nm(this),e,...n);return hT.set(s,e.sort?e.sort():[e]),Gr(s)}:n2().includes(i)?function(...e){return i.apply(Nm(this),e),Gr(cT.get(this))}:function(...e){return Gr(i.apply(Nm(this),e))}}function o2(i){return typeof i=="function"?a2(i):(i instanceof IDBTransaction&&r2(i),e2(i,t2())?new Proxy(i,Km):i)}function Gr(i){if(i instanceof IDBRequest)return i2(i);if(Om.has(i))return Om.get(i);const e=o2(i);return e!==i&&(Om.set(i,e),Ip.set(e,i)),e}const Nm=i=>Ip.get(i);function l2(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=Gr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Gr(f.result),p.oldVersion,p.newVersion,Gr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const u2=["get","getKey","getAll","getAllKeys","count"],c2=["put","add","delete","clear"],xm=new Map;function r0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(xm.get(e))return xm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=c2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||u2.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return xm.set(e,u),u}s2(i=>({...i,get:(e,n,s)=>r0(e,n)||i.get(e,n,s),has:(e,n)=>!!r0(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(f2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function f2(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qm="@firebase/app",s0="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new Rp("@firebase/app"),d2="@firebase/app-compat",m2="@firebase/analytics-compat",p2="@firebase/analytics",g2="@firebase/app-check-compat",_2="@firebase/app-check",y2="@firebase/auth",v2="@firebase/auth-compat",E2="@firebase/database",T2="@firebase/data-connect",A2="@firebase/database-compat",S2="@firebase/functions",b2="@firebase/functions-compat",w2="@firebase/installations",R2="@firebase/installations-compat",I2="@firebase/messaging",C2="@firebase/messaging-compat",D2="@firebase/performance",O2="@firebase/performance-compat",N2="@firebase/remote-config",x2="@firebase/remote-config-compat",M2="@firebase/storage",P2="@firebase/storage-compat",k2="@firebase/firestore",V2="@firebase/vertexai",U2="@firebase/firestore-compat",L2="firebase",z2="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="[DEFAULT]",B2={[Qm]:"fire-core",[d2]:"fire-core-compat",[p2]:"fire-analytics",[m2]:"fire-analytics-compat",[_2]:"fire-app-check",[g2]:"fire-app-check-compat",[y2]:"fire-auth",[v2]:"fire-auth-compat",[E2]:"fire-rtdb",[T2]:"fire-data-connect",[A2]:"fire-rtdb-compat",[S2]:"fire-fn",[b2]:"fire-fn-compat",[w2]:"fire-iid",[R2]:"fire-iid-compat",[I2]:"fire-fcm",[C2]:"fire-fcm-compat",[D2]:"fire-perf",[O2]:"fire-perf-compat",[N2]:"fire-rc",[x2]:"fire-rc-compat",[M2]:"fire-gcs",[P2]:"fire-gcs-compat",[k2]:"fire-fst",[U2]:"fire-fst-compat",[V2]:"fire-vertex","fire-js":"fire-js",[L2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Map,j2=new Map,$m=new Map;function a0(i,e){try{i.container.addComponent(e)}catch(n){nr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Xs(i){const e=i.name;if($m.has(e))return nr.debug(`There were multiple attempts to register component ${e}.`),!1;$m.set(e,i);for(const n of Ch.values())a0(n,i);for(const n of j2.values())a0(n,i);return!0}function Xh(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function An(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new vu("app","Firebase",q2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=z2;function fT(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Ym,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Kr.create("bad-app-name",{appName:String(o)});if(n||(n=oT()),!n)throw Kr.create("no-options");const u=Ch.get(o);if(u){if($s(n,u.options)&&$s(s,u.config))return u;throw Kr.create("duplicate-app",{appName:o})}const f=new $R(o);for(const p of $m.values())f.addComponent(p);const m=new H2(n,s,f);return Ch.set(o,m),m}function Cp(i=Ym){const e=Ch.get(i);if(!e&&i===Ym&&oT())return fT();if(!e)throw Kr.create("no-app",{appName:i});return e}function mi(i,e,n){var s;let o=(s=B2[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nr.warn(m.join(" "));return}Xs(new Xr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="firebase-heartbeat-database",G2=1,ru="firebase-heartbeat-store";let Mm=null;function dT(){return Mm||(Mm=l2(F2,G2,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ru)}catch(n){console.warn(n)}}}}).catch(i=>{throw Kr.create("idb-open",{originalErrorMessage:i.message})})),Mm}async function K2(i){try{const n=(await dT()).transaction(ru),s=await n.objectStore(ru).get(mT(i));return await n.done,s}catch(e){if(e instanceof Ai)nr.warn(e.message);else{const n=Kr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});nr.warn(n.message)}}}async function o0(i,e){try{const s=(await dT()).transaction(ru,"readwrite");await s.objectStore(ru).put(e,mT(i)),await s.done}catch(n){if(n instanceof Ai)nr.warn(n.message);else{const s=Kr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});nr.warn(s.message)}}}function mT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=1024,Y2=30;class $2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new W2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=l0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Y2){const f=Z2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){nr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=l0(),{heartbeatsToSend:s,unsentEntries:o}=X2(this._heartbeatsCache.heartbeats),u=Ih(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return nr.warn(n),""}}}function l0(){return new Date().toISOString().substring(0,10)}function X2(i,e=Q2){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),u0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),u0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class W2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UR()?LR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await K2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return o0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return o0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function u0(i){return Ih(JSON.stringify({version:2,heartbeats:i})).length}function Z2(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(i){Xs(new Xr("platform-logger",e=>new h2(e),"PRIVATE")),Xs(new Xr("heartbeat",e=>new $2(e),"PRIVATE")),mi(Qm,s0,i),mi(Qm,s0,"esm2017"),mi("fire-js","")}J2("");var eI="firebase",tI="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mi(eI,tI,"app");function Dp(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function pT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nI=pT,gT=new vu("auth","Firebase",pT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new Rp("@firebase/auth");function iI(i,...e){Dh.logLevel<=Pe.WARN&&Dh.warn(`Auth (${ia}): ${i}`,...e)}function mh(i,...e){Dh.logLevel<=Pe.ERROR&&Dh.error(`Auth (${ia}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(i,...e){throw Op(i,...e)}function pi(i,...e){return Op(i,...e)}function _T(i,e,n){const s=Object.assign(Object.assign({},nI()),{[e]:n});return new vu("auth","Firebase",s).create(e,{appName:i.name})}function Ji(i){return _T(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Op(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return gT.create(i,...e)}function Ee(i,e,...n){if(!i)throw Op(e,...n)}function Xi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw mh(e),new Error(e)}function ir(i,e){i||Xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function rI(){return c0()==="http:"||c0()==="https:"}function c0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rI()||MR()||"connection"in navigator)?navigator.onLine:!0}function aI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ir(n>e,"Short delay should be less than long delay!"),this.isMobile=OR()||PR()}get(){return sI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(i,e){ir(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uI=new Tu(3e4,6e4);function is(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function rs(i,e,n,s,o={}){return vT(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Eu(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return xR()||(g.referrerPolicy="no-referrer"),yT.fetch()(await ET(i,i.config.apiHost,n,m),g)})}async function vT(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},oI),e);try{const o=new hI(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw ih(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ih(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw ih(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw ih(i,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw _T(i,E,g);Qn(i,E)}}catch(o){if(o instanceof Ai)throw o;Qn(i,"network-request-failed",{message:String(o)})}}async function Au(i,e,n,s,o={}){const u=await rs(i,e,n,s,o);return"mfaPendingCredential"in u&&Qn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function ET(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?Np(i.config,o):`${i.config.apiScheme}://${o}`;return lI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function cI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(pi(this.auth,"network-request-failed")),uI.get())})}}function ih(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=pi(i,e,s);return o.customData._tokenResponse=n,o}function h0(i){return i!==void 0&&i.enterprise!==void 0}class fI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return cI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dI(i,e){return rs(i,"GET","/v2/recaptchaConfig",is(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mI(i,e){return rs(i,"POST","/v1/accounts:delete",e)}async function Oh(i,e){return rs(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pI(i,e=!1){const n=dt(i),s=await n.getIdToken(e),o=xp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Wl(Pm(o.auth_time)),issuedAtTime:Wl(Pm(o.iat)),expirationTime:Wl(Pm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Pm(i){return Number(i)*1e3}function xp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return mh("JWT malformed, contained fewer than 3 sections"),null;try{const o=rT(n);return o?JSON.parse(o):(mh("Failed to decode base64 JWT payload"),null)}catch(o){return mh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function f0(i){const e=xp(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function su(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ai&&gI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function gI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wl(this.lastLoginAt),this.creationTime=Wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nh(i){var e;const n=i.auth,s=await i.getIdToken(),o=await su(i,Oh(n,{idToken:s}));Ee(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?TT(u.providerUserInfo):[],m=vI(i.providerData,f),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Wm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,S)}async function yI(i){const e=dt(i);await Nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vI(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function TT(i){return i.map(e=>{var{providerId:n}=e,s=Dp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EI(i,e){const n=await vT(i,{},async()=>{const s=Eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await ET(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",yT.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function TI(i,e){return rs(i,"POST","/v2/accounts:revokeToken",is(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):f0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=f0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await EI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new oo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return Xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Gn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Dp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _I(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Wm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await su(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return pI(this,e)}reload(){return yI(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Nh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(Ji(this.auth));const e=await this.getIdToken();return await su(this,mI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,E;const S=(s=n.displayName)!==null&&s!==void 0?s:void 0,b=(o=n.email)!==null&&o!==void 0?o:void 0,P=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,O=(f=n.photoURL)!==null&&f!==void 0?f:void 0,F=(m=n.tenantId)!==null&&m!==void 0?m:void 0,U=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,K=(g=n.createdAt)!==null&&g!==void 0?g:void 0,ie=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:$,emailVerified:ae,isAnonymous:ue,providerData:me,stsTokenManager:x}=n;Ee($&&x,e,"internal-error");const w=oo.fromJSON(this.name,x);Ee(typeof $=="string",e,"internal-error"),Vr(S,e.name),Vr(b,e.name),Ee(typeof ae=="boolean",e,"internal-error"),Ee(typeof ue=="boolean",e,"internal-error"),Vr(P,e.name),Vr(O,e.name),Vr(F,e.name),Vr(U,e.name),Vr(K,e.name),Vr(ie,e.name);const I=new Gn({uid:$,auth:e,email:b,emailVerified:ae,displayName:S,isAnonymous:ue,photoURL:O,phoneNumber:P,tenantId:F,stsTokenManager:w,createdAt:K,lastLoginAt:ie});return me&&Array.isArray(me)&&(I.providerData=me.map(M=>Object.assign({},M))),U&&(I._redirectEventId=U),I}static async _fromIdTokenResponse(e,n,s=!1){const o=new oo;o.updateFromServerResponse(n);const u=new Gn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Nh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?TT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new oo;m.updateFromIdToken(s);const p=new Gn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Wm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=new Map;function Wi(i){ir(i instanceof Function,"Expected a class definition");let e=d0.get(i);return e?(ir(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,d0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}AT.type="NONE";const m0=AT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(i,e,n){return`firebase:${i}:${e}:${n}`}class lo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ph(this.userKey,o.apiKey,u),this.fullPersistenceKey=ph("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Oh(this.auth,{idToken:e}).catch(()=>{});return n?Gn._fromGetAccountInfoResponse(this.auth,n,e):null}return Gn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new lo(Wi(m0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Wi(m0);const f=ph(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let S;if(typeof E=="string"){const b=await Oh(e,{idToken:E}).catch(()=>{});if(!b)break;S=await Gn._fromGetAccountInfoResponse(e,b,E)}else S=Gn._fromJSON(e,E);g!==u&&(m=S),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new lo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new lo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ST(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CT(e))return"Blackberry";if(DT(e))return"Webos";if(bT(e))return"Safari";if((e.includes("chrome/")||wT(e))&&!e.includes("edge/"))return"Chrome";if(IT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function ST(i=Zt()){return/firefox\//i.test(i)}function bT(i=Zt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wT(i=Zt()){return/crios\//i.test(i)}function RT(i=Zt()){return/iemobile/i.test(i)}function IT(i=Zt()){return/android/i.test(i)}function CT(i=Zt()){return/blackberry/i.test(i)}function DT(i=Zt()){return/webos/i.test(i)}function Mp(i=Zt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function AI(i=Zt()){var e;return Mp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function SI(){return kR()&&document.documentMode===10}function OT(i=Zt()){return Mp(i)||IT(i)||DT(i)||CT(i)||/windows phone/i.test(i)||RT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(i,e=[]){let n;switch(i){case"Browser":n=p0(Zt());break;case"Worker":n=`${p0(Zt())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ia}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI(i,e={}){return rs(i,"GET","/v2/passwordPolicy",is(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=6;class II{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:RI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new g0(this),this.idTokenSubscription=new g0(this),this.beforeStateQueue=new bI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wi(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await lo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Oh(this,{idToken:e}),s=await Gn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(An(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Nh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(An(this.app))return Promise.reject(Ji(this));const n=e?dt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return An(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wI(this),n=new II(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await TI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wi(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[Wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&iI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ra(i){return dt(i)}class g0{constructor(e){this.auth=e,this.observer=null,this.addObserver=HR(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DI(i){Wh=i}function xT(i){return Wh.loadJS(i)}function OI(){return Wh.recaptchaEnterpriseScript}function NI(){return Wh.gapiScript}function xI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class MI{constructor(){this.enterprise=new PI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class PI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const kI="recaptcha-enterprise",MT="NO_RECAPTCHA";class VI{constructor(e){this.type=kI,this.auth=ra(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{dI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new fI(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;h0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(MT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new MI().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&h0(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=OI();p.length!==0&&(p+=m),xT(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function _0(i,e,n,s=!1,o=!1){const u=new VI(i);let f;if(o)f=MT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Zm(i,e,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await _0(i,e,n,n==="getOobCode");return s(i,f)}else return s(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await _0(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(i,e){const n=Xh(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if($s(u,e??{}))return o;Qn(o,"already-initialized")}return n.initialize({options:e})}function LI(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Wi);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function zI(i,e,n){const s=ra(i);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=PT(e),{host:f,port:m}=BI(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee($s(g,s.config.emulator)&&$s(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,jI()}function PT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function BI(i){const e=PT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:y0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:y0(f)}}}function y0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function jI(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xi("not implemented")}_getIdTokenResponse(e){return Xi("not implemented")}_linkToIdToken(e,n){return Xi("not implemented")}_getReauthenticationResolver(e){return Xi("not implemented")}}async function qI(i,e){return rs(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(i,e){return Au(i,"POST","/v1/accounts:signInWithPassword",is(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI(i,e){return Au(i,"POST","/v1/accounts:signInWithEmailLink",is(i,e))}async function GI(i,e){return Au(i,"POST","/v1/accounts:signInWithEmailLink",is(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends Pp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new au(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new au(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zm(e,n,"signInWithPassword",HI);case"emailLink":return FI(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zm(e,s,"signUpPassword",qI);case"emailLink":return GI(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(i,e){return Au(i,"POST","/v1/accounts:signInWithIdp",is(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="http://localhost";class Ws extends Pp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ws(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Dp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Ws(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return uo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,uo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,uo(e,n)}buildRequest(){const e={requestUri:KI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Eu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function YI(i){const e=Fl(Gl(i)).link,n=e?Fl(Gl(e)).deep_link_id:null,s=Fl(Gl(i)).deep_link_id;return(s?Fl(Gl(s)).link:null)||s||n||e||i}class kp{constructor(e){var n,s,o,u,f,m;const p=Fl(Gl(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,S=QI((o=p.mode)!==null&&o!==void 0?o:null);Ee(g&&E&&S,"argument-error"),this.apiKey=g,this.operation=S,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=YI(e);try{return new kp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.providerId=Ao.PROVIDER_ID}static credential(e,n){return au._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=kp.parseLink(n);return Ee(s,"argument-error"),au._fromEmailAndCode(e,s.code,s.tenantId)}}Ao.PROVIDER_ID="password";Ao.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ao.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends kT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Su{constructor(){super("facebook.com")}static credential(e){return Ws._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ur.credential(e.oauthAccessToken)}catch{return null}}}Ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ur.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ws._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Lr.credential(n,s)}catch{return null}}}Lr.GOOGLE_SIGN_IN_METHOD="google.com";Lr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Su{constructor(){super("github.com")}static credential(e){return Ws._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zr.credential(e.oauthAccessToken)}catch{return null}}}zr.GITHUB_SIGN_IN_METHOD="github.com";zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Su{constructor(){super("twitter.com")}static credential(e,n){return Ws._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Br.credential(n,s)}catch{return null}}}Br.TWITTER_SIGN_IN_METHOD="twitter.com";Br.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $I(i,e){return Au(i,"POST","/v1/accounts:signUp",is(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Gn._fromIdTokenResponse(e,s,o),f=v0(s);return new Zs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=v0(s);return new Zs({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function v0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh extends Ai{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,xh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new xh(e,n,s,o)}}function VT(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?xh._fromErrorAndOperation(i,u,e,s):u})}async function XI(i,e,n=!1){const s=await su(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Zs._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WI(i,e,n=!1){const{auth:s}=i;if(An(s.app))return Promise.reject(Ji(s));const o="reauthenticate";try{const u=await su(i,VT(s,o,e,i),n);Ee(u.idToken,s,"internal-error");const f=xp(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(i.uid===m,s,"user-mismatch"),Zs._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Qn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UT(i,e,n=!1){if(An(i.app))return Promise.reject(Ji(i));const s="signIn",o=await VT(i,s,e),u=await Zs._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function ZI(i,e){return UT(ra(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LT(i){const e=ra(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function JI(i,e,n){if(An(i.app))return Promise.reject(Ji(i));const s=ra(i),f=await Zm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$I).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&LT(i),p}),m=await Zs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function eC(i,e,n){return An(i.app)?Promise.reject(Ji(i)):ZI(dt(i),Ao.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&LT(i),s})}function tC(i,e,n,s){return dt(i).onIdTokenChanged(e,n,s)}function nC(i,e,n){return dt(i).beforeAuthStateChanged(e,n)}function iC(i){return dt(i).signOut()}const Mh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mh,"1"),this.storage.removeItem(Mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=1e3,sC=10;class BT extends zT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);SI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,sC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},rC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}BT.type="LOCAL";const aC=BT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT extends zT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}jT.type="SESSION";const qT=jT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Zh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await oC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Vp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const b=S;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(){return window}function uC(i){gi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(){return typeof gi().WorkerGlobalScope<"u"&&typeof gi().importScripts=="function"}async function cC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hC(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function fC(){return HT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="firebaseLocalStorageDb",dC=1,Ph="firebaseLocalStorage",GT="fbase_key";class bu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jh(i,e){return i.transaction([Ph],e?"readwrite":"readonly").objectStore(Ph)}function mC(){const i=indexedDB.deleteDatabase(FT);return new bu(i).toPromise()}function Jm(){const i=indexedDB.open(FT,dC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Ph,{keyPath:GT})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Ph)?e(s):(s.close(),await mC(),e(await Jm()))})})}async function E0(i,e,n){const s=Jh(i,!0).put({[GT]:e,value:n});return new bu(s).toPromise()}async function pC(i,e){const n=Jh(i,!1).get(e),s=await new bu(n).toPromise();return s===void 0?null:s.value}function T0(i,e){const n=Jh(i,!0).delete(e);return new bu(n).toPromise()}const gC=800,_C=3;class KT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>_C)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zh._getInstance(fC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await cC(),!this.activeServiceWorker)return;this.sender=new lC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jm();return await E0(e,Mh,"1"),await T0(e,Mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>E0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>pC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>T0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Jh(o,!1).getAll();return new bu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}KT.type="LOCAL";const yC=KT;new Tu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(i,e){return e?Wi(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up extends Pp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function EC(i){return UT(i.auth,new Up(i),i.bypassAuthState)}function TC(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),WI(n,new Up(i),i.bypassAuthState)}async function AC(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),XI(n,new Up(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EC;case"linkViaPopup":case"linkViaRedirect":return AC;case"reauthViaPopup":case"reauthViaRedirect":return TC;default:Qn(this.auth,"internal-error")}}resolve(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=new Tu(2e3,1e4);class ao extends QT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ao.currentPopupAction&&ao.currentPopupAction.cancel(),ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ir(this.filter.length===1,"Popup operations only handle one event");const e=Vp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SC.get())};e()}}ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="pendingRedirect",gh=new Map;class wC extends QT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=gh.get(this.auth._key());if(!e){try{const s=await RC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}gh.set(this.auth._key(),e)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RC(i,e){const n=DC(e),s=CC(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function IC(i,e){gh.set(i._key(),e)}function CC(i){return Wi(i._redirectPersistence)}function DC(i){return ph(bC,i.config.apiKey,i.name)}async function OC(i,e,n=!1){if(An(i.app))return Promise.reject(Ji(i));const s=ra(i),o=vC(s,e),f=await new wC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=10*60*1e3;class xC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!MC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!YT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(pi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NC&&this.cachedEventUids.clear(),this.cachedEventUids.has(A0(e))}saveEventToCache(e){this.cachedEventUids.add(A0(e)),this.lastProcessedEventTime=Date.now()}}function A0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function YT({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function MC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PC(i,e={}){return rs(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VC=/^https?/;async function UC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await PC(i);for(const n of e)try{if(LC(n))return}catch{}Qn(i,"unauthorized-domain")}function LC(i){const e=Xm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!VC.test(n))return!1;if(kC.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=new Tu(3e4,6e4);function S0(){const i=gi().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function BC(i){return new Promise((e,n)=>{var s,o,u;function f(){S0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{S0(),n(pi(i,"network-request-failed"))},timeout:zC.get()})}if(!((o=(s=gi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=gi().gapi)===null||u===void 0)&&u.load)f();else{const m=xI("iframefcb");return gi()[m]=()=>{gapi.load?f():n(pi(i,"network-request-failed"))},xT(`${NI()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw _h=null,e})}let _h=null;function jC(i){return _h=_h||BC(i),_h}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=new Tu(5e3,15e3),HC="__/auth/iframe",FC="emulator/auth/iframe",GC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QC(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Np(e,FC):`https://${i.config.authDomain}/${HC}`,s={apiKey:e.apiKey,appName:i.name,v:ia},o=KC.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Eu(s).slice(1)}`}async function YC(i){const e=await jC(i),n=gi().gapi;return Ee(n,i,"internal-error"),e.open({where:document.body,url:QC(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=pi(i,"network-request-failed"),m=gi().setTimeout(()=>{u(f)},qC.get());function p(){gi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XC=500,WC=600,ZC="_blank",JC="http://localhost";class b0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eD(i,e,n,s=XC,o=WC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},$C),{width:s.toString(),height:o.toString(),top:u,left:f}),g=Zt().toLowerCase();n&&(m=wT(g)?ZC:n),ST(g)&&(e=e||JC,p.scrollbars="yes");const E=Object.entries(p).reduce((b,[P,O])=>`${b}${P}=${O},`,"");if(AI(g)&&m!=="_self")return tD(e||"",m),new b0(null);const S=window.open(e||"",m,E);Ee(S,i,"popup-blocked");try{S.focus()}catch{}return new b0(S)}function tD(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="__/auth/handler",iD="emulator/auth/handler",rD=encodeURIComponent("fac");async function w0(i,e,n,s,o,u){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:ia,eventId:o};if(e instanceof kT){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",qR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof Su){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${rD}=${encodeURIComponent(p)}`:"";return`${sD(i)}?${Eu(m).slice(1)}${g}`}function sD({config:i}){return i.emulator?Np(i,iD):`https://${i.authDomain}/${nD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="webStorageSupport";class aD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qT,this._completeRedirectFn=OC,this._overrideRedirectResult=IC}async _openPopup(e,n,s,o){var u;ir((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await w0(e,n,s,Xm(),o);return eD(e,f,Vp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await w0(e,n,s,Xm(),o);return uC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ir(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await YC(e),s=new xC(e);return n.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(km,{type:km},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[km];f!==void 0&&n(!!f),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=UC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return OT()||bT()||Mp()}}const oD=aD;var R0="@firebase/auth",I0="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cD(i){Xs(new Xr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NT(i)},g=new CI(s,o,u,p);return LI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Xs(new Xr("auth-internal",e=>{const n=ra(e.getProvider("auth").getImmediate());return(s=>new lD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mi(R0,I0,uD(i)),mi(R0,I0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=5*60,fD=lT("authIdTokenMaxAge")||hD;let C0=null;const dD=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>fD)return;const o=n==null?void 0:n.token;C0!==o&&(C0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ef(i=Cp()){const e=Xh(i,"auth");if(e.isInitialized())return e.getImmediate();const n=UI(i,{popupRedirectResolver:oD,persistence:[yC,aC,qT]}),s=lT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=dD(u.toString());nC(n,f,()=>f(n.currentUser)),tC(n,m=>f(m))}}const o=sT("auth");return o&&zI(n,`http://${o}`),n}function mD(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}DI({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=pi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",mD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cD("Browser");var D0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qr,$T;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,w){function I(){}I.prototype=w.prototype,x.D=w.prototype,x.prototype=new I,x.prototype.constructor=x,x.C=function(M,V,C){for(var R=Array(arguments.length-2),De=2;De<arguments.length;De++)R[De-2]=arguments[De];return w.prototype[V].apply(M,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,w,I){I||(I=0);var M=Array(16);if(typeof w=="string")for(var V=0;16>V;++V)M[V]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(V=0;16>V;++V)M[V]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=x.g[0],I=x.g[1],V=x.g[2];var C=x.g[3],R=w+(C^I&(V^C))+M[0]+3614090360&4294967295;w=I+(R<<7&4294967295|R>>>25),R=C+(V^w&(I^V))+M[1]+3905402710&4294967295,C=w+(R<<12&4294967295|R>>>20),R=V+(I^C&(w^I))+M[2]+606105819&4294967295,V=C+(R<<17&4294967295|R>>>15),R=I+(w^V&(C^w))+M[3]+3250441966&4294967295,I=V+(R<<22&4294967295|R>>>10),R=w+(C^I&(V^C))+M[4]+4118548399&4294967295,w=I+(R<<7&4294967295|R>>>25),R=C+(V^w&(I^V))+M[5]+1200080426&4294967295,C=w+(R<<12&4294967295|R>>>20),R=V+(I^C&(w^I))+M[6]+2821735955&4294967295,V=C+(R<<17&4294967295|R>>>15),R=I+(w^V&(C^w))+M[7]+4249261313&4294967295,I=V+(R<<22&4294967295|R>>>10),R=w+(C^I&(V^C))+M[8]+1770035416&4294967295,w=I+(R<<7&4294967295|R>>>25),R=C+(V^w&(I^V))+M[9]+2336552879&4294967295,C=w+(R<<12&4294967295|R>>>20),R=V+(I^C&(w^I))+M[10]+4294925233&4294967295,V=C+(R<<17&4294967295|R>>>15),R=I+(w^V&(C^w))+M[11]+2304563134&4294967295,I=V+(R<<22&4294967295|R>>>10),R=w+(C^I&(V^C))+M[12]+1804603682&4294967295,w=I+(R<<7&4294967295|R>>>25),R=C+(V^w&(I^V))+M[13]+4254626195&4294967295,C=w+(R<<12&4294967295|R>>>20),R=V+(I^C&(w^I))+M[14]+2792965006&4294967295,V=C+(R<<17&4294967295|R>>>15),R=I+(w^V&(C^w))+M[15]+1236535329&4294967295,I=V+(R<<22&4294967295|R>>>10),R=w+(V^C&(I^V))+M[1]+4129170786&4294967295,w=I+(R<<5&4294967295|R>>>27),R=C+(I^V&(w^I))+M[6]+3225465664&4294967295,C=w+(R<<9&4294967295|R>>>23),R=V+(w^I&(C^w))+M[11]+643717713&4294967295,V=C+(R<<14&4294967295|R>>>18),R=I+(C^w&(V^C))+M[0]+3921069994&4294967295,I=V+(R<<20&4294967295|R>>>12),R=w+(V^C&(I^V))+M[5]+3593408605&4294967295,w=I+(R<<5&4294967295|R>>>27),R=C+(I^V&(w^I))+M[10]+38016083&4294967295,C=w+(R<<9&4294967295|R>>>23),R=V+(w^I&(C^w))+M[15]+3634488961&4294967295,V=C+(R<<14&4294967295|R>>>18),R=I+(C^w&(V^C))+M[4]+3889429448&4294967295,I=V+(R<<20&4294967295|R>>>12),R=w+(V^C&(I^V))+M[9]+568446438&4294967295,w=I+(R<<5&4294967295|R>>>27),R=C+(I^V&(w^I))+M[14]+3275163606&4294967295,C=w+(R<<9&4294967295|R>>>23),R=V+(w^I&(C^w))+M[3]+4107603335&4294967295,V=C+(R<<14&4294967295|R>>>18),R=I+(C^w&(V^C))+M[8]+1163531501&4294967295,I=V+(R<<20&4294967295|R>>>12),R=w+(V^C&(I^V))+M[13]+2850285829&4294967295,w=I+(R<<5&4294967295|R>>>27),R=C+(I^V&(w^I))+M[2]+4243563512&4294967295,C=w+(R<<9&4294967295|R>>>23),R=V+(w^I&(C^w))+M[7]+1735328473&4294967295,V=C+(R<<14&4294967295|R>>>18),R=I+(C^w&(V^C))+M[12]+2368359562&4294967295,I=V+(R<<20&4294967295|R>>>12),R=w+(I^V^C)+M[5]+4294588738&4294967295,w=I+(R<<4&4294967295|R>>>28),R=C+(w^I^V)+M[8]+2272392833&4294967295,C=w+(R<<11&4294967295|R>>>21),R=V+(C^w^I)+M[11]+1839030562&4294967295,V=C+(R<<16&4294967295|R>>>16),R=I+(V^C^w)+M[14]+4259657740&4294967295,I=V+(R<<23&4294967295|R>>>9),R=w+(I^V^C)+M[1]+2763975236&4294967295,w=I+(R<<4&4294967295|R>>>28),R=C+(w^I^V)+M[4]+1272893353&4294967295,C=w+(R<<11&4294967295|R>>>21),R=V+(C^w^I)+M[7]+4139469664&4294967295,V=C+(R<<16&4294967295|R>>>16),R=I+(V^C^w)+M[10]+3200236656&4294967295,I=V+(R<<23&4294967295|R>>>9),R=w+(I^V^C)+M[13]+681279174&4294967295,w=I+(R<<4&4294967295|R>>>28),R=C+(w^I^V)+M[0]+3936430074&4294967295,C=w+(R<<11&4294967295|R>>>21),R=V+(C^w^I)+M[3]+3572445317&4294967295,V=C+(R<<16&4294967295|R>>>16),R=I+(V^C^w)+M[6]+76029189&4294967295,I=V+(R<<23&4294967295|R>>>9),R=w+(I^V^C)+M[9]+3654602809&4294967295,w=I+(R<<4&4294967295|R>>>28),R=C+(w^I^V)+M[12]+3873151461&4294967295,C=w+(R<<11&4294967295|R>>>21),R=V+(C^w^I)+M[15]+530742520&4294967295,V=C+(R<<16&4294967295|R>>>16),R=I+(V^C^w)+M[2]+3299628645&4294967295,I=V+(R<<23&4294967295|R>>>9),R=w+(V^(I|~C))+M[0]+4096336452&4294967295,w=I+(R<<6&4294967295|R>>>26),R=C+(I^(w|~V))+M[7]+1126891415&4294967295,C=w+(R<<10&4294967295|R>>>22),R=V+(w^(C|~I))+M[14]+2878612391&4294967295,V=C+(R<<15&4294967295|R>>>17),R=I+(C^(V|~w))+M[5]+4237533241&4294967295,I=V+(R<<21&4294967295|R>>>11),R=w+(V^(I|~C))+M[12]+1700485571&4294967295,w=I+(R<<6&4294967295|R>>>26),R=C+(I^(w|~V))+M[3]+2399980690&4294967295,C=w+(R<<10&4294967295|R>>>22),R=V+(w^(C|~I))+M[10]+4293915773&4294967295,V=C+(R<<15&4294967295|R>>>17),R=I+(C^(V|~w))+M[1]+2240044497&4294967295,I=V+(R<<21&4294967295|R>>>11),R=w+(V^(I|~C))+M[8]+1873313359&4294967295,w=I+(R<<6&4294967295|R>>>26),R=C+(I^(w|~V))+M[15]+4264355552&4294967295,C=w+(R<<10&4294967295|R>>>22),R=V+(w^(C|~I))+M[6]+2734768916&4294967295,V=C+(R<<15&4294967295|R>>>17),R=I+(C^(V|~w))+M[13]+1309151649&4294967295,I=V+(R<<21&4294967295|R>>>11),R=w+(V^(I|~C))+M[4]+4149444226&4294967295,w=I+(R<<6&4294967295|R>>>26),R=C+(I^(w|~V))+M[11]+3174756917&4294967295,C=w+(R<<10&4294967295|R>>>22),R=V+(w^(C|~I))+M[2]+718787259&4294967295,V=C+(R<<15&4294967295|R>>>17),R=I+(C^(V|~w))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+V&4294967295,x.g[3]=x.g[3]+C&4294967295}s.prototype.u=function(x,w){w===void 0&&(w=x.length);for(var I=w-this.blockSize,M=this.B,V=this.h,C=0;C<w;){if(V==0)for(;C<=I;)o(this,x,C),C+=this.blockSize;if(typeof x=="string"){for(;C<w;)if(M[V++]=x.charCodeAt(C++),V==this.blockSize){o(this,M),V=0;break}}else for(;C<w;)if(M[V++]=x[C++],V==this.blockSize){o(this,M),V=0;break}}this.h=V,this.o+=w},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;var I=8*this.o;for(w=x.length-8;w<x.length;++w)x[w]=I&255,I/=256;for(this.u(x),x=Array(16),w=I=0;4>w;++w)for(var M=0;32>M;M+=8)x[I++]=this.g[w]>>>M&255;return x};function u(x,w){var I=m;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=w(x)}function f(x,w){this.h=w;for(var I=[],M=!0,V=x.length-1;0<=V;V--){var C=x[V]|0;M&&C==w||(I[V]=C,M=!1)}this.g=I}var m={};function p(x){return-128<=x&&128>x?u(x,function(w){return new f([w|0],0>w?-1:0)}):new f([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return S;if(0>x)return U(g(-x));for(var w=[],I=1,M=0;x>=I;M++)w[M]=x/I|0,I*=4294967296;return new f(w,0)}function E(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return U(E(x.substring(1),w));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(w,8)),M=S,V=0;V<x.length;V+=8){var C=Math.min(8,x.length-V),R=parseInt(x.substring(V,V+C),w);8>C?(C=g(Math.pow(w,C)),M=M.j(C).add(g(R))):(M=M.j(I),M=M.add(g(R)))}return M}var S=p(0),b=p(1),P=p(16777216);i=f.prototype,i.m=function(){if(F(this))return-U(this).m();for(var x=0,w=1,I=0;I<this.g.length;I++){var M=this.i(I);x+=(0<=M?M:4294967296+M)*w,w*=4294967296}return x},i.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(O(this))return"0";if(F(this))return"-"+U(this).toString(x);for(var w=g(Math.pow(x,6)),I=this,M="";;){var V=ae(I,w).g;I=K(I,V.j(w));var C=((0<I.g.length?I.g[0]:I.h)>>>0).toString(x);if(I=V,O(I))return C+M;for(;6>C.length;)C="0"+C;M=C+M}},i.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function O(x){if(x.h!=0)return!1;for(var w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function F(x){return x.h==-1}i.l=function(x){return x=K(this,x),F(x)?-1:O(x)?0:1};function U(x){for(var w=x.g.length,I=[],M=0;M<w;M++)I[M]=~x.g[M];return new f(I,~x.h).add(b)}i.abs=function(){return F(this)?U(this):this},i.add=function(x){for(var w=Math.max(this.g.length,x.g.length),I=[],M=0,V=0;V<=w;V++){var C=M+(this.i(V)&65535)+(x.i(V)&65535),R=(C>>>16)+(this.i(V)>>>16)+(x.i(V)>>>16);M=R>>>16,C&=65535,R&=65535,I[V]=R<<16|C}return new f(I,I[I.length-1]&-2147483648?-1:0)};function K(x,w){return x.add(U(w))}i.j=function(x){if(O(this)||O(x))return S;if(F(this))return F(x)?U(this).j(U(x)):U(U(this).j(x));if(F(x))return U(this.j(U(x)));if(0>this.l(P)&&0>x.l(P))return g(this.m()*x.m());for(var w=this.g.length+x.g.length,I=[],M=0;M<2*w;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(var V=0;V<x.g.length;V++){var C=this.i(M)>>>16,R=this.i(M)&65535,De=x.i(V)>>>16,He=x.i(V)&65535;I[2*M+2*V]+=R*He,ie(I,2*M+2*V),I[2*M+2*V+1]+=C*He,ie(I,2*M+2*V+1),I[2*M+2*V+1]+=R*De,ie(I,2*M+2*V+1),I[2*M+2*V+2]+=C*De,ie(I,2*M+2*V+2)}for(M=0;M<w;M++)I[M]=I[2*M+1]<<16|I[2*M];for(M=w;M<2*w;M++)I[M]=0;return new f(I,0)};function ie(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function $(x,w){this.g=x,this.h=w}function ae(x,w){if(O(w))throw Error("division by zero");if(O(x))return new $(S,S);if(F(x))return w=ae(U(x),w),new $(U(w.g),U(w.h));if(F(w))return w=ae(x,U(w)),new $(U(w.g),w.h);if(30<x.g.length){if(F(x)||F(w))throw Error("slowDivide_ only works with positive integers.");for(var I=b,M=w;0>=M.l(x);)I=ue(I),M=ue(M);var V=me(I,1),C=me(M,1);for(M=me(M,2),I=me(I,2);!O(M);){var R=C.add(M);0>=R.l(x)&&(V=V.add(I),C=R),M=me(M,1),I=me(I,1)}return w=K(x,V.j(w)),new $(V,w)}for(V=S;0<=x.l(w);){for(I=Math.max(1,Math.floor(x.m()/w.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),C=g(I),R=C.j(w);F(R)||0<R.l(x);)I-=M,C=g(I),R=C.j(w);O(C)&&(C=b),V=V.add(C),x=K(x,R)}return new $(V,x)}i.A=function(x){return ae(this,x).h},i.and=function(x){for(var w=Math.max(this.g.length,x.g.length),I=[],M=0;M<w;M++)I[M]=this.i(M)&x.i(M);return new f(I,this.h&x.h)},i.or=function(x){for(var w=Math.max(this.g.length,x.g.length),I=[],M=0;M<w;M++)I[M]=this.i(M)|x.i(M);return new f(I,this.h|x.h)},i.xor=function(x){for(var w=Math.max(this.g.length,x.g.length),I=[],M=0;M<w;M++)I[M]=this.i(M)^x.i(M);return new f(I,this.h^x.h)};function ue(x){for(var w=x.g.length+1,I=[],M=0;M<w;M++)I[M]=x.i(M)<<1|x.i(M-1)>>>31;return new f(I,x.h)}function me(x,w){var I=w>>5;w%=32;for(var M=x.g.length-I,V=[],C=0;C<M;C++)V[C]=0<w?x.i(C+I)>>>w|x.i(C+I+1)<<32-w:x.i(C+I);return new f(V,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,$T=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Qr=f}).apply(typeof D0<"u"?D0:typeof self<"u"?self:typeof window<"u"?window:{});var rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XT,Kl,WT,yh,ep,ZT,JT,eA;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,_,y){return c==Array.prototype||c==Object.prototype||(c[_]=y.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof rh=="object"&&rh];for(var _=0;_<c.length;++_){var y=c[_];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function o(c,_){if(_)e:{var y=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in y))break e;y=y[z]}c=c[c.length-1],A=y[c],_=_(A),_!=A&&_!=null&&e(y,c,{configurable:!0,writable:!0,value:_})}}function u(c,_){c instanceof String&&(c+="");var y=0,A=!1,z={next:function(){if(!A&&y<c.length){var G=y++;return{value:_(G,c[G]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(_,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var _=typeof c;return _=_!="object"?_:c?Array.isArray(c)?"array":_:"null",_=="array"||_=="object"&&typeof c.length=="number"}function g(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function E(c,_,y){return c.call.apply(c.bind,arguments)}function S(c,_,y){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),c.apply(_,z)}}return function(){return c.apply(_,arguments)}}function b(c,_,y){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,b.apply(null,arguments)}function P(c,_){var y=Array.prototype.slice.call(arguments,1);return function(){var A=y.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function O(c,_){function y(){}y.prototype=_.prototype,c.aa=_.prototype,c.prototype=new y,c.prototype.constructor=c,c.Qb=function(A,z,G){for(var se=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)se[Ve-2]=arguments[Ve];return _.prototype[z].apply(A,se)}}function F(c){const _=c.length;if(0<_){const y=Array(_);for(let A=0;A<_;A++)y[A]=c[A];return y}return[]}function U(c,_){for(let y=1;y<arguments.length;y++){const A=arguments[y];if(p(A)){const z=c.length||0,G=A.length||0;c.length=z+G;for(let se=0;se<G;se++)c[z+se]=A[se]}else c.push(A)}}class K{constructor(_,y){this.i=_,this.j=y,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function ie(c){return/^[\s\xa0]*$/.test(c)}function $(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ae(c){return ae[" "](c),c}ae[" "]=function(){};var ue=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function me(c,_,y){for(const A in c)_.call(y,c[A],A,c)}function x(c,_){for(const y in c)_.call(void 0,c[y],y,c)}function w(c){const _={};for(const y in c)_[y]=c[y];return _}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,_){let y,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(y in A)c[y]=A[y];for(let G=0;G<I.length;G++)y=I[G],Object.prototype.hasOwnProperty.call(A,y)&&(c[y]=A[y])}}function V(c){var _=1;c=c.split(":");const y=[];for(;0<_&&c.length;)y.push(c.shift()),_--;return c.length&&y.push(c.join(":")),y}function C(c){m.setTimeout(()=>{throw c},0)}function R(){var c=je;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class De{constructor(){this.h=this.g=null}add(_,y){const A=He.get();A.set(_,y),this.h?this.h.next=A:this.g=A,this.h=A}}var He=new K(()=>new Y,c=>c.reset());class Y{constructor(){this.next=this.g=this.h=null}set(_,y){this.h=_,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,pe=!1,je=new De,N=()=>{const c=m.Promise.resolve(void 0);oe=()=>{c.then(ne)}};var ne=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(y){C(y)}var _=He;_.j(c),100>_.h&&(_.h++,c.next=_.g,_.g=c)}pe=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const y=()=>{};m.addEventListener("test",y,_),m.removeEventListener("test",y,_)}catch{}return c}();function Oe(c,_){if(re.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var y=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget){if(ue){e:{try{ae(_.nodeName);var z=!0;break e}catch{}z=!1}z||(_=null)}}else y=="mouseover"?_=c.fromElement:y=="mouseout"&&(_=c.toElement);this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Se[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Oe.aa.h.call(this)}}O(Oe,re);var Se={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Nt="closure_listenable_"+(1e6*Math.random()|0),et=0;function $n(c,_,y,A,z){this.listener=c,this.proxy=null,this.src=_,this.type=y,this.capture=!!A,this.ha=z,this.key=++et,this.da=this.fa=!1}function or(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Si(c){this.src=c,this.g={},this.h=0}Si.prototype.add=function(c,_,y,A,z){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var se=ls(c,_,A,z);return-1<se?(_=c[se],y||(_.fa=!1)):(_=new $n(_,this.src,G,!!A,z),_.fa=y,c.push(_)),_};function os(c,_){var y=_.type;if(y in c.g){var A=c.g[y],z=Array.prototype.indexOf.call(A,_,void 0),G;(G=0<=z)&&Array.prototype.splice.call(A,z,1),G&&(or(_),c.g[y].length==0&&(delete c.g[y],c.h--))}}function ls(c,_,y,A){for(var z=0;z<c.length;++z){var G=c[z];if(!G.da&&G.listener==_&&G.capture==!!y&&G.ha==A)return z}return-1}var us="closure_lm_"+(1e6*Math.random()|0),Do={};function xu(c,_,y,A,z){if(Array.isArray(_)){for(var G=0;G<_.length;G++)xu(c,_[G],y,A,z);return null}return y=Mu(y),c&&c[Nt]?c.K(_,y,g(A)?!!A.capture:!1,z):Rn(c,_,y,!1,A,z)}function Rn(c,_,y,A,z,G){if(!_)throw Error("Invalid event type");var se=g(z)?!!z.capture:!!z,Ve=ua(c);if(Ve||(c[us]=Ve=new Si(c)),y=Ve.add(_,y,A,se,G),y.proxy)return y;if(A=Tf(),y.proxy=A,A.src=c,A.listener=y,c.addEventListener)_e||(z=se),z===void 0&&(z=!1),c.addEventListener(_.toString(),A,z);else if(c.attachEvent)c.attachEvent(cs(_.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Tf(){function c(y){return _.call(c.src,c.listener,y)}const _=Af;return c}function Oo(c,_,y,A,z){if(Array.isArray(_))for(var G=0;G<_.length;G++)Oo(c,_[G],y,A,z);else A=g(A)?!!A.capture:!!A,y=Mu(y),c&&c[Nt]?(c=c.i,_=String(_).toString(),_ in c.g&&(G=c.g[_],y=ls(G,y,A,z),-1<y&&(or(G[y]),Array.prototype.splice.call(G,y,1),G.length==0&&(delete c.g[_],c.h--)))):c&&(c=ua(c))&&(_=c.g[_.toString()],c=-1,_&&(c=ls(_,y,A,z)),(y=-1<c?_[c]:null)&&la(y))}function la(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[Nt])os(_.i,c);else{var y=c.type,A=c.proxy;_.removeEventListener?_.removeEventListener(y,A,c.capture):_.detachEvent?_.detachEvent(cs(y),A):_.addListener&&_.removeListener&&_.removeListener(A),(y=ua(_))?(os(y,c),y.h==0&&(y.src=null,_[us]=null)):or(c)}}}function cs(c){return c in Do?Do[c]:Do[c]="on"+c}function Af(c,_){if(c.da)c=!0;else{_=new Oe(_,this);var y=c.listener,A=c.ha||c.src;c.fa&&la(c),c=y.call(A,_)}return c}function ua(c){return c=c[us],c instanceof Si?c:null}var No="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mu(c){return typeof c=="function"?c:(c[No]||(c[No]=function(_){return c.handleEvent(_)}),c[No])}function ct(){le.call(this),this.i=new Si(this),this.M=this,this.F=null}O(ct,le),ct.prototype[Nt]=!0,ct.prototype.removeEventListener=function(c,_,y,A){Oo(this,c,_,y,A)};function Ke(c,_){var y,A=c.F;if(A)for(y=[];A;A=A.F)y.push(A);if(c=c.M,A=_.type||_,typeof _=="string")_=new re(_,c);else if(_ instanceof re)_.target=_.target||c;else{var z=_;_=new re(A,c),M(_,z)}if(z=!0,y)for(var G=y.length-1;0<=G;G--){var se=_.g=y[G];z=dn(se,A,!0,_)&&z}if(se=_.g=c,z=dn(se,A,!0,_)&&z,z=dn(se,A,!1,_)&&z,y)for(G=0;G<y.length;G++)se=_.g=y[G],z=dn(se,A,!1,_)&&z}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var c=this.i,_;for(_ in c.g){for(var y=c.g[_],A=0;A<y.length;A++)or(y[A]);delete c.g[_],c.h--}}this.F=null},ct.prototype.K=function(c,_,y,A){return this.i.add(String(c),_,!1,y,A)},ct.prototype.L=function(c,_,y,A){return this.i.add(String(c),_,!0,y,A)};function dn(c,_,y,A){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();for(var z=!0,G=0;G<_.length;++G){var se=_[G];if(se&&!se.da&&se.capture==y){var Ve=se.listener,wt=se.ha||se.src;se.fa&&os(c.i,se),z=Ve.call(wt,A)!==!1&&z}}return z&&!A.defaultPrevented}function Kt(c,_,y){if(typeof c=="function")y&&(c=b(c,y));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:m.setTimeout(c,_||0)}function Pu(c){c.g=Kt(()=>{c.g=null,c.i&&(c.i=!1,Pu(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class Sf extends le{constructor(_,y){super(),this.m=_,this.l=y,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Pu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hs(c){le.call(this),this.h=c,this.g={}}O(hs,le);var fs=[];function ds(c){me(c.g,function(_,y){this.g.hasOwnProperty(y)&&la(_)},c),c.g={}}hs.prototype.N=function(){hs.aa.N.call(this),ds(this)},hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=m.JSON.stringify,ca=m.JSON.parse,ms=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function xo(){}xo.prototype.h=null;function Mo(c){return c.h||(c.h=c.i())}function Po(){}var bi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wi(){re.call(this,"d")}O(wi,re);function ko(){re.call(this,"c")}O(ko,re);var Xn={},Vo=null;function lr(){return Vo=Vo||new ct}Xn.La="serverreachability";function ha(c){re.call(this,Xn.La,c)}O(ha,re);function ur(c){const _=lr();Ke(_,new ha(_))}Xn.STAT_EVENT="statevent";function ku(c,_){re.call(this,Xn.STAT_EVENT,c),this.stat=_}O(ku,re);function rt(c){const _=lr();Ke(_,new ku(_,c))}Xn.Ma="timingevent";function bt(c,_){re.call(this,Xn.Ma,c),this.size=_}O(bt,re);function yt(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},_)}function In(){this.g=!0}In.prototype.xa=function(){this.g=!1};function Uo(c,_,y,A,z,G){c.info(function(){if(c.g)if(G)for(var se="",Ve=G.split("&"),wt=0;wt<Ve.length;wt++){var Ue=Ve[wt].split("=");if(1<Ue.length){var Mt=Ue[0];Ue=Ue[1];var Rt=Mt.split("_");se=2<=Rt.length&&Rt[1]=="type"?se+(Mt+"="+Ue+"&"):se+(Mt+"=redacted&")}}else se=null;else se=G;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+_+`
`+y+`
`+se})}function bf(c,_,y,A,z,G,se){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+_+`
`+y+`
`+G+" "+se})}function cr(c,_,y,A){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+ps(c,y)+(A?" "+A:"")})}function Vu(c,_){c.info(function(){return"TIMEOUT: "+_})}In.prototype.info=function(){};function ps(c,_){if(!c.g)return _;if(!_)return null;try{var y=JSON.parse(_);if(y){for(c=0;c<y.length;c++)if(Array.isArray(y[c])){var A=y[c];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var G=z[0];if(G!="noop"&&G!="stop"&&G!="close")for(var se=1;se<z.length;se++)z[se]=""}}}}return zn(y)}catch{return _}}var hr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ri={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wn;function Zn(){}O(Zn,xo),Zn.prototype.g=function(){return new XMLHttpRequest},Zn.prototype.i=function(){return{}},Wn=new Zn;function Jt(c,_,y,A){this.j=c,this.i=_,this.l=y,this.R=A||1,this.U=new hs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mt}function mt(){this.i=null,this.g="",this.h=!1}var Lo={},fa={};function Bn(c,_,y){c.L=1,c.v=Es(mn(_)),c.m=y,c.P=!0,Ii(c,null)}function Ii(c,_){c.F=Date.now(),gs(c),c.A=mn(c.v);var y=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Fo(y.i,"t",A),c.C=0,y=c.j.J,c.h=new mt,c.g=Zu(c.j,y?_:null,!c.m),0<c.O&&(c.M=new Sf(b(c.Y,c,c.g),c.O)),_=c.U,y=c.g,A=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(fs[0]=z.toString()),z=fs);for(var G=0;G<z.length;G++){var se=xu(y,z[G],A||_.handleEvent,!1,_.h||_);if(!se)break;_.g[se.key]=se}_=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,_)):(c.u="GET",c.g.ea(c.A,c.u,null,_)),ur(),Uo(c.i,c.u,c.A,c.l,c.R,c.m)}Jt.prototype.ca=function(c){c=c.target;const _=this.M;_&&Nn(c)==3?_.j():this.Y(c)},Jt.prototype.Y=function(c){try{if(c==this.g)e:{const Rt=Nn(this.g);var _=this.g.Ba();const ki=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||Fu(this.g)))){this.J||Rt!=4||_==7||(_==8||0>=ki?ur(3):ur(2)),fr(this);var y=this.g.Z();this.X=y;t:if(Uu(this)){var A=Fu(this.g);c="";var z=A.length,G=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Lt(this),Jn(this);var se="";break t}this.h.i=new m.TextDecoder}for(_=0;_<z;_++)this.h.h=!0,c+=this.h.i.decode(A[_],{stream:!(G&&_==z-1)});A.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=y==200,bf(this.i,this.u,this.A,this.l,this.R,Rt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,wt=this.g;if((Ve=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ie(Ve)){var Ue=Ve;break t}}Ue=null}if(y=Ue)cr(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_s(this,y);else{this.o=!1,this.s=3,rt(12),Lt(this),Jn(this);break e}}if(this.P){y=!0;let zt;for(;!this.J&&this.C<se.length;)if(zt=Lu(this,se),zt==fa){Rt==4&&(this.s=4,rt(14),y=!1),cr(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Lo){this.s=4,rt(15),cr(this.i,this.l,se,"[Invalid Chunk]"),y=!1;break}else cr(this.i,this.l,zt,null),_s(this,zt);if(Uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||se.length!=0||this.h.h||(this.s=1,rt(16),y=!1),this.o=this.o&&y,!y)cr(this.i,this.l,se,"[Invalid Chunked Response]"),Lt(this),Jn(this);else if(0<se.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Cs(Mt),Mt.M=!0,rt(11))}}else cr(this.i,this.l,se,null),_s(this,se);Rt==4&&Lt(this),this.o&&!this.J&&(Rt==4?$u(this.j,this):(this.o=!1,gs(this)))}else Df(this.g),y==400&&0<se.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),Lt(this),Jn(this)}}}catch{}finally{}};function Uu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Lu(c,_){var y=c.C,A=_.indexOf(`
`,y);return A==-1?fa:(y=Number(_.substring(y,A)),isNaN(y)?Lo:(A+=1,A+y>_.length?fa:(_=_.slice(A,A+y),c.C=A+y,_)))}Jt.prototype.cancel=function(){this.J=!0,Lt(this)};function gs(c){c.S=Date.now()+c.I,zu(c,c.I)}function zu(c,_){if(c.B!=null)throw Error("WatchDog timer not null");c.B=yt(b(c.ba,c),_)}function fr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Jt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Vu(this.i,this.A),this.L!=2&&(ur(),rt(17)),Lt(this),this.s=2,Jn(this)):zu(this,this.S-c)};function Jn(c){c.j.G==0||c.J||$u(c.j,c)}function Lt(c){fr(c);var _=c.M;_&&typeof _.ma=="function"&&_.ma(),c.M=null,ds(c.U),c.g&&(_=c.g,c.g=null,_.abort(),_.ma())}function _s(c,_){try{var y=c.j;if(y.G!=0&&(y.g==c||zo(y.h,c))){if(!c.K&&zo(y.h,c)&&y.G==3){try{var A=y.Da.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<c.F)ba(y),Aa(y);else break e;$o(y),rt(18)}}else y.za=z[1],0<y.za-y.T&&37500>z[2]&&y.F&&y.v==0&&!y.C&&(y.C=yt(b(y.Za,y),6e3));if(1>=ma(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Pi(y,11)}else if((c.K||y.g==c)&&ba(y),!ie(_))for(z=y.Da.g.parse(_),_=0;_<z.length;_++){let Ue=z[_];if(y.T=Ue[0],Ue=Ue[1],y.G==2)if(Ue[0]=="c"){y.K=Ue[1],y.ia=Ue[2];const Mt=Ue[3];Mt!=null&&(y.la=Mt,y.j.info("VER="+y.la));const Rt=Ue[4];Rt!=null&&(y.Aa=Rt,y.j.info("SVER="+y.Aa));const ki=Ue[5];ki!=null&&typeof ki=="number"&&0<ki&&(A=1.5*ki,y.L=A,y.j.info("backChannelRequestTimeoutMs_="+A)),A=y;const zt=c.g;if(zt){const ai=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ai){var G=A.h;G.g||ai.indexOf("spdy")==-1&&ai.indexOf("quic")==-1&&ai.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(pa(G,G.h),G.h=null))}if(A.D){const Wo=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Wo&&(A.ya=Wo,$e(A.I,A.D,Wo))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-c.F,y.j.info("Handshake RTT: "+y.R+"ms")),A=y;var se=c;if(A.qa=Wu(A,A.J?A.ia:null,A.W),se.K){en(A.h,se);var Ve=se,wt=A.L;wt&&(Ve.I=wt),Ve.B&&(fr(Ve),gs(Ve)),A.g=se}else Qu(A);0<y.i.length&&Sa(y)}else Ue[0]!="stop"&&Ue[0]!="close"||Pi(y,7);else y.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Pi(y,7):Qo(y):Ue[0]!="noop"&&y.l&&y.l.ta(Ue),y.v=0)}}ur(4)}catch{}}var Bu=class{constructor(c,_){this.g=c,this.map=_}};function Ci(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function da(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ma(c){return c.h?1:c.g?c.g.size:0}function zo(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function pa(c,_){c.g?c.g.add(_):c.h=_}function en(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}Ci.prototype.cancel=function(){if(this.i=Bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Bo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const y of c.g.values())_=_.concat(y.D);return _}return F(c.i)}function wf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var _=[],y=c.length,A=0;A<y;A++)_.push(c[A]);return _}_=[],y=0;for(A in c)_[y++]=c[A];return _}function ga(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var _=[];c=c.length;for(var y=0;y<c;y++)_.push(y);return _}_=[],y=0;for(const A in c)_[y++]=A;return _}}}function jo(c,_){if(c.forEach&&typeof c.forEach=="function")c.forEach(_,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,_,void 0);else for(var y=ga(c),A=wf(c),z=A.length,G=0;G<z;G++)_.call(void 0,A[G],y&&y[G],c)}var ys=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rf(c,_){if(c){c=c.split("&");for(var y=0;y<c.length;y++){var A=c[y].indexOf("="),z=null;if(0<=A){var G=c[y].substring(0,A);z=c[y].substring(A+1)}else G=c[y];_(G,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function vt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof vt){this.h=c.h,vs(this,c.j),this.o=c.o,this.g=c.g,dr(this,c.s),this.l=c.l;var _=c.i,y=new Oi;y.i=_.i,_.g&&(y.g=new Map(_.g),y.h=_.h),Di(this,y),this.m=c.m}else c&&(_=String(c).match(ys))?(this.h=!1,vs(this,_[1]||"",!0),this.o=Cn(_[2]||""),this.g=Cn(_[3]||"",!0),dr(this,_[4]),this.l=Cn(_[5]||"",!0),Di(this,_[6]||"",!0),this.m=Cn(_[7]||"")):(this.h=!1,this.i=new Oi(null,this.h))}vt.prototype.toString=function(){var c=[],_=this.j;_&&c.push(Ts(_,qo,!0),":");var y=this.g;return(y||_=="file")&&(c.push("//"),(_=this.o)&&c.push(Ts(_,qo,!0),"@"),c.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&c.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&c.push("/"),c.push(Ts(y,y.charAt(0)=="/"?If:Ho,!0))),(y=this.i.toString())&&c.push("?",y),(y=this.m)&&c.push("#",Ts(y,_a)),c.join("")};function mn(c){return new vt(c)}function vs(c,_,y){c.j=y?Cn(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function dr(c,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);c.s=_}else c.s=null}function Di(c,_,y){_ instanceof Oi?(c.i=_,qu(c.i,c.h)):(y||(_=Ts(_,Cf)),c.i=new Oi(_,c.h))}function $e(c,_,y){c.i.set(_,y)}function Es(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Cn(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ts(c,_,y){return typeof c=="string"?(c=encodeURI(c).replace(_,ju),y&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ju(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var qo=/[#\/\?@]/g,Ho=/[#\?:]/g,If=/[#\?]/g,Cf=/[#\?@]/g,_a=/#/g;function Oi(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function Dn(c){c.g||(c.g=new Map,c.h=0,c.i&&Rf(c.i,function(_,y){c.add(decodeURIComponent(_.replace(/\+/g," ")),y)}))}i=Oi.prototype,i.add=function(c,_){Dn(this),this.i=null,c=ei(this,c);var y=this.g.get(c);return y||this.g.set(c,y=[]),y.push(_),this.h+=1,this};function Ni(c,_){Dn(c),_=ei(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function xi(c,_){return Dn(c),_=ei(c,_),c.g.has(_)}i.forEach=function(c,_){Dn(this),this.g.forEach(function(y,A){y.forEach(function(z){c.call(_,z,A,this)},this)},this)},i.na=function(){Dn(this);const c=Array.from(this.g.values()),_=Array.from(this.g.keys()),y=[];for(let A=0;A<_.length;A++){const z=c[A];for(let G=0;G<z.length;G++)y.push(_[A])}return y},i.V=function(c){Dn(this);let _=[];if(typeof c=="string")xi(this,c)&&(_=_.concat(this.g.get(ei(this,c))));else{c=Array.from(this.g.values());for(let y=0;y<c.length;y++)_=_.concat(c[y])}return _},i.set=function(c,_){return Dn(this),this.i=null,c=ei(this,c),xi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},i.get=function(c,_){return c?(c=this.V(c),0<c.length?String(c[0]):_):_};function Fo(c,_,y){Ni(c,_),0<y.length&&(c.i=null,c.g.set(ei(c,_),F(y)),c.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(var y=0;y<_.length;y++){var A=_[y];const G=encodeURIComponent(String(A)),se=this.V(A);for(A=0;A<se.length;A++){var z=G;se[A]!==""&&(z+="="+encodeURIComponent(String(se[A]))),c.push(z)}}return this.i=c.join("&")};function ei(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function qu(c,_){_&&!c.j&&(Dn(c),c.i=null,c.g.forEach(function(y,A){var z=A.toLowerCase();A!=z&&(Ni(this,A),Fo(this,z,y))},c)),c.j=_}function As(c,_){const y=new In;if(m.Image){const A=new Image;A.onload=P(On,y,"TestLoadImage: loaded",!0,_,A),A.onerror=P(On,y,"TestLoadImage: error",!1,_,A),A.onabort=P(On,y,"TestLoadImage: abort",!1,_,A),A.ontimeout=P(On,y,"TestLoadImage: timeout",!1,_,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else _(!1)}function jn(c,_){const y=new In,A=new AbortController,z=setTimeout(()=>{A.abort(),On(y,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:A.signal}).then(G=>{clearTimeout(z),G.ok?On(y,"TestPingServer: ok",!0,_):On(y,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(z),On(y,"TestPingServer: error",!1,_)})}function On(c,_,y,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(y)}catch{}}function Ss(){this.g=new ms}function ti(c,_,y){const A=y||"";try{jo(c,function(z,G){let se=z;g(z)&&(se=zn(z)),_.push(A+G+"="+encodeURIComponent(se))})}catch(z){throw _.push(A+"type="+encodeURIComponent("_badmap")),z}}function mr(c){this.l=c.Ub||null,this.j=c.eb||!1}O(mr,xo),mr.prototype.g=function(){return new Mi(this.l,this.j)},mr.prototype.i=function(c){return function(){return c}}({});function Mi(c,_){ct.call(this),this.D=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Mi,ct),i=Mi.prototype,i.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=_,this.readyState=1,ii(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(_.body=c),(this.D||m).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ni(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Go(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Go(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?ni(this):ii(this),this.readyState==3&&Go(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ni(this))},i.Qa=function(c){this.g&&(this.response=c,ni(this))},i.ga=function(){this.g&&ni(this)};function ni(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ii(c)}i.setRequestHeader=function(c,_){this.u.append(c,_)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var y=_.next();!y.done;)y=y.value,c.push(y[0]+": "+y[1]),y=_.next();return c.join(`\r
`)};function ii(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ko(c){let _="";return me(c,function(y,A){_+=A,_+=":",_+=y,_+=`\r
`}),_}function xt(c,_,y){e:{for(A in y){var A=!1;break e}A=!0}A||(y=Ko(y),typeof c=="string"?y!=null&&encodeURIComponent(String(y)):$e(c,_,y))}function Fe(c){ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Fe,ct);var ya=/^https?$/i,bs=["POST","PUT"];i=Fe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,_,y,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wn.g(),this.v=this.o?Mo(this.o):Mo(Wn),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(G){Hu(this,G);return}if(c=y||"",y=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)y.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())y.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(y.keys()).find(G=>G.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(bs,_,void 0))||A||z||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,se]of y)this.g.setRequestHeader(G,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ws(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){Hu(this,G)}};function Hu(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.m=5,va(c),ri(c)}function va(c){c.A||(c.A=!0,Ke(c,"complete"),Ke(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ke(this,"complete"),Ke(this,"abort"),ri(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ri(this,!0)),Fe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ea(this):this.bb())},i.bb=function(){Ea(this)};function Ea(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Nn(c)!=4||c.Z()!=2)){if(c.u&&Nn(c)==4)Kt(c.Ea,0,c);else if(Ke(c,"readystatechange"),Nn(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var y;if(!(y=_)){var A;if(A=se===0){var z=String(c.D).match(ys)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),A=!ya.test(z?z.toLowerCase():"")}y=A}if(y)Ke(c,"complete"),Ke(c,"success");else{c.m=6;try{var G=2<Nn(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",va(c)}}finally{ri(c)}}}}function ri(c,_){if(c.g){ws(c);const y=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,_||Ke(c,"ready");try{y.onreadystatechange=A}catch{}}}function ws(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Nn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),ca(_)}};function Fu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Df(c){const _={};c=(c.g&&2<=Nn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(ie(c[A]))continue;var y=V(c[A]);const z=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const G=_[z]||[];_[z]=G,G.push(y)}x(_,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rs(c,_,y){return y&&y.internalChannelParams&&y.internalChannelParams[c]||_}function Ta(c){this.Aa=0,this.i=[],this.j=new In,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Rs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Rs("baseRetryDelayMs",5e3,c),this.cb=Rs("retryDelaySeedMs",1e4,c),this.Wa=Rs("forwardChannelMaxRetries",2,c),this.wa=Rs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ci(c&&c.concurrentRequestLimit),this.Da=new Ss,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ta.prototype,i.la=8,i.G=1,i.connect=function(c,_,y,A){rt(0),this.W=c,this.H=_||{},y&&A!==void 0&&(this.H.OSID=y,this.H.OAID=A),this.F=this.X,this.I=Wu(this,null,this.W),Sa(this)};function Qo(c){if(Gu(c),c.G==3){var _=c.U++,y=mn(c.I);if($e(y,"SID",c.K),$e(y,"RID",_),$e(y,"TYPE","terminate"),Is(c,y),_=new Jt(c,c.j,_),_.L=2,_.v=Es(mn(y)),y=!1,m.navigator&&m.navigator.sendBeacon)try{y=m.navigator.sendBeacon(_.v.toString(),"")}catch{}!y&&m.Image&&(new Image().src=_.v,y=!0),y||(_.g=Zu(_.j,null),_.g.ea(_.v)),_.F=Date.now(),gs(_)}Xu(c)}function Aa(c){c.g&&(Cs(c),c.g.cancel(),c.g=null)}function Gu(c){Aa(c),c.u&&(m.clearTimeout(c.u),c.u=null),ba(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Sa(c){if(!da(c.h)&&!c.s){c.s=!0;var _=c.Ga;oe||N(),pe||(oe(),pe=!0),je.add(_,c),c.B=0}}function Of(c,_){return ma(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=_.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=yt(b(c.Ga,c,_),Xo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new Jt(this,this.j,c);let G=this.o;if(this.S&&(G?(G=w(G),M(G,this.S)):G=this.S),this.m!==null||this.O||(z.H=G,G=null),this.P)e:{for(var _=0,y=0;y<this.i.length;y++){t:{var A=this.i[y];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,4096<_){_=y;break e}if(_===4096||y===this.i.length-1){_=y+1;break e}}_=1e3}else _=1e3;_=Ku(this,z,_),y=mn(this.I),$e(y,"RID",c),$e(y,"CVER",22),this.D&&$e(y,"X-HTTP-Session-Id",this.D),Is(this,y),G&&(this.O?_="headers="+encodeURIComponent(String(Ko(G)))+"&"+_:this.m&&xt(y,this.m,G)),pa(this.h,z),this.Ua&&$e(y,"TYPE","init"),this.P?($e(y,"$req",_),$e(y,"SID","null"),z.T=!0,Bn(z,y,null)):Bn(z,y,_),this.G=2}}else this.G==3&&(c?Yo(this,c):this.i.length==0||da(this.h)||Yo(this))};function Yo(c,_){var y;_?y=_.l:y=c.U++;const A=mn(c.I);$e(A,"SID",c.K),$e(A,"RID",y),$e(A,"AID",c.T),Is(c,A),c.m&&c.o&&xt(A,c.m,c.o),y=new Jt(c,c.j,y,c.B+1),c.m===null&&(y.H=c.o),_&&(c.i=_.D.concat(c.i)),_=Ku(c,y,1e3),y.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),pa(c.h,y),Bn(y,A,_)}function Is(c,_){c.H&&me(c.H,function(y,A){$e(_,A,y)}),c.l&&jo({},function(y,A){$e(_,A,y)})}function Ku(c,_,y){y=Math.min(c.i.length,y);var A=c.l?b(c.l.Na,c.l,c):null;e:{var z=c.i;let G=-1;for(;;){const se=["count="+y];G==-1?0<y?(G=z[0].g,se.push("ofs="+G)):G=0:se.push("ofs="+G);let Ve=!0;for(let wt=0;wt<y;wt++){let Ue=z[wt].g;const Mt=z[wt].map;if(Ue-=G,0>Ue)G=Math.max(0,z[wt].g-100),Ve=!1;else try{ti(Mt,se,"req"+Ue+"_")}catch{A&&A(Mt)}}if(Ve){A=se.join("&");break e}}}return c=c.i.splice(0,y),_.D=c,A}function Qu(c){if(!c.g&&!c.u){c.Y=1;var _=c.Fa;oe||N(),pe||(oe(),pe=!0),je.add(_,c),c.v=0}}function $o(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=yt(b(c.Fa,c),Xo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Yu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=yt(b(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),Aa(this),Yu(this))};function Cs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Yu(c){c.g=new Jt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var _=mn(c.qa);$e(_,"RID","rpc"),$e(_,"SID",c.K),$e(_,"AID",c.T),$e(_,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(_,"TO",c.ja),$e(_,"TYPE","xmlhttp"),Is(c,_),c.m&&c.o&&xt(_,c.m,c.o),c.L&&(c.g.I=c.L);var y=c.g;c=c.ia,y.L=1,y.v=Es(mn(_)),y.m=null,y.P=!0,Ii(y,c)}i.Za=function(){this.C!=null&&(this.C=null,Aa(this),$o(this),rt(19))};function ba(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function $u(c,_){var y=null;if(c.g==_){ba(c),Cs(c),c.g=null;var A=2}else if(zo(c.h,_))y=_.D,en(c.h,_),A=1;else return;if(c.G!=0){if(_.o)if(A==1){y=_.m?_.m.length:0,_=Date.now()-_.F;var z=c.B;A=lr(),Ke(A,new bt(A,y)),Sa(c)}else Qu(c);else if(z=_.s,z==3||z==0&&0<_.X||!(A==1&&Of(c,_)||A==2&&$o(c)))switch(y&&0<y.length&&(_=c.h,_.i=_.i.concat(y)),z){case 1:Pi(c,5);break;case 4:Pi(c,10);break;case 3:Pi(c,6);break;default:Pi(c,2)}}}function Xo(c,_){let y=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(y*=2),y*_}function Pi(c,_){if(c.j.info("Error code "+_),_==2){var y=b(c.fb,c),A=c.Xa;const z=!A;A=new vt(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||vs(A,"https"),Es(A),z?As(A.toString(),y):jn(A.toString(),y)}else rt(2);c.G=0,c.l&&c.l.sa(_),Xu(c),Gu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function Xu(c){if(c.G=0,c.ka=[],c.l){const _=Bo(c.h);(_.length!=0||c.i.length!=0)&&(U(c.ka,_),U(c.ka,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.ra()}}function Wu(c,_,y){var A=y instanceof vt?mn(y):new vt(y);if(A.g!="")_&&(A.g=_+"."+A.g),dr(A,A.s);else{var z=m.location;A=z.protocol,_=_?_+"."+z.hostname:z.hostname,z=+z.port;var G=new vt(null);A&&vs(G,A),_&&(G.g=_),z&&dr(G,z),y&&(G.l=y),A=G}return y=c.D,_=c.ya,y&&_&&$e(A,y,_),$e(A,"VER",c.la),Is(c,A),A}function Zu(c,_,y){if(_&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Ca&&!c.pa?new Fe(new mr({eb:y})):new Fe(c.pa),_.Ha(c.J),_}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ju(){}i=Ju.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function wa(){}wa.prototype.g=function(c,_){return new tn(c,_)};function tn(c,_){ct.call(this),this.g=new Ta(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(c?c["X-WebChannel-Client-Profile"]=_.va:c={"X-WebChannel-Client-Profile":_.va}),this.g.S=c,(c=_&&_.Sb)&&!ie(c)&&(this.g.m=c),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!ie(_)&&(this.g.D=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new si(this)}O(tn,ct),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Qo(this.g)},tn.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var y={};y.__data__=c,c=y}else this.u&&(y={},y.__data__=zn(c),c=y);_.i.push(new Bu(_.Ya++,c)),_.G==3&&Sa(_)},tn.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,tn.aa.N.call(this)};function ec(c){wi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const y in _){c=y;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}O(ec,wi);function tc(){ko.call(this),this.status=1}O(tc,ko);function si(c){this.g=c}O(si,Ju),si.prototype.ua=function(){Ke(this.g,"a")},si.prototype.ta=function(c){Ke(this.g,new ec(c))},si.prototype.sa=function(c){Ke(this.g,new tc)},si.prototype.ra=function(){Ke(this.g,"b")},wa.prototype.createWebChannel=wa.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,eA=function(){return new wa},JT=function(){return lr()},ZT=Xn,ep={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hr.NO_ERROR=0,hr.TIMEOUT=8,hr.HTTP_ERROR=6,yh=hr,Ri.COMPLETE="complete",WT=Ri,Po.EventType=bi,bi.OPEN="a",bi.CLOSE="b",bi.ERROR="c",bi.MESSAGE="d",ct.prototype.listen=ct.prototype.K,Kl=Po,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,XT=Fe}).apply(typeof rh<"u"?rh:typeof self<"u"?self:typeof window<"u"?window:{});const O0="@firebase/firestore",N0="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let So="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=new Rp("@firebase/firestore");function to(){return Js.logLevel}function ce(i,...e){if(Js.logLevel<=Pe.DEBUG){const n=e.map(Lp);Js.debug(`Firestore (${So}): ${i}`,...n)}}function rr(i,...e){if(Js.logLevel<=Pe.ERROR){const n=e.map(Lp);Js.error(`Firestore (${So}): ${i}`,...n)}}function ho(i,...e){if(Js.logLevel<=Pe.WARN){const n=e.map(Lp);Js.warn(`Firestore (${So}): ${i}`,...n)}}function Lp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,tA(i,s,n)}function tA(i,e,n){let s=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw rr(s),new Error(s)}function Ge(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||tA(e,o,s)}function we(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xt.UNAUTHENTICATED))}shutdown(){}}class gD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _D{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Qs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Qs,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Qs)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new nA(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Xt(e)}}class yD{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vD{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new yD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class x0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ED{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,An(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new x0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new x0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=TD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ce(i,e){return i<e?-1:i>e?1:0}function tp(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ce(s,o);{const u=iA(),f=AD(u.encode(M0(i,n)),u.encode(M0(e,n)));return f!==0?f:Ce(s,o)}}n+=s>65535?2:1}return Ce(i.length,e.length)}function M0(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function AD(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Ce(i[n],e[n]);return Ce(i.length,e.length)}function fo(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=-62135596800,k0=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*k0);return new Dt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<P0)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/k0}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-P0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new Dt(0,0))}static max(){return new be(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="__name__";class fi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return fi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=fi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ce(e.length,n.length)}static compareSegments(e,n){const s=fi.isNumericId(e),o=fi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?fi.extractNumericId(e).compare(fi.extractNumericId(n)):tp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qr.fromString(e.substring(4,e.length-2))}}class nt extends fi{construct(e,n,s){return new nt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new nt(n)}static emptyPath(){return new nt([])}}const SD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends fi{construct(e,n,s){return new Ft(e,n,s)}static isValidIdentifier(e){return SD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===V0}static keyField(){return new Ft([V0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new he(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(n)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(nt.fromString(e))}static fromName(e){return new ge(nt.fromString(e).popFirst(5))}static empty(){return new ge(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new nt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou=-1;function bD(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new Dt(n+1,0):new Dt(n,s));return new Wr(o,ge.empty(),e)}function wD(i){return new Wr(i.readTime,i.key,ou)}class Wr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Wr(be.min(),ge.empty(),ou)}static max(){return new Wr(be.max(),ge.empty(),ou)}}function RD(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(i.documentKey,e.documentKey),n!==0?n:Ce(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(i){if(i.code!==te.FAILED_PRECONDITION||i.message!==ID)throw i;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,s)=>{n(e)})}static reject(e){return new ee((n,s)=>{s(e)})}static waitFor(e){return new ee((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next(o=>o?ee.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ee((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new ee((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function DD(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}tf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp=-1;function nf(i){return i==null}function kh(i){return i===0&&1/i==-1/0}function OD(i){return typeof i=="number"&&Number.isInteger(i)&&!kh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="";function ND(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=U0(e)),e=xD(i.get(n),e);return U0(e)}function xD(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case sA:n+="";break;default:n+=u}}return n}function U0(i){return i+sA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ss(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function aA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||Ht.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sh(this.root,e,this.comparator,!1)}getReverseIterator(){return new sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sh(this.root,e,this.comparator,!0)}}class sh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Ht.RED,this.left=o??Ht.EMPTY,this.right=u??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Ht(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ht.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new z0(this.data.getIterator())}getIteratorFrom(e){return new z0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class z0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new Ot(Ft.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new oA("Invalid base64 string: "+u):u}}(e);return new Gt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const MD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zr(i){if(Ge(!!i,39018),typeof i=="string"){let e=0;const n=MD.exec(i);if(Ge(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(i.seconds),nanos:_t(i.nanos)}}function _t(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Jr(i){return typeof i=="string"?Gt.fromBase64String(i):Gt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="server_timestamp",uA="__type__",cA="__previous_value__",hA="__local_write_time__";function Bp(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[uA])===null||n===void 0?void 0:n.stringValue)===lA}function rf(i){const e=i.mapValue.fields[cA];return Bp(e)?rf(e):e}function lu(i){const e=Zr(i.mapValue.fields[hA].timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,n,s,o,u,f,m,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const Vh="(default)";class uu{constructor(e,n){this.projectId=e,this.database=n||Vh}static empty(){return new uu("","")}get isDefaultDatabase(){return this.database===Vh}isEqual(e){return e instanceof uu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="__type__",kD="__max__",ah={mapValue:{}},dA="__vector__",Uh="value";function es(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Bp(i)?4:UD(i)?9007199254740991:VD(i)?10:11:Te(28295,{value:i})}function Ei(i,e){if(i===e)return!0;const n=es(i);if(n!==es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return lu(i).isEqual(lu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Zr(o.timestampValue),m=Zr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Jr(o.bytesValue).isEqual(Jr(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=_t(o.doubleValue),m=_t(u.doubleValue);return f===m?kh(f)===kh(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return fo(i.arrayValue.values||[],e.arrayValue.values||[],Ei);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(L0(f)!==L0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ei(f[p],m[p])))return!1;return!0}(i,e);default:return Te(52216,{left:i})}}function cu(i,e){return(i.values||[]).find(n=>Ei(n,e))!==void 0}function mo(i,e){if(i===e)return 0;const n=es(i),s=es(e);if(n!==s)return Ce(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=_t(u.integerValue||u.doubleValue),p=_t(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return B0(i.timestampValue,e.timestampValue);case 4:return B0(lu(i),lu(e));case 5:return tp(i.stringValue,e.stringValue);case 6:return function(u,f){const m=Jr(u),p=Jr(f);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ce(m[g],p[g]);if(E!==0)return E}return Ce(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ce(_t(u.latitude),_t(f.latitude));return m!==0?m:Ce(_t(u.longitude),_t(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return j0(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,E;const S=u.fields||{},b=f.fields||{},P=(m=S[Uh])===null||m===void 0?void 0:m.arrayValue,O=(p=b[Uh])===null||p===void 0?void 0:p.arrayValue,F=Ce(((g=P==null?void 0:P.values)===null||g===void 0?void 0:g.length)||0,((E=O==null?void 0:O.values)===null||E===void 0?void 0:E.length)||0);return F!==0?F:j0(P,O)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===ah.mapValue&&f===ah.mapValue)return 0;if(u===ah.mapValue)return 1;if(f===ah.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const b=tp(p[S],E[S]);if(b!==0)return b;const P=mo(m[p[S]],g[E[S]]);if(P!==0)return P}return Ce(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Te(23264,{Pe:n})}}function B0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ce(i,e);const n=Zr(i),s=Zr(e),o=Ce(n.seconds,s.seconds);return o!==0?o:Ce(n.nanos,s.nanos)}function j0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=mo(n[o],s[o]);if(u)return u}return Ce(n.length,s.length)}function po(i){return np(i)}function np(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Zr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Jr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ge.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=np(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${np(n.fields[f])}`;return o+"}"}(i.mapValue):Te(61005,{value:i})}function vh(i){switch(es(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rf(i);return e?16+vh(e):16;case 5:return 2*i.stringValue.length;case 6:return Jr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+vh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return ss(s.fields,(u,f)=>{o+=u.length+vh(f)}),o}(i.mapValue);default:throw Te(13486,{value:i})}}function q0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function ip(i){return!!i&&"integerValue"in i}function jp(i){return!!i&&"arrayValue"in i}function H0(i){return!!i&&"nullValue"in i}function F0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Eh(i){return!!i&&"mapValue"in i}function VD(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[fA])===null||n===void 0?void 0:n.stringValue)===dA}function Zl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ss(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Zl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zl(i.arrayValue.values[n]);return e}return Object.assign({},i)}function UD(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===kD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Eh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zl(n)}setAll(e){let n=Ft.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Zl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ei(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Eh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ss(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new hn(Zl(this.value))}}function mA(i){const e=[];return ss(i.fields,(n,s)=>{const o=new Ft([n]);if(Eh(s)){const u=mA(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,be.min(),be.min(),be.min(),hn.empty(),0)}static newFoundDocument(e,n,s,o){return new Wt(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,be.min(),be.min(),hn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,be.min(),be.min(),hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n){this.position=e,this.inclusive=n}}function G0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=mo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function K0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Ei(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n="asc"){this.field=e,this.dir=n}}function LD(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{}class St extends pA{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new BD(e,n,s):n==="array-contains"?new HD(e,s):n==="in"?new FD(e,s):n==="not-in"?new GD(e,s):n==="array-contains-any"?new KD(e,s):new St(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new jD(e,s):new qD(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(mo(n,this.value)):n!==null&&es(this.value)===es(n)&&this.matchesComparison(mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends pA{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Yn(e,n)}matches(e){return gA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function gA(i){return i.op==="and"}function _A(i){return zD(i)&&gA(i)}function zD(i){for(const e of i.filters)if(e instanceof Yn)return!1;return!0}function rp(i){if(i instanceof St)return i.field.canonicalString()+i.op.toString()+po(i.value);if(_A(i))return i.filters.map(e=>rp(e)).join(",");{const e=i.filters.map(n=>rp(n)).join(",");return`${i.op}(${e})`}}function yA(i,e){return i instanceof St?function(s,o){return o instanceof St&&s.op===o.op&&s.field.isEqual(o.field)&&Ei(s.value,o.value)}(i,e):i instanceof Yn?function(s,o){return o instanceof Yn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&yA(f,o.filters[m]),!0):!1}(i,e):void Te(19439)}function vA(i){return i instanceof St?function(n){return`${n.field.canonicalString()} ${n.op} ${po(n.value)}`}(i):i instanceof Yn?function(n){return n.op.toString()+" {"+n.getFilters().map(vA).join(" ,")+"}"}(i):"Filter"}class BD extends St{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class jD extends St{constructor(e,n){super(e,"in",n),this.keys=EA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class qD extends St{constructor(e,n){super(e,"not-in",n),this.keys=EA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function EA(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ge.fromName(s.referenceValue))}class HD extends St{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jp(n)&&cu(n.arrayValue,this.value)}}class FD extends St{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cu(this.value.arrayValue,n)}}class GD extends St{constructor(e,n){super(e,"not-in",n)}matches(e){if(cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!cu(this.value.arrayValue,n)}}class KD extends St{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>cu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function Q0(i,e=null,n=[],s=[],o=null,u=null,f=null){return new QD(i,e,n,s,o,u,f)}function qp(i){const e=we(i);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>rp(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),nf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>po(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>po(s)).join(",")),e.Ie=n}return e.Ie}function Hp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!LD(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!yA(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!K0(i.startAt,e.startAt)&&K0(i.endAt,e.endAt)}function sp(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function YD(i,e,n,s,o,u,f,m){return new Ro(i,e,n,s,o,u,f,m)}function Fp(i){return new Ro(i)}function Y0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function TA(i){return i.collectionGroup!==null}function Jl(i){const e=we(i);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ot(Ft.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new hu(u,s))}),n.has(Ft.keyField().canonicalString())||e.Ee.push(new hu(Ft.keyField(),s))}return e.Ee}function _i(i){const e=we(i);return e.de||(e.de=$D(e,Jl(i))),e.de}function $D(i,e){if(i.limitType==="F")return Q0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new hu(o.field,u)});const n=i.endAt?new Lh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Lh(i.startAt.position,i.startAt.inclusive):null;return Q0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function ap(i,e){const n=i.filters.concat([e]);return new Ro(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function op(i,e,n){return new Ro(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function sf(i,e){return Hp(_i(i),_i(e))&&i.limitType===e.limitType}function AA(i){return`${qp(_i(i))}|lt:${i.limitType}`}function no(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>vA(o)).join(", ")}]`),nf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>po(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>po(o)).join(",")),`Target(${s})`}(_i(i))}; limitType=${i.limitType})`}function af(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Jl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=G0(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Jl(s),o)||s.endAt&&!function(f,m,p){const g=G0(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Jl(s),o))}(i,e)}function XD(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function SA(i){return(e,n)=>{let s=!1;for(const o of Jl(i)){const u=WD(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function WD(i,e,n){const s=i.field.isKeyField()?ge.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?mo(p,g):Te(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ss(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return aA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=new lt(ge.comparator);function sr(){return ZD}const bA=new lt(ge.comparator);function Ql(...i){let e=bA;for(const n of i)e=e.insert(n.key,n);return e}function wA(i){let e=bA;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Gs(){return eu()}function RA(){return eu()}function eu(){return new sa(i=>i.toString(),(i,e)=>i.isEqual(e))}const JD=new lt(ge.comparator),eO=new Ot(ge.comparator);function ke(...i){let e=eO;for(const n of i)e=e.add(n);return e}const tO=new Ot(Ce);function nO(){return tO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kh(e)?"-0":e}}function IA(i){return{integerValue:""+i}}function iO(i,e){return OD(e)?IA(e):Gp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(){this._=void 0}}function rO(i,e,n){return i instanceof fu?function(o,u){const f={fields:{[uA]:{stringValue:lA},[hA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Bp(u)&&(u=rf(u)),u&&(f.fields[cA]=u),{mapValue:f}}(n,e):i instanceof du?DA(i,e):i instanceof mu?OA(i,e):function(o,u){const f=CA(o,u),m=$0(f)+$0(o.Re);return ip(f)&&ip(o.Re)?IA(m):Gp(o.serializer,m)}(i,e)}function sO(i,e,n){return i instanceof du?DA(i,e):i instanceof mu?OA(i,e):n}function CA(i,e){return i instanceof zh?function(s){return ip(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class fu extends of{}class du extends of{constructor(e){super(),this.elements=e}}function DA(i,e){const n=NA(e);for(const s of i.elements)n.some(o=>Ei(o,s))||n.push(s);return{arrayValue:{values:n}}}class mu extends of{constructor(e){super(),this.elements=e}}function OA(i,e){let n=NA(e);for(const s of i.elements)n=n.filter(o=>!Ei(o,s));return{arrayValue:{values:n}}}class zh extends of{constructor(e,n){super(),this.serializer=e,this.Re=n}}function $0(i){return _t(i.integerValue||i.doubleValue)}function NA(i){return jp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,n){this.field=e,this.transform=n}}function oO(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof du&&o instanceof du||s instanceof mu&&o instanceof mu?fo(s.elements,o.elements,Ei):s instanceof zh&&o instanceof zh?Ei(s.Re,o.Re):s instanceof fu&&o instanceof fu}(i.transform,e.transform)}class lO{constructor(e,n){this.version=e,this.transformResults=n}}class Kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Th(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class lf{}function xA(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Kp(i.key,Kn.none()):new wu(i.key,i.data,Kn.none());{const n=i.data,s=hn.empty();let o=new Ot(Ft.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new as(i.key,s,new Sn(o.toArray()),Kn.none())}}function uO(i,e,n){i instanceof wu?function(o,u,f){const m=o.value.clone(),p=W0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof as?function(o,u,f){if(!Th(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=W0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(MA(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function tu(i,e,n,s){return i instanceof wu?function(u,f,m,p){if(!Th(u.precondition,f))return m;const g=u.value.clone(),E=Z0(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,e,n,s):i instanceof as?function(u,f,m,p){if(!Th(u.precondition,f))return m;const g=Z0(u.fieldTransforms,p,f),E=f.data;return E.setAll(MA(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(i,e,n,s):function(u,f,m){return Th(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function cO(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=CA(s.transform,o||null);u!=null&&(n===null&&(n=hn.empty()),n.set(s.field,u))}return n||null}function X0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&fo(s,o,(u,f)=>oO(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class wu extends lf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class as extends lf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function MA(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function W0(i,e,n){const s=new Map;Ge(i.length===n.length,32656,{Ve:n.length,me:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,sO(f,m,n[o]))}return s}function Z0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,rO(u,f,e))}return s}class Kp extends lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hO extends lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&uO(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=tu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=tu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=RA();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=xA(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(be.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&fo(this.mutations,e.mutations,(n,s)=>X0(n,s))&&fo(this.baseMutations,e.baseMutations,(n,s)=>X0(n,s))}}class Qp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return JD}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Qp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,ze;function pO(i){switch(i){case te.OK:return Te(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Te(15467,{code:i})}}function PA(i){if(i===void 0)return rr("GRPC error has no .code"),te.UNKNOWN;switch(i){case At.OK:return te.OK;case At.CANCELLED:return te.CANCELLED;case At.UNKNOWN:return te.UNKNOWN;case At.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case At.INTERNAL:return te.INTERNAL;case At.UNAVAILABLE:return te.UNAVAILABLE;case At.UNAUTHENTICATED:return te.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case At.NOT_FOUND:return te.NOT_FOUND;case At.ALREADY_EXISTS:return te.ALREADY_EXISTS;case At.PERMISSION_DENIED:return te.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case At.ABORTED:return te.ABORTED;case At.OUT_OF_RANGE:return te.OUT_OF_RANGE;case At.UNIMPLEMENTED:return te.UNIMPLEMENTED;case At.DATA_LOSS:return te.DATA_LOSS;default:return Te(39323,{code:i})}}(ze=At||(At={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=new Qr([4294967295,4294967295],0);function J0(i){const e=iA().encode(i),n=new $T;return n.update(e),new Uint8Array(n.digest())}function eE(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Qr([n,s],0),new Qr([o,u],0)]}class Yp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Yl(`Invalid padding: ${n}`);if(s<0)throw new Yl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Qr.fromNumber(this.pe)}we(e,n,s){let o=e.add(n.multiply(Qr.fromNumber(s)));return o.compare(gO)===1&&(o=new Qr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=J0(e),[s,o]=eE(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Yp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.pe===0)return;const n=J0(e),[s,o]=eE(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Ru.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new uf(be.min(),o,new lt(Ce),sr(),ke())}}class Ru{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ru(s,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n,s,o){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=o}}class kA{constructor(e,n){this.targetId=e,this.Ce=n}}class VA{constructor(e,n,s=Gt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class tE{constructor(){this.Fe=0,this.Me=nE(),this.xe=Gt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ke(),n=ke(),s=ke();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}}),new Ru(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=nE()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ge(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class _O{constructor(e){this.ze=e,this.je=new Map,this.He=sr(),this.Je=oh(),this.Ye=oh(),this.Ze=new lt(Ce)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,s=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(sp(u))if(s===0){const f=new ge(u.path);this.tt(n,f,Wt.newNoDocument(f,be.min()))}else Ge(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const m=this.ct(e),p=m?this.lt(m,e,f):1;if(p!==0){this.st(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Jr(s).toUint8Array()}catch(p){if(p instanceof oA)return ho("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Yp(f,o,u)}catch(p){return ho(p instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&sp(m.target)){const p=new ge(m.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,Wt.newNoDocument(p,e))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let s=ke();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new uf(e,n,this.Ze,this.He,s);return this.He=sr(),this.Je=oh(),this.Ye=oh(),this.Ze=new lt(Ce),o}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new tE,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Ot(Ce),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Ot(Ce),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new tE),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function oh(){return new lt(ge.comparator)}function nE(){return new lt(ge.comparator)}const yO={asc:"ASCENDING",desc:"DESCENDING"},vO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EO={and:"AND",or:"OR"};class TO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function lp(i,e){return i.useProto3Json||nf(e)?e:{value:e}}function Bh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UA(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function AO(i,e){return Bh(i,e.toTimestamp())}function yi(i){return Ge(!!i,49232),be.fromTimestamp(function(n){const s=Zr(n);return new Dt(s.seconds,s.nanos)}(i))}function $p(i,e){return up(i,e).canonicalString()}function up(i,e){const n=function(o){return new nt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function LA(i){const e=nt.fromString(i);return Ge(HA(e),10190,{key:e.toString()}),e}function cp(i,e){return $p(i.databaseId,e.path)}function Vm(i,e){const n=LA(e);if(n.get(1)!==i.databaseId.projectId)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ge(BA(n))}function zA(i,e){return $p(i.databaseId,e)}function SO(i){const e=LA(i);return e.length===4?nt.emptyPath():BA(e)}function hp(i){return new nt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function BA(i){return Ge(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function iE(i,e,n){return{name:cp(i,e),fields:n.value.mapValue.fields}}function bO(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Ge(E===void 0||typeof E=="string",58123),Gt.fromBase64String(E||"")):(Ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Gt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?te.UNKNOWN:PA(g.code);return new he(E,g.message||"")}(f);n=new VA(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Vm(i,s.document.name),u=yi(s.document.updateTime),f=s.document.createTime?yi(s.document.createTime):be.min(),m=new hn({mapValue:{fields:s.document.fields}}),p=Wt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Ah(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Vm(i,s.document),u=s.readTime?yi(s.readTime):be.min(),f=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Ah([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Vm(i,s.document),u=s.removedTargetIds||[];n=new Ah([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new mO(o,u),m=s.targetId;n=new kA(m,f)}}return n}function wO(i,e){let n;if(e instanceof wu)n={update:iE(i,e.key,e.value)};else if(e instanceof Kp)n={delete:cp(i,e.key)};else if(e instanceof as)n={update:iE(i,e.key,e.data),updateMask:PO(e.fieldMask)};else{if(!(e instanceof hO))return Te(16599,{ft:e.type});n={verify:cp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof fu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof du)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof mu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof zh)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw Te(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:AO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)}(i,e.precondition)),n}function RO(i,e){return i&&i.length>0?(Ge(e!==void 0,14353),i.map(n=>function(o,u){let f=o.updateTime?yi(o.updateTime):yi(u);return f.isEqual(be.min())&&(f=yi(u)),new lO(f,o.transformResults||[])}(n,e))):[]}function IO(i,e){return{documents:[zA(i,e.path)]}}function CO(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=zA(i,o);const u=function(g){if(g.length!==0)return qA(Yn.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(b){return{field:io(b.field),direction:NO(b.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=lp(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:n,parent:o}}function DO(i){let e=SO(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(S){const b=jA(S);return b instanceof Yn&&_A(b)?b.getFilters():[b]}(n.where));let f=[];n.orderBy&&(f=function(S){return S.map(b=>function(O){return new hu(ro(O.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(b))}(n.orderBy));let m=null;n.limit&&(m=function(S){let b;return b=typeof S=="object"?S.value:S,nf(b)?null:b}(n.limit));let p=null;n.startAt&&(p=function(S){const b=!!S.before,P=S.values||[];return new Lh(P,b)}(n.startAt));let g=null;return n.endAt&&(g=function(S){const b=!S.before,P=S.values||[];return new Lh(P,b)}(n.endAt)),YD(e,o,f,u,m,"F",p,g)}function OO(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jA(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ro(n.unaryFilter.field);return St.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ro(n.unaryFilter.field);return St.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ro(n.unaryFilter.field);return St.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ro(n.unaryFilter.field);return St.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(i):i.fieldFilter!==void 0?function(n){return St.create(ro(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Yn.create(n.compositeFilter.filters.map(s=>jA(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(n.compositeFilter.op))}(i):Te(30097,{filter:i})}function NO(i){return yO[i]}function xO(i){return vO[i]}function MO(i){return EO[i]}function io(i){return{fieldPath:i.canonicalString()}}function ro(i){return Ft.fromServerFormat(i.fieldPath)}function qA(i){return i instanceof St?function(n){if(n.op==="=="){if(F0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(H0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(F0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(H0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:xO(n.op),value:n.value}}}(i):i instanceof Yn?function(n){const s=n.getFilters().map(o=>qA(o));return s.length===1?s[0]:{compositeFilter:{op:MO(n.op),filters:s}}}(i):Te(54877,{filter:i})}function PO(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function HA(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,n,s,o,u=be.min(),f=be.min(),m=Gt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Fr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e){this.wt=e}}function VO(i){const e=DO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?op(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this.yn=new LO}addToCollectionParentIndex(e,n){return this.yn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Wr.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Wr.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class LO{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ot(nt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ot(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FA=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(FA,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new go(0)}static ir(){return new go(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="LruGarbageCollector",zO=1048576;function aE([i,e],[n,s]){const o=Ce(i,n);return o===0?Ce(e,s):o}class BO{constructor(e){this.cr=e,this.buffer=new Ot(aE),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();aE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class jO{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){ce(sE,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wo(n)?ce(sE,"Ignoring IndexedDB error during garbage collection: ",n):await bo(n)}await this.Ir(3e5)})}}class qO{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(tf.le);const s=new BO(n);return this.Er.forEachTarget(e,o=>s.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>s.Pr(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Er.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(rE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rE):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(e,s,n))).next(S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(g=Date.now(),to()<=Pe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function HO(i,e){return new qO(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(){this.changes=new sa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&tu(s.mutation,o,Sn.empty(),Dt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,ke()).next(()=>s))}getLocalViewOfDocuments(e,n,s=ke()){const o=Gs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Ql();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Gs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,ke()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=sr();const f=eu(),m=function(){return eu()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof as)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),tu(E.mutation,g,E.mutation.getFieldMask(),Dt.now())):f.set(g.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var S;return m.set(g,new GO(E,(S=f.get(g))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(e,n){const s=eu();let o=new lt((f,m)=>f-m),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Sn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const S=(o.get(m.batchId)||ke()).add(p);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,S=RA();E.forEach(b=>{if(!u.has(b)){const P=xA(n.get(b),s.get(b));P!==null&&S.set(b,P),u=u.add(b)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,S))}return ee.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):TA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(Gs());let m=ou,p=u;return f.next(g=>ee.forEach(g,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next(b=>{p=p.insert(E,b)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,ke())).next(E=>({batchId:m,changes:wA(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let o=Ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ql();return this.indexManager.getCollectionParents(e,u).next(m=>ee.forEach(m,p=>{const g=function(S,b){return new Ro(b,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((S,b)=>{f=f.insert(S,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Wt.newInvalidDocument(E)))});let m=Ql();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&tu(E.mutation,g,Sn.empty(),Dt.now()),af(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:yi(o.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(o){return{name:o.name,query:VO(o.bundledQuery),readTime:yi(o.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(){this.overlays=new lt(ge.comparator),this.Or=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Gs();return ee.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Or.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=Gs(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new lt((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Gs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Gs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return ee.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Or.get(o.largestBatchId).delete(s.key);this.Or.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new dO(n,s));let u=this.Or.get(n);u===void 0&&(u=ke(),this.Or.set(n,u)),this.Or.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(){this.Nr=new Ot(Ut.Br),this.Lr=new Ot(Ut.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const s=new Ut(e,n);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Qr(new Ut(e,n))}$r(e,n){e.forEach(s=>this.removeReference(s,n))}Ur(e){const n=new ge(new nt([])),s=new Ut(n,e),o=new Ut(n,e+1),u=[];return this.Lr.forEachInRange([s,o],f=>{this.Qr(f),u.push(f.key)}),u}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new ge(new nt([])),s=new Ut(n,e),o=new Ut(n,e+1);let u=ke();return this.Lr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Ut(e,0),s=this.Nr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ut{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return ge.comparator(e.key,n.key)||Ce(e.Gr,n.Gr)}static kr(e,n){return Ce(e.Gr,n.Gr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Ot(Ut.Br)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new fO(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.zr=this.zr.add(new Ut(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Hr(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?zp:this.Jn-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ut(n,0),o=new Ut(n,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([s,o],f=>{const m=this.jr(f.Gr);u.push(m)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ot(Ce);return n.forEach(o=>{const u=new Ut(o,0),f=new Ut(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,f],m=>{s=s.add(m.Gr)})}),ee.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new Ut(new ge(u),0);let m=new Ot(Ce);return this.zr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Gr)),!0)},f),ee.resolve(this.Jr(m))}Jr(e){const n=[];return e.forEach(s=>{const o=this.jr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ge(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return ee.forEach(n.mutations,o=>{const u=new Ut(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,n){const s=new Ut(n,0),o=this.zr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e){this.Zr=e,this.docs=function(){return new lt(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.Zr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=sr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))}),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=sr();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||RD(wD(E),s)<=0||(o.has(E.key)||af(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te(9500)}Xr(e,n){return ee.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new ZO(this)}getSize(e){return ee.resolve(this.size)}}class ZO extends FO{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.vr.addEntry(e,o)):this.vr.removeEntry(s)}),ee.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e){this.persistence=e,this.ei=new sa(n=>qp(n),Hp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.ti=0,this.ni=new Xp,this.targetCount=0,this.ri=go.rr()}forEachTarget(e,n){return this.ei.forEach((s,o)=>n(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ti&&(this.ti=n),ee.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new go(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.ar(n),ee.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ei.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ei.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.ei.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this.ni.qr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this.ni.$r(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ni.Wr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,n){this.ii={},this.overlays={},this.si=new tf(0),this.oi=!1,this.oi=!0,this._i=new $O,this.referenceDelegate=e(this),this.ai=new JO(this),this.indexManager=new UO,this.remoteDocumentCache=function(o){return new WO(o)}(s=>this.referenceDelegate.ui(s)),this.serializer=new kO(n),this.ci=new QO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new YO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ii[e.toKey()];return s||(s=new XO(n,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new eN(this.si.next());return this.referenceDelegate.li(),s(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(e,n){return ee.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,n)))}}class eN extends CD{constructor(e){super(),this.currentSequenceNumber=e}}class Wp{constructor(e){this.persistence=e,this.Ti=new Xp,this.Ii=null}static Ei(e){return new Wp(e)}get di(){if(this.Ii)return this.Ii;throw Te(60996)}addReference(e,n,s){return this.Ti.addReference(s,n),this.di.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ti.removeReference(s,n),this.di.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(o=>this.di.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.di,s=>{const o=ge.fromPath(s);return this.Ai(e,o).next(u=>{u||n.removeEntry(o,be.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return ee.or([()=>ee.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class jh{constructor(e,n){this.persistence=e,this.Ri=new sa(s=>ND(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=HO(this,n)}static Ei(e,n){return new jh(e,n)}li(){}hi(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}Vr(e){let n=0;return this.Ar(e,s=>{n++}).next(()=>n)}Ar(e,n){return ee.forEach(this.Ri,(s,o)=>this.gr(e,s,o).next(u=>u?ee.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(e,f=>this.gr(e,f,n).next(m=>{m||(s++,u.removeEntry(f,be.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.Ri.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.Ri.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),ee.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vh(e.data.value)),n}gr(e,n,s){return ee.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.Ri.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.ls=s,this.hs=o}static Ps(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Zp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return VR()?8:DD(Zt())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.Rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Vs(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new tN;return this.fs(e,n,f).next(m=>{if(u.result=m,this.Is)return this.gs(e,n,f,m.size)})}).next(()=>u.result)}gs(e,n,s,o){return s.documentReadCount<this.Es?(to()<=Pe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",no(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ee.resolve()):(to()<=Pe.DEBUG&&ce("QueryEngine","Query:",no(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(to()<=Pe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",no(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_i(n))):ee.resolve())}Rs(e,n){if(Y0(n))return ee.resolve(null);let s=_i(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=op(n,null,"F"),s=_i(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=ke(...u);return this.As.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.ps(n,m);return this.ys(n,g,f,p.readTime)?this.Rs(e,op(n,null,"F")):this.ws(e,g,n,p)}))})))}Vs(e,n,s,o){return Y0(n)||o.isEqual(be.min())?ee.resolve(null):this.As.getDocuments(e,s).next(u=>{const f=this.ps(n,u);return this.ys(n,f,s,o)?ee.resolve(null):(to()<=Pe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),no(n)),this.ws(e,f,n,bD(o,ou)).next(m=>m))})}ps(e,n){let s=new Ot(SA(e));return n.forEach((o,u)=>{af(e,u)&&(s=s.add(u))}),s}ys(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(e,n,s){return to()<=Pe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",no(n)),this.As.getDocumentsMatchingQuery(e,n,Wr.min(),s)}ws(e,n,s,o){return this.As.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="LocalStore",iN=3e8;class rN{constructor(e,n,s,o){this.persistence=e,this.bs=n,this.serializer=o,this.Ss=new lt(Ce),this.Ds=new sa(u=>qp(u),Hp),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KO(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function sN(i,e,n,s){return new rN(i,e,n,s)}async function KA(i,e){const n=we(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Fs(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=ke();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Ms:g,removedBatchIds:f,addedBatchIds:m}))})})}function aN(i,e){const n=we(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Cs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const S=g.batch,b=S.keys();let P=ee.resolve();return b.forEach(O=>{P=P.next(()=>E.getEntry(p,O)).next(F=>{const U=g.docVersions.get(O);Ge(U!==null,48541),F.version.compareTo(U)<0&&(S.applyToRemoteDocument(F,g),F.isValidDocument()&&(F.setReadTime(g.commitVersion),E.addEntry(F)))})}),P.next(()=>m.mutationQueue.removeMutationBatch(p,S))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=ke();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function QA(i){const e=we(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function oN(i,e){const n=we(i),s=e.snapshotVersion;let o=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Cs.newChangeBuffer({trackRemovals:!0});o=n.Ss;const m=[];e.targetChanges.forEach((E,S)=>{const b=o.get(S);if(!b)return;m.push(n.ai.removeMatchingKeys(u,E.removedDocuments,S).next(()=>n.ai.addMatchingKeys(u,E.addedDocuments,S)));let P=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?P=P.withResumeToken(Gt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(S,P),function(F,U,K){return F.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=iN?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(b,P,E)&&m.push(n.ai.updateTargetData(u,P))});let p=sr(),g=ke();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(lN(u,f,e.documentUpdates).next(E=>{p=E.xs,g=E.Os})),!s.isEqual(be.min())){const E=n.ai.getLastRemoteSnapshotVersion(u).next(S=>n.ai.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return ee.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ss=o,u))}function lN(i,e,n){let s=ke(),o=ke();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=sr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ce(Jp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{xs:f,Os:o}})}function uN(i,e){const n=we(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=zp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function cN(i,e){const n=we(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.ai.getTargetData(s,e).next(u=>u?(o=u,ee.resolve(o)):n.ai.allocateTargetId(s).next(f=>(o=new Fr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.ai.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ss.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(s.targetId,s),n.Ds.set(e,s.targetId)),s})}async function fp(i,e,n){const s=we(i),o=s.Ss.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!wo(f))throw f;ce(Jp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(o.target)}function oE(i,e,n){const s=we(i);let o=be.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const S=we(p),b=S.Ds.get(E);return b!==void 0?ee.resolve(S.Ss.get(b)):S.ai.getTargetData(g,E)}(s,f,_i(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.bs.getDocumentsMatchingQuery(f,e,n?o:be.min(),n?u:ke())).next(m=>(hN(s,XD(e),m),{documents:m,Ns:u})))}function hN(i,e,n){let s=i.vs.get(e)||be.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.vs.set(e,s)}class lE{constructor(){this.activeTargetIds=nO()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fN{constructor(){this.So=new lE,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,s){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new lE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="ConnectivityMonitor";class cE{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ce(uE,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){ce(uE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lh=null;function dp(){return lh===null?lh=function(){return 268435456+Math.round(2147483648*Math.random())}():lh++,"0x"+lh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="RestConnection",mN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pN{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${s}/databases/${o}`,this.qo=this.databaseId.database===Vh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Qo(e,n,s,o,u){const f=dp(),m=this.$o(e,n.toUriEncodedString());ce(Um,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(p,o,u),this.Ko(e,m,p,s).then(g=>(ce(Um,`Received RPC '${e}' ${f}: `,g),g),g=>{throw ho(Um,`RPC '${e}' ${f} failed with error: `,g,"url: ",m,"request:",s),g})}Wo(e,n,s,o,u,f){return this.Qo(e,n,s,o,u)}Uo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+So}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}$o(e,n){const s=mN[e];return`${this.Lo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class _N extends pN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,s,o){const u=dp();return new Promise((f,m)=>{const p=new XT;p.setWithCredentials(!0),p.listenOnce(WT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case yh.NO_ERROR:const E=p.getResponseJson();ce($t,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case yh.TIMEOUT:ce($t,`RPC '${e}' ${u} timed out`),m(new he(te.DEADLINE_EXCEEDED,"Request time out"));break;case yh.HTTP_ERROR:const S=p.getStatus();if(ce($t,`RPC '${e}' ${u} failed with status:`,S,"response text:",p.getResponseText()),S>0){let b=p.getResponseJson();Array.isArray(b)&&(b=b[0]);const P=b==null?void 0:b.error;if(P&&P.status&&P.message){const O=function(U){const K=U.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(K)>=0?K:te.UNKNOWN}(P.status);m(new he(O,P.message))}else m(new he(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new he(te.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{s_:e,streamId:u,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{ce($t,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);ce($t,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",g,s,15)})}a_(e,n,s){const o=dp(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=eA(),m=JT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ce($t,`Creating RPC '${e}' stream ${o}: ${E}`,p);const S=f.createWebChannel(E,p);let b=!1,P=!1;const O=new gN({Go:U=>{P?ce($t,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(b||(ce($t,`Opening RPC '${e}' stream ${o} transport.`),S.open(),b=!0),ce($t,`RPC '${e}' stream ${o} sending:`,U),S.send(U))},zo:()=>S.close()}),F=(U,K,ie)=>{U.listen(K,$=>{try{ie($)}catch(ae){setTimeout(()=>{throw ae},0)}})};return F(S,Kl.EventType.OPEN,()=>{P||(ce($t,`RPC '${e}' stream ${o} transport opened.`),O.t_())}),F(S,Kl.EventType.CLOSE,()=>{P||(P=!0,ce($t,`RPC '${e}' stream ${o} transport closed`),O.r_())}),F(S,Kl.EventType.ERROR,U=>{P||(P=!0,ho($t,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),O.r_(new he(te.UNAVAILABLE,"The operation could not be completed")))}),F(S,Kl.EventType.MESSAGE,U=>{var K;if(!P){const ie=U.data[0];Ge(!!ie,16349);const $=ie,ae=($==null?void 0:$.error)||((K=$[0])===null||K===void 0?void 0:K.error);if(ae){ce($t,`RPC '${e}' stream ${o} received error:`,ae);const ue=ae.status;let me=function(I){const M=At[I];if(M!==void 0)return PA(M)}(ue),x=ae.message;me===void 0&&(me=te.INTERNAL,x="Unknown error status: "+ue+" with message "+ae.message),P=!0,O.r_(new he(me,x)),S.close()}else ce($t,`RPC '${e}' stream ${o} received:`,ie),O.i_(ie)}}),F(m,ZT.STAT_EVENT,U=>{U.stat===ep.PROXY?ce($t,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===ep.NOPROXY&&ce($t,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.n_()},0),O}}function Lm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(i){return new TO(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,n,s=1e3,o=1.5,u=6e4){this.bi=e,this.timerId=n,this.u_=s,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="PersistentStream";class $A{constructor(e,n,s,o,u,f,m,p){this.bi=e,this.R_=s,this.V_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new YA(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(rr(n.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.m_===n&&this.B_(s,o)},s=>{e(()=>{const o=new he(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(o)})})}B_(e,n){const s=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{s(()=>this.L_(o))}),this.stream.onMessage(o=>{s(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return ce(hE,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(ce(hE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yN extends $A{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=bO(this.serializer,e),s=function(u){if(!("targetChange"in u))return be.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?yi(f.readTime):be.min()}(e);return this.listener.Q_(n,s)}U_(e){const n={};n.database=hp(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=sp(p)?{documents:IO(u,p)}:{query:CO(u,p).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=UA(u,f.resumeToken);const g=lp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(be.min())>0){m.readTime=Bh(u,f.snapshotVersion.toTimestamp());const g=lp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=OO(this.serializer,e);s&&(n.labels=s),this.F_(n)}K_(e){const n={};n.database=hp(this.serializer),n.removeTarget=e,this.F_(n)}}class vN extends $A{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=RO(e.writeResults,e.commitTime),s=yi(e.commitTime);return this.listener.j_(s,n)}H_(){const e={};e.database=hp(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>wO(this.serializer,s))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{}class TN extends EN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Qo(e,up(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(te.UNKNOWN,u.toString())})}Wo(e,n,s,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Wo(e,up(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new he(te.UNKNOWN,f.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class AN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(rr(n),this.ea=!1):ce("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="RemoteStore";class SN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(f=>{s.enqueueAndForget(async()=>{aa(this)&&(ce(ea,"Restarting streams for network reachability change."),await async function(p){const g=we(p);g.aa.add(4),await Iu(g),g.la.set("Unknown"),g.aa.delete(4),await hf(g)}(this))})}),this.la=new AN(s,o)}}async function hf(i){if(aa(i))for(const e of i.ua)await e(!0)}async function Iu(i){for(const e of i.ua)await e(!1)}function XA(i,e){const n=we(i);n._a.has(e.targetId)||(n._a.set(e.targetId,e),ig(n)?ng(n):Io(n).b_()&&tg(n,e))}function eg(i,e){const n=we(i),s=Io(n);n._a.delete(e),s.b_()&&WA(n,e),n._a.size===0&&(s.b_()?s.v_():aa(n)&&n.la.set("Unknown"))}function tg(i,e){if(i.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Io(i).U_(e)}function WA(i,e){i.ha.Ke(e),Io(i).K_(e)}function ng(i){i.ha=new _O({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i._a.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),Io(i).start(),i.la.ta()}function ig(i){return aa(i)&&!Io(i).w_()&&i._a.size>0}function aa(i){return we(i).aa.size===0}function ZA(i){i.ha=void 0}async function bN(i){i.la.set("Online")}async function wN(i){i._a.forEach((e,n)=>{tg(i,e)})}async function RN(i,e){ZA(i),ig(i)?(i.la.ia(e),ng(i)):i.la.set("Unknown")}async function IN(i,e,n){if(i.la.set("Online"),e instanceof VA&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o._a.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o._a.delete(m),o.ha.removeTarget(m))}(i,e)}catch(s){ce(ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await qh(i,s)}else if(e instanceof Ah?i.ha.Xe(e):e instanceof kA?i.ha.ot(e):i.ha.nt(e),!n.isEqual(be.min()))try{const s=await QA(i.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.ha.It(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u._a.get(g);E&&u._a.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u._a.get(p);if(!E)return;u._a.set(p,E.withResumeToken(Gt.EMPTY_BYTE_STRING,E.snapshotVersion)),WA(u,p);const S=new Fr(E.target,p,g,E.sequenceNumber);tg(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ce(ea,"Failed to raise snapshot:",s),await qh(i,s)}}async function qh(i,e,n){if(!wo(e))throw e;i.aa.add(1),await Iu(i),i.la.set("Offline"),n||(n=()=>QA(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ce(ea,"Retrying IndexedDB access"),await n(),i.aa.delete(1),await hf(i)})}function JA(i,e){return e().catch(n=>qh(i,n,e))}async function ff(i){const e=we(i),n=ts(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:zp;for(;CN(e);)try{const o=await uN(e.localStore,s);if(o===null){e.oa.length===0&&n.v_();break}s=o.batchId,DN(e,o)}catch(o){await qh(e,o)}eS(e)&&tS(e)}function CN(i){return aa(i)&&i.oa.length<10}function DN(i,e){i.oa.push(e);const n=ts(i);n.b_()&&n.W_&&n.G_(e.mutations)}function eS(i){return aa(i)&&!ts(i).w_()&&i.oa.length>0}function tS(i){ts(i).start()}async function ON(i){ts(i).H_()}async function NN(i){const e=ts(i);for(const n of i.oa)e.G_(n.mutations)}async function xN(i,e,n){const s=i.oa.shift(),o=Qp.from(s,e,n);await JA(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await ff(i)}async function MN(i,e){e&&ts(i).W_&&await async function(s,o){if(function(f){return pO(f)&&f!==te.ABORTED}(o.code)){const u=s.oa.shift();ts(s).D_(),await JA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await ff(s)}}(i,e),eS(i)&&tS(i)}async function fE(i,e){const n=we(i);n.asyncQueue.verifyOperationInProgress(),ce(ea,"RemoteStore received new credentials");const s=aa(n);n.aa.add(3),await Iu(n),s&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await hf(n)}async function PN(i,e){const n=we(i);e?(n.aa.delete(2),await hf(n)):e||(n.aa.add(2),await Iu(n),n.la.set("Unknown"))}function Io(i){return i.Pa||(i.Pa=function(n,s,o){const u=we(n);return u.Y_(),new yN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:bN.bind(null,i),Jo:wN.bind(null,i),Zo:RN.bind(null,i),Q_:IN.bind(null,i)}),i.ua.push(async e=>{e?(i.Pa.D_(),ig(i)?ng(i):i.la.set("Unknown")):(await i.Pa.stop(),ZA(i))})),i.Pa}function ts(i){return i.Ta||(i.Ta=function(n,s,o){const u=we(n);return u.Y_(),new vN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{jo:()=>Promise.resolve(),Jo:ON.bind(null,i),Zo:MN.bind(null,i),z_:NN.bind(null,i),j_:xN.bind(null,i)}),i.ua.push(async e=>{e?(i.Ta.D_(),await ff(i)):(await i.Ta.stop(),i.oa.length>0&&(ce(ea,`Stopping write stream with ${i.oa.length} pending writes`),i.oa=[]))})),i.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new rg(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sg(i,e){if(rr("AsyncQueue",`${e}: ${i}`),wo(i))return new he(te.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{static emptySet(e){return new co(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=Ql(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof co)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new co;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(){this.Ia=new lt(ge.comparator)}track(e){const n=e.doc.key,s=this.Ia.get(n);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(n):e.type===1&&s.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):Te(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,s)=>{e.push(s)}),e}}class _o{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new _o(e,n,co.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class VN{constructor(){this.queries=mE(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=mE(),u.forEach((f,m)=>{for(const p of m.Ra)p.onError(s)})})(this,new he(te.ABORTED,"Firestore shutting down"))}}function mE(){return new sa(i=>AA(i),sf)}async function UN(i,e){const n=we(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Va()&&e.ma()&&(s=2):(u=new kN,s=e.ma()?0:1);try{switch(s){case 0:u.Aa=await n.onListen(o,!0);break;case 1:u.Aa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=sg(f,`Initialization of query '${no(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Ra.push(e),e.ga(n.onlineState),u.Aa&&e.pa(u.Aa)&&ag(n)}async function LN(i,e){const n=we(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Ra.indexOf(e);f>=0&&(u.Ra.splice(f,1),u.Ra.length===0?o=e.ma()?0:1:!u.Va()&&e.ma()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function zN(i,e){const n=we(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Ra)m.pa(o)&&(s=!0);f.Aa=o}}s&&ag(n)}function BN(i,e,n){const s=we(i),o=s.queries.get(e);if(o)for(const u of o.Ra)u.onError(n);s.queries.delete(e)}function ag(i){i.fa.forEach(e=>{e.next()})}var mp,pE;(pE=mp||(mp={})).ya="default",pE.Cache="cache";class jN{constructor(e,n,s){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new _o(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const s=n!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==mp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e){this.key=e}}class iS{constructor(e){this.key=e}}class qN{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=ke(),this.mutatedKeys=ke(),this.Ua=SA(e),this.Ka=new co(this.Ua)}get Wa(){return this.qa}Ga(e,n){const s=n?n.za:new dE,o=n?n.Ka:this.Ka;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const b=o.get(E),P=af(this.query,S)?S:null,O=!!b&&this.mutatedKeys.has(b.key),F=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let U=!1;b&&P?b.data.isEqual(P.data)?O!==F&&(s.track({type:3,doc:P}),U=!0):this.ja(b,P)||(s.track({type:2,doc:P}),U=!0,(p&&this.Ua(P,p)>0||g&&this.Ua(P,g)<0)&&(m=!0)):!b&&P?(s.track({type:0,doc:P}),U=!0):b&&!P&&(s.track({type:1,doc:b}),U=!0,(p||g)&&(m=!0)),U&&(P?(f=f.add(P),u=F?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Ka:f,za:s,ys:m,mutatedKeys:u}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const f=e.za.da();f.sort((E,S)=>function(P,O){const F=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:U})}};return F(P)-F(O)}(E.type,S.type)||this.Ua(E.doc,S.doc)),this.Ha(s),o=o!=null&&o;const m=n&&!o?this.Ja():[],p=this.$a.size===0&&this.current&&!o?1:0,g=p!==this.Qa;return this.Qa=p,f.length!==0||g?{snapshot:new _o(this.query,e.Ka,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:m}:{Ya:m}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new dE,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=ke(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const n=[];return e.forEach(s=>{this.$a.has(s)||n.push(new iS(s))}),this.$a.forEach(s=>{e.has(s)||n.push(new nS(s))}),n}Xa(e){this.qa=e.Ns,this.$a=ke();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return _o.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const og="SyncEngine";class HN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class FN{constructor(e){this.key=e,this.tu=!1}}class GN{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.nu={},this.ru=new sa(m=>AA(m),sf),this.iu=new Map,this.su=new Set,this.ou=new lt(ge.comparator),this._u=new Map,this.au=new Xp,this.uu={},this.cu=new Map,this.lu=go.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function KN(i,e,n=!0){const s=uS(i);let o;const u=s.ru.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await rS(s,e,n,!0),o}async function QN(i,e){const n=uS(i);await rS(n,e,!0,!1)}async function rS(i,e,n,s){const o=await cN(i.localStore,_i(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await YN(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&XA(i.remoteStore,o),m}async function YN(i,e,n,s,o){i.Pu=(S,b,P)=>async function(F,U,K,ie){let $=U.view.Ga(K);$.ys&&($=await oE(F.localStore,U.query,!1).then(({documents:x})=>U.view.Ga(x,$)));const ae=ie&&ie.targetChanges.get(U.targetId),ue=ie&&ie.targetMismatches.get(U.targetId)!=null,me=U.view.applyChanges($,F.isPrimaryClient,ae,ue);return _E(F,U.targetId,me.Ya),me.snapshot}(i,S,b,P);const u=await oE(i.localStore,e,!0),f=new qN(e,u.Ns),m=f.Ga(u.documents),p=Ru.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);_E(i,n,g.Ya);const E=new HN(e,n,f);return i.ru.set(e,E),i.iu.has(n)?i.iu.get(n).push(e):i.iu.set(n,[e]),g.snapshot}async function $N(i,e,n){const s=we(i),o=s.ru.get(e),u=s.iu.get(o.targetId);if(u.length>1)return s.iu.set(o.targetId,u.filter(f=>!sf(f,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await fp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&eg(s.remoteStore,o.targetId),pp(s,o.targetId)}).catch(bo)):(pp(s,o.targetId),await fp(s.localStore,o.targetId,!0))}async function XN(i,e){const n=we(i),s=n.ru.get(e),o=n.iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),eg(n.remoteStore,s.targetId))}async function WN(i,e,n){const s=r4(i);try{const o=await function(f,m){const p=we(f),g=Dt.now(),E=m.reduce((P,O)=>P.add(O.key),ke());let S,b;return p.persistence.runTransaction("Locally write mutations","readwrite",P=>{let O=sr(),F=ke();return p.Cs.getEntries(P,E).next(U=>{O=U,O.forEach((K,ie)=>{ie.isValidDocument()||(F=F.add(K))})}).next(()=>p.localDocuments.getOverlayedDocuments(P,O)).next(U=>{S=U;const K=[];for(const ie of m){const $=cO(ie,S.get(ie.key).overlayedDocument);$!=null&&K.push(new as(ie.key,$,mA($.value.mapValue),Kn.exists(!0)))}return p.mutationQueue.addMutationBatch(P,g,K,m)}).next(U=>{b=U;const K=U.applyToLocalDocumentSet(S,F);return p.documentOverlayCache.saveOverlays(P,U.batchId,K)})}).then(()=>({batchId:b.batchId,changes:wA(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.uu[f.currentUser.toKey()];g||(g=new lt(Ce)),g=g.insert(m,p),f.uu[f.currentUser.toKey()]=g}(s,o.batchId,n),await Cu(s,o.changes),await ff(s.remoteStore)}catch(o){const u=sg(o,"Failed to persist write");n.reject(u)}}async function sS(i,e){const n=we(i);try{const s=await oN(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n._u.get(u);f&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.tu=!0:o.modifiedDocuments.size>0?Ge(f.tu,14607):o.removedDocuments.size>0&&(Ge(f.tu,42227),f.tu=!1))}),await Cu(n,s,e)}catch(s){await bo(s)}}function gE(i,e,n){const s=we(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ru.forEach((u,f)=>{const m=f.view.ga(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=we(f);p.onlineState=m;let g=!1;p.queries.forEach((E,S)=>{for(const b of S.Ra)b.ga(m)&&(g=!0)}),g&&ag(p)}(s.eventManager,e),o.length&&s.nu.Q_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function ZN(i,e,n){const s=we(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s._u.get(e),u=o&&o.key;if(u){let f=new lt(ge.comparator);f=f.insert(u,Wt.newNoDocument(u,be.min()));const m=ke().add(u),p=new uf(be.min(),new Map,new lt(Ce),f,m);await sS(s,p),s.ou=s.ou.remove(u),s._u.delete(e),lg(s)}else await fp(s.localStore,e,!1).then(()=>pp(s,e,n)).catch(bo)}async function JN(i,e){const n=we(i),s=e.batch.batchId;try{const o=await aN(n.localStore,e);oS(n,s,null),aS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Cu(n,o)}catch(o){await bo(o)}}async function e4(i,e,n){const s=we(i);try{const o=await function(f,m){const p=we(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(S=>(Ge(S!==null,37113),E=S.keys(),p.mutationQueue.removeMutationBatch(g,S))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);oS(s,e,n),aS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Cu(s,o)}catch(o){await bo(o)}}function aS(i,e){(i.cu.get(e)||[]).forEach(n=>{n.resolve()}),i.cu.delete(e)}function oS(i,e,n){const s=we(i);let o=s.uu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.uu[s.currentUser.toKey()]=o}}function pp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.iu.get(e))i.ru.delete(s),n&&i.nu.Tu(s,n);i.iu.delete(e),i.isPrimaryClient&&i.au.Ur(e).forEach(s=>{i.au.containsKey(s)||lS(i,s)})}function lS(i,e){i.su.delete(e.path.canonicalString());const n=i.ou.get(e);n!==null&&(eg(i.remoteStore,n),i.ou=i.ou.remove(e),i._u.delete(n),lg(i))}function _E(i,e,n){for(const s of n)s instanceof nS?(i.au.addReference(s.key,e),t4(i,s)):s instanceof iS?(ce(og,"Document no longer in limbo: "+s.key),i.au.removeReference(s.key,e),i.au.containsKey(s.key)||lS(i,s.key)):Te(19791,{Iu:s})}function t4(i,e){const n=e.key,s=n.path.canonicalString();i.ou.get(n)||i.su.has(s)||(ce(og,"New document in limbo: "+n),i.su.add(s),lg(i))}function lg(i){for(;i.su.size>0&&i.ou.size<i.maxConcurrentLimboResolutions;){const e=i.su.values().next().value;i.su.delete(e);const n=new ge(nt.fromString(e)),s=i.lu.next();i._u.set(s,new FN(n)),i.ou=i.ou.insert(n,s),XA(i.remoteStore,new Fr(_i(Fp(n.path)),s,"TargetPurposeLimboResolution",tf.le))}}async function Cu(i,e,n){const s=we(i),o=[],u=[],f=[];s.ru.isEmpty()||(s.ru.forEach((m,p)=>{f.push(s.Pu(p,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const S=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(g){o.push(g);const S=Zp.Ps(p.targetId,g);u.push(S)}}))}),await Promise.all(f),s.nu.Q_(o),await async function(p,g){const E=we(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ee.forEach(g,b=>ee.forEach(b.ls,P=>E.persistence.referenceDelegate.addReference(S,b.targetId,P)).next(()=>ee.forEach(b.hs,P=>E.persistence.referenceDelegate.removeReference(S,b.targetId,P)))))}catch(S){if(!wo(S))throw S;ce(Jp,"Failed to update sequence numbers: "+S)}for(const S of g){const b=S.targetId;if(!S.fromCache){const P=E.Ss.get(b),O=P.snapshotVersion,F=P.withLastLimboFreeSnapshotVersion(O);E.Ss=E.Ss.insert(b,F)}}}(s.localStore,u))}async function n4(i,e){const n=we(i);if(!n.currentUser.isEqual(e)){ce(og,"User change. New user:",e.toKey());const s=await KA(n.localStore,e);n.currentUser=e,function(u,f){u.cu.forEach(m=>{m.forEach(p=>{p.reject(new he(te.CANCELLED,f))})}),u.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Cu(n,s.Ms)}}function i4(i,e){const n=we(i),s=n._u.get(e);if(s&&s.tu)return ke().add(s.key);{let o=ke();const u=n.iu.get(e);if(!u)return o;for(const f of u){const m=n.ru.get(f);o=o.unionWith(m.view.Wa)}return o}}function uS(i){const e=we(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=sS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=i4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZN.bind(null,e),e.nu.Q_=zN.bind(null,e.eventManager),e.nu.Tu=BN.bind(null,e.eventManager),e}function r4(i){const e=we(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=e4.bind(null,e),e}class Hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cf(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return sN(this.persistence,new nN,e.initialUser,this.serializer)}Ru(e){return new GA(Wp.Ei,this.serializer)}Au(e){return new fN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hh.provider={build:()=>new Hh};class s4 extends Hh{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){Ge(this.persistence.referenceDelegate instanceof jh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new jO(s,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new GA(s=>jh.Ei(s,n),this.serializer)}}class gp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>gE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=n4.bind(null,this.syncEngine),await PN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new VN}()}createDatastore(e){const n=cf(e.databaseInfo.databaseId),s=function(u){return new _N(u)}(e.databaseInfo);return function(u,f,m,p){return new TN(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new SN(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>gE(this.syncEngine,n,0),function(){return cE.C()?new cE:new dN}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,E){const S=new GN(o,u,f,m,p,g);return E&&(S.hu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=we(o);ce(ea,"RemoteStore shutting down."),u.aa.add(5),await Iu(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}gp.provider={build:()=>new gp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):rr("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="FirestoreClient";class o4{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Xt.UNAUTHENTICATED,this.clientId=rA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ce(ns,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ce(ns,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=sg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function zm(i,e){i.asyncQueue.verifyOperationInProgress(),ce(ns,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await KA(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function yE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await l4(i);ce(ns,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>fE(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>fE(e.remoteStore,o)),i._onlineComponents=e}async function l4(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(ns,"Using user provided OfflineComponentProvider");try{await zm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;ho("Error using user provided cache. Falling back to memory cache: "+n),await zm(i,new Hh)}}else ce(ns,"Using default OfflineComponentProvider"),await zm(i,new s4(void 0));return i._offlineComponents}async function cS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(ns,"Using user provided OnlineComponentProvider"),await yE(i,i._uninitializedComponentsProvider._online)):(ce(ns,"Using default OnlineComponentProvider"),await yE(i,new gp))),i._onlineComponents}function u4(i){return cS(i).then(e=>e.syncEngine)}async function vE(i){const e=await cS(i),n=e.eventManager;return n.onListen=KN.bind(null,e.syncEngine),n.onUnlisten=$N.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=QN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=XN.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(i,e,n){if(!n)throw new he(te.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function c4(i,e,n,s){if(e===!0&&s===!0)throw new he(te.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function TE(i){if(!ge.isDocumentKey(i))throw new he(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function AE(i){if(ge.isDocumentKey(i))throw new he(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function df(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te(12329,{type:typeof i})}function Yr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=df(i);throw new he(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="firestore.googleapis.com",SE=!0;class bE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new he(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dS,this.ssl=SE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:SE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=FA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zO)throw new he(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}c4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hS((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new pD;switch(s.type){case"firstParty":return new vD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=EE.get(n);s&&(ce("ComponentProvider","Removing Datastore"),EE.delete(n),s.terminate())}(this),Promise.resolve()}}function h4(i,e,n,s={}){var o;const u=(i=Yr(i,mf))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==dS&&u.host!==m&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!$s(p,f)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Xt.MOCK_USER;else{g=uT(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new he(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Xt(S)}i._authCredentials=new gD(new nA(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new oa(this.firestore,e,this._query)}}class fn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class $r extends oa{constructor(e,n,s){super(e,n,Fp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new ge(e))}withConverter(e){return new $r(this.firestore,e,this._path)}}function jr(i,e,...n){if(i=dt(i),fS("collection","path",e),i instanceof mf){const s=nt.fromString(e,...n);return AE(s),new $r(i,null,s)}{if(!(i instanceof fn||i instanceof $r))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(nt.fromString(e,...n));return AE(s),new $r(i.firestore,null,s)}}function qr(i,e,...n){if(i=dt(i),arguments.length===1&&(e=rA.newId()),fS("doc","path",e),i instanceof mf){const s=nt.fromString(e,...n);return TE(s),new fn(i,null,new ge(s))}{if(!(i instanceof fn||i instanceof $r))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(nt.fromString(e,...n));return TE(s),new fn(i.firestore,i instanceof $r?i.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="AsyncQueue";class RE{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new YA(this,"async_queue_retry"),this.ju=()=>{const s=Lm();s&&ce(wE,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const n=Lm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=Lm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Qs;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!wo(e))throw e;ce(wE,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,rr("INTERNAL UNHANDLED ERROR: ",IE(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=n,n}enqueueAfterDelay(e,n,s){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const o=rg.createAndSchedule(this,e,n,s,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&Te(47125,{ec:IE(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function IE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(i){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class yo extends mf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new RE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new RE(e),this._firestoreClient=void 0,await e}}}function f4(i,e){const n=typeof i=="object"?i:Cp(),s=typeof i=="string"?i:Vh,o=Xh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=aT("firestore");u&&h4(o,...u)}return o}function mS(i){if(i._terminated)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||d4(i),i._firestoreClient}function d4(i){var e,n,s;const o=i._freezeSettings(),u=function(m,p,g,E){return new PD(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,hS(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new o4(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vo(Gt.fromBase64String(e))}catch(n){throw new he(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vo(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=/^__.*__$/;class p4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new as(e,this.data,this.fieldMask,n,this.fieldTransforms):new wu(e,this.data,n,this.fieldTransforms)}}class pS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new as(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function gS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{oc:i})}}class hg{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new hg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ac({path:s,cc:!1});return o.lc(e),o}hc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ac({path:s,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Fh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(gS(this.oc)&&m4.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class g4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||cf(e)}dc(e,n,s,o=!1){return new hg({oc:e,methodName:n,Ec:s,path:Ft.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fg(i){const e=i._freezeSettings(),n=cf(i._databaseId);return new g4(i._databaseId,!!e.ignoreUndefinedProperties,n)}function _4(i,e,n,s,o,u={}){const f=i.dc(u.merge||u.mergeFields?2:0,e,n,o);mg("Data must be an object, but it was:",f,s);const m=_S(s,f);let p,g;if(u.merge)p=new Sn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const b=_p(e,S,n);if(!f.contains(b))throw new he(te.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);vS(E,b)||E.push(b)}p=new Sn(E),g=f.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,g=f.fieldTransforms;return new p4(new hn(m),p,g)}class _f extends gf{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _f}}class dg extends gf{_toFieldTransform(e){return new aO(e.path,new fu)}isEqual(e){return e instanceof dg}}function y4(i,e,n,s){const o=i.dc(1,e,n);mg("Data must be an object, but it was:",o,s);const u=[],f=hn.empty();ss(s,(p,g)=>{const E=pg(e,p,n);g=dt(g);const S=o.hc(E);if(g instanceof _f)u.push(E);else{const b=Du(g,S);b!=null&&(u.push(E),f.set(E,b))}});const m=new Sn(u);return new pS(f,m,o.fieldTransforms)}function v4(i,e,n,s,o,u){const f=i.dc(1,e,n),m=[_p(e,s,n)],p=[o];if(u.length%2!=0)throw new he(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(_p(e,u[b])),p.push(u[b+1]);const g=[],E=hn.empty();for(let b=m.length-1;b>=0;--b)if(!vS(g,m[b])){const P=m[b];let O=p[b];O=dt(O);const F=f.hc(P);if(O instanceof _f)g.push(P);else{const U=Du(O,F);U!=null&&(g.push(P),E.set(P,U))}}const S=new Sn(g);return new pS(E,S,f.fieldTransforms)}function E4(i,e,n,s=!1){return Du(n,i.dc(s?4:3,e))}function Du(i,e){if(yS(i=dt(i)))return mg("Unsupported field value:",e,i),_S(i,e);if(i instanceof gf)return function(s,o){if(!gS(o.oc))throw o.Tc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Du(m,o.Pc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=dt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return iO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Dt.fromDate(s);return{timestampValue:Bh(o.serializer,u)}}if(s instanceof Dt){const u=new Dt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Bh(o.serializer,u)}}if(s instanceof ug)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof vo)return{bytesValue:UA(o.serializer,s._byteString)};if(s instanceof fn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Tc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:$p(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof cg)return function(f,m){return{mapValue:{fields:{[fA]:{stringValue:dA},[Uh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Tc("VectorValues must only contain numeric values.");return Gp(m.serializer,g)})}}}}}}(s,o);throw o.Tc(`Unsupported field value: ${df(s)}`)}(i,e)}function _S(i,e){const n={};return aA(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ss(i,(s,o)=>{const u=Du(o,e.uc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function yS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Dt||i instanceof ug||i instanceof vo||i instanceof fn||i instanceof gf||i instanceof cg)}function mg(i,e,n){if(!yS(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=df(n);throw s==="an object"?e.Tc(i+" a custom object"):e.Tc(i+" "+s)}}function _p(i,e,n){if((e=dt(e))instanceof pf)return e._internalPath;if(typeof e=="string")return pg(i,e);throw Fh("Field path arguments must be of type string or ",i,!1,void 0,n)}const T4=new RegExp("[~\\*/\\[\\]]");function pg(i,e,n){if(e.search(T4)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new pf(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Fh(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new he(te.INVALID_ARGUMENT,m+i+p)}function vS(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new A4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class A4 extends ES{data(){return super.data()}}function yf(i,e){return typeof e=="string"?pg(i,e):e instanceof pf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gg{}class TS extends gg{}function jl(i,e,...n){let s=[];e instanceof gg&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof _g).length,m=u.filter(p=>p instanceof vf).length;if(f>1||f>0&&m>0)throw new he(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class vf extends TS{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new vf(e,n,s)}_apply(e){const n=this._parse(e);return AS(e._query,n),new oa(e.firestore,e.converter,ap(e._query,n))}_parse(e){const n=fg(e.firestore);return function(u,f,m,p,g,E,S){let b;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new he(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){OE(S,E);const O=[];for(const F of S)O.push(DE(p,u,F));b={arrayValue:{values:O}}}else b=DE(p,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||OE(S,E),b=E4(m,f,S,E==="in"||E==="not-in");return St.create(g,E,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function $i(i,e,n){const s=e,o=yf("where",i);return vf._create(o,s,n)}class _g extends gg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new _g(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Yn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)AS(f,p),f=ap(f,p)}(e._query,n),new oa(e.firestore,e.converter,ap(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class yg extends TS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new yg(e,n)}_apply(e){const n=function(o,u,f){if(o.startAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hu(u,f)}(e._query,this._field,this._direction);return new oa(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new Ro(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function ql(i,e="asc"){const n=e,s=yf("orderBy",i);return yg._create(s,n)}function DE(i,e,n){if(typeof(n=dt(n))=="string"){if(n==="")throw new he(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TA(e)&&n.indexOf("/")!==-1)throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(nt.fromString(n));if(!ge.isDocumentKey(s))throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return q0(i,new ge(s))}if(n instanceof fn)return q0(i,n._key);throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${df(n)}.`)}function OE(i,e){if(!Array.isArray(i)||i.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AS(i,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class b4{convertValue(e,n="none"){switch(es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ss(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Uh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>_t(f.doubleValue));return new cg(u)}convertGeoPoint(e){return new ug(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=rf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(lu(e));default:return null}}convertTimestamp(e){const n=Zr(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=nt.fromString(e);Ge(HA(s),9688,{name:e});const o=new uu(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||rr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class SS extends ES{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(yf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Sh extends SS{data(e={}){return super.data(e)}}class R4{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new $l(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Sh(this._firestore,this._userDataWriter,s.key,s,new $l(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new Sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new $l(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new $l(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:I4(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function I4(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:i})}}class bS extends b4{constructor(e){super(),this.firestore=e}convertBytes(e){return new vo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,n)}}function Xl(i,e,n,...s){i=Yr(i,fn);const o=Yr(i.firestore,yo),u=fg(o);let f;return f=typeof(e=dt(e))=="string"||e instanceof pf?v4(u,"updateDoc",i._key,e,n,s):y4(u,"updateDoc",i._key,e),vg(o,[f.toMutation(i._key,Kn.exists(!0))])}function wS(i){return vg(Yr(i.firestore,yo),[new Kp(i._key,Kn.none())])}function RS(i,e){const n=Yr(i.firestore,yo),s=qr(i),o=w4(i.converter,e);return vg(n,[_4(fg(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Kn.exists(!1))]).then(()=>s)}function IS(i,...e){var n,s,o;i=dt(i);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||CE(e[f])||(u=e[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(CE(e[f])){const S=e[f];e[f]=(n=S.next)===null||n===void 0?void 0:n.bind(S),e[f+1]=(s=S.error)===null||s===void 0?void 0:s.bind(S),e[f+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let p,g,E;if(i instanceof fn)g=Yr(i.firestore,yo),E=Fp(i._key.path),p={next:S=>{e[f]&&e[f](C4(g,i,S))},error:e[f+1],complete:e[f+2]};else{const S=Yr(i,oa);g=Yr(S.firestore,yo),E=S._query;const b=new bS(g);p={next:P=>{e[f]&&e[f](new R4(g,b,S,P))},error:e[f+1],complete:e[f+2]},S4(i._query)}return function(b,P,O,F){const U=new a4(F),K=new jN(P,U,O);return b.asyncQueue.enqueueAndForget(async()=>UN(await vE(b),K)),()=>{U.yu(),b.asyncQueue.enqueueAndForget(async()=>LN(await vE(b),K))}}(mS(g),E,m,p)}function vg(i,e){return function(s,o){const u=new Qs;return s.asyncQueue.enqueueAndForget(async()=>WN(await u4(s),o,u)),u.promise}(mS(i),e)}function C4(i,e,n){const s=n.docs.get(e._key),o=new bS(i);return new SS(i,o,e._key,s,new $l(n.hasPendingWrites,n.fromCache),e.converter)}function CS(){return new dg("serverTimestamp")}(function(e,n=!0){(function(o){So=o})(ia),Xs(new Xr("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new yo(new _D(s.getProvider("auth-internal")),new ED(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),mi(O0,N0,e),mi(O0,N0,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="firebasestorage.googleapis.com",OS="storageBucket",D4=2*60*1e3,O4=10*60*1e3,N4=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut extends Ai{constructor(e,n,s=0){super(Bm(e),`Firebase Storage: ${n} (${Bm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ut.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Bm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var it;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(it||(it={}));function Bm(i){return"storage/"+i}function Eg(){const i="An unknown error occurred, please check the error payload for server response.";return new ut(it.UNKNOWN,i)}function x4(i){return new ut(it.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function M4(i){return new ut(it.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function P4(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ut(it.UNAUTHENTICATED,i)}function k4(){return new ut(it.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function V4(i){return new ut(it.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function NS(){return new ut(it.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xS(){return new ut(it.CANCELED,"User canceled the upload/download.")}function U4(i){return new ut(it.INVALID_URL,"Invalid URL '"+i+"'.")}function L4(i){return new ut(it.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function z4(){return new ut(it.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+OS+"' property when initializing the app?")}function MS(){return new ut(it.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function B4(){return new ut(it.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function j4(){return new ut(it.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function q4(i){return new ut(it.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function yp(i){return new ut(it.INVALID_ARGUMENT,i)}function PS(){return new ut(it.APP_DELETED,"The Firebase app was deleted.")}function H4(i){return new ut(it.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function nu(i,e){return new ut(it.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Hl(i){throw new ut(it.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=bn.makeFromUrl(e,n)}catch{return new bn(e,"")}if(s.path==="")return s;throw L4(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ae){ae.path.charAt(ae.path.length-1)==="/"&&(ae.path_=ae.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),p={bucket:1,path:3};function g(ae){ae.path_=decodeURIComponent(ae.path)}const E="v[A-Za-z0-9_]+",S=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",P=new RegExp(`^https?://${S}/${E}/b/${o}/o${b}`,"i"),O={bucket:1,path:3},F=n===DS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,U="([^?#]*)",K=new RegExp(`^https?://${F}/${o}/${U}`,"i"),$=[{regex:m,indices:p,postModify:u},{regex:P,indices:O,postModify:g},{regex:K,indices:{bucket:1,path:2},postModify:g}];for(let ae=0;ae<$.length;ae++){const ue=$[ae],me=ue.regex.exec(e);if(me){const x=me[ue.indices.bucket];let w=me[ue.indices.path];w||(w=""),s=new bn(x,w),ue.postModify(s);break}}if(s==null)throw U4(e);return s}}class F4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(i,e,n){let s=1,o=null,u=null,f=!1,m=0;function p(){return m===2}let g=!1;function E(...U){g||(g=!0,e.apply(null,U))}function S(U){o=setTimeout(()=>{o=null,i(P,p())},U)}function b(){u&&clearTimeout(u)}function P(U,...K){if(g){b();return}if(U){b(),E.call(null,U,...K);return}if(p()||f){b(),E.call(null,U,...K);return}s<64&&(s*=2);let $;m===1?(m=2,$=0):$=(s+Math.random())*1e3,S($)}let O=!1;function F(U){O||(O=!0,b(),!g&&(o!==null?(U||(m=2),clearTimeout(o),S(0)):U||(m=1)))}return S(0),u=setTimeout(()=>{f=!0,F(!0)},n),F}function K4(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(i){return i!==void 0}function Y4(i){return typeof i=="function"}function $4(i){return typeof i=="object"&&!Array.isArray(i)}function Ef(i){return typeof i=="string"||i instanceof String}function NE(i){return Tg()&&i instanceof Blob}function Tg(){return typeof Blob<"u"}function xE(i,e,n,s){if(s<e)throw yp(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw yp(`Invalid value for '${i}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(i,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${i}`}function kS(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Ys;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Ys||(Ys={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e,n,s,o,u,f,m,p,g,E,S,b=!0){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=S,this.retry=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,O)=>{this.resolve_=P,this.reject_=O,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new uh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===Ys.NO_ERROR,p=u.getStatus();if(!m||VS(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===Ys.ABORT;s(!1,new uh(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new uh(g,u))})},n=(s,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());Q4(p)?u(p):u()}catch(p){f(p)}else if(m!==null){const p=Eg();p.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,p)):f(p)}else if(o.canceled){const p=this.appDelete_?PS():xS();f(p)}else{const p=NS();f(p)}};this.canceled_?n(!1,new uh(!1,null,!0)):this.backoffId_=G4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&K4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class uh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function W4(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function Z4(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function J4(i,e){e&&(i["X-Firebase-GMPID"]=e)}function ex(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function tx(i,e,n,s,o,u,f=!0){const m=kS(i.urlParams),p=i.url+m,g=Object.assign({},i.headers);return J4(g,e),W4(g,n),Z4(g,u),ex(g,s),new X4(p,i.method,g,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function ix(...i){const e=nx();if(e!==void 0){const n=new e;for(let s=0;s<i.length;s++)n.append(i[s]);return n.getBlob()}else{if(Tg())return new Blob(i);throw new ut(it.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function rx(i,e,n){return i.webkitSlice?i.webkitSlice(e,n):i.mozSlice?i.mozSlice(e,n):i.slice?i.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(i){if(typeof atob>"u")throw q4("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class jm{constructor(e,n){this.data=e,this.contentType=n||null}}function ax(i,e){switch(i){case di.RAW:return new jm(US(e));case di.BASE64:case di.BASE64URL:return new jm(LS(i,e));case di.DATA_URL:return new jm(lx(e),ux(e))}throw Eg()}function US(i){const e=[];for(let n=0;n<i.length;n++){let s=i.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,f=i.charCodeAt(++n);s=65536|(u&1023)<<10|f&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function ox(i){let e;try{e=decodeURIComponent(i)}catch{throw nu(di.DATA_URL,"Malformed data URL.")}return US(e)}function LS(i,e){switch(i){case di.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw nu(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case di.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw nu(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=sx(e)}catch(o){throw o.message.includes("polyfill")?o:nu(i,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class zS{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw nu(di.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=cx(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function lx(i){const e=new zS(i);return e.base64?LS(di.BASE64,e.rest):ox(e.rest)}function ux(i){return new zS(i).contentType}function cx(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n){let s=0,o="";NE(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(NE(this.data_)){const s=this.data_,o=rx(s,e,n);return o===null?null:new Hr(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new Hr(s,!0)}}static getBlob(...e){if(Tg()){const n=e.map(s=>s instanceof Hr?s.data_:s);return new Hr(ix.apply(null,n))}else{const n=e.map(f=>Ef(f)?ax(di.RAW,f).data:f.data_);let s=0;n.forEach(f=>{s+=f.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(f=>{for(let m=0;m<f.length;m++)o[u++]=f[m]}),new Hr(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(i){let e;try{e=JSON.parse(i)}catch{return null}return $4(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function fx(i,e){const n=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?n:i+"/"+n}function jS(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(i,e){return e}class rn{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||dx}}let ch=null;function mx(i){return!Ef(i)||i.length<2?i:jS(i)}function qS(){if(ch)return ch;const i=[];i.push(new rn("bucket")),i.push(new rn("generation")),i.push(new rn("metageneration")),i.push(new rn("name","fullPath",!0));function e(u,f){return mx(f)}const n=new rn("name");n.xform=e,i.push(n);function s(u,f){return f!==void 0?Number(f):f}const o=new rn("size");return o.xform=s,i.push(o),i.push(new rn("timeCreated")),i.push(new rn("updated")),i.push(new rn("md5Hash",null,!0)),i.push(new rn("cacheControl",null,!0)),i.push(new rn("contentDisposition",null,!0)),i.push(new rn("contentEncoding",null,!0)),i.push(new rn("contentLanguage",null,!0)),i.push(new rn("contentType",null,!0)),i.push(new rn("metadata","customMetadata",!0)),ch=i,ch}function px(i,e){function n(){const s=i.bucket,o=i.fullPath,u=new bn(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:n})}function gx(i,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const f=n[u];s[f.local]=f.xform(s,e[f.server])}return px(s,i),s}function HS(i,e,n){const s=BS(e);return s===null?null:gx(i,s,n)}function _x(i,e,n,s){const o=BS(e);if(o===null||!Ef(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const f=encodeURIComponent;return u.split(",").map(g=>{const E=i.bucket,S=i.fullPath,b="/b/"+f(E)+"/o/"+f(S),P=Ou(b,n,s),O=kS({alt:"media",token:g});return P+O})[0]}function FS(i,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=i[u.local])}return JSON.stringify(n)}class Co{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(i){if(!i)throw Eg()}function Ag(i,e){function n(s,o){const u=HS(i,o,e);return er(u!==null),u}return n}function yx(i,e){function n(s,o){const u=HS(i,o,e);return er(u!==null),_x(u,o,i.host,i._protocol)}return n}function Nu(i){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=k4():o=P4():n.getStatus()===402?o=M4(i.bucket):n.getStatus()===403?o=V4(i.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function GS(i){const e=Nu(i);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=x4(i.path)),u.serverResponse=o.serverResponse,u}return n}function vx(i,e,n){const s=e.fullServerUrl(),o=Ou(s,i.host,i._protocol),u="GET",f=i.maxOperationRetryTime,m=new Co(o,u,Ag(i,n),f);return m.errorHandler=GS(e),m}function Ex(i,e,n){const s=e.fullServerUrl(),o=Ou(s,i.host,i._protocol),u="GET",f=i.maxOperationRetryTime,m=new Co(o,u,yx(i,n),f);return m.errorHandler=GS(e),m}function Tx(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function KS(i,e,n){const s=Object.assign({},n);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=Tx(null,e)),s}function Ax(i,e,n,s,o){const u=e.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function m(){let $="";for(let ae=0;ae<2;ae++)$=$+Math.random().toString().slice(2);return $}const p=m();f["Content-Type"]="multipart/related; boundary="+p;const g=KS(e,s,o),E=FS(g,n),S="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,b=`\r
--`+p+"--",P=Hr.getBlob(S,s,b);if(P===null)throw MS();const O={name:g.fullPath},F=Ou(u,i.host,i._protocol),U="POST",K=i.maxUploadRetryTime,ie=new Co(F,U,Ag(i,n),K);return ie.urlParams=O,ie.headers=f,ie.body=P.uploadData(),ie.errorHandler=Nu(e),ie}class Gh{constructor(e,n,s,o){this.current=e,this.total=n,this.finalized=!!s,this.metadata=o||null}}function Sg(i,e){let n=null;try{n=i.getResponseHeader("X-Goog-Upload-Status")}catch{er(!1)}return er(!!n&&(e||["active"]).indexOf(n)!==-1),n}function Sx(i,e,n,s,o){const u=e.bucketOnlyServerUrl(),f=KS(e,s,o),m={name:f.fullPath},p=Ou(u,i.host,i._protocol),g="POST",E={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":f.contentType,"Content-Type":"application/json; charset=utf-8"},S=FS(f,n),b=i.maxUploadRetryTime;function P(F){Sg(F);let U;try{U=F.getResponseHeader("X-Goog-Upload-URL")}catch{er(!1)}return er(Ef(U)),U}const O=new Co(p,g,P,b);return O.urlParams=m,O.headers=E,O.body=S,O.errorHandler=Nu(e),O}function bx(i,e,n,s){const o={"X-Goog-Upload-Command":"query"};function u(g){const E=Sg(g,["active","final"]);let S=null;try{S=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{er(!1)}S||er(!1);const b=Number(S);return er(!isNaN(b)),new Gh(b,s.size(),E==="final")}const f="POST",m=i.maxUploadRetryTime,p=new Co(n,f,u,m);return p.headers=o,p.errorHandler=Nu(e),p}const ME=256*1024;function wx(i,e,n,s,o,u,f,m){const p=new Gh(0,0);if(f?(p.current=f.current,p.total=f.total):(p.current=0,p.total=s.size()),s.size()!==p.total)throw B4();const g=p.total-p.current;let E=g;o>0&&(E=Math.min(E,o));const S=p.current,b=S+E;let P="";E===0?P="finalize":g===E?P="upload, finalize":P="upload";const O={"X-Goog-Upload-Command":P,"X-Goog-Upload-Offset":`${p.current}`},F=s.slice(S,b);if(F===null)throw MS();function U(ae,ue){const me=Sg(ae,["active","final"]),x=p.current+E,w=s.size();let I;return me==="final"?I=Ag(e,u)(ae,ue):I=null,new Gh(x,w,me==="final",I)}const K="POST",ie=e.maxUploadRetryTime,$=new Co(n,K,U,ie);return $.headers=O,$.body=F.uploadData(),$.progressCallback=m||null,$.errorHandler=Nu(i),$}const cn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function qm(i){switch(i){case"running":case"pausing":case"canceling":return cn.RUNNING;case"paused":return cn.PAUSED;case"success":return cn.SUCCESS;case"canceled":return cn.CANCELED;case"error":return cn.ERROR;default:return cn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,n,s){if(Y4(e)||n!=null||s!=null)this.next=e,this.error=n??void 0,this.complete=s??void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(i){return(...e)=>{Promise.resolve().then(()=>i(...e))}}class Ix{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ys.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ys.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ys.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o){if(this.sent_)throw Hl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Hl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Hl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Hl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Hl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Cx extends Ix{initXhr(){this.xhr_.responseType="text"}}function so(){return new Cx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=s,this._mappings=qS(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(it.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const u=this.isExponentialBackoffExpired();if(VS(o.status,[]))if(u)o=NS();else{this.sleepTime=Math.max(this.sleepTime*2,N4),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(it.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,u)=>{this._resolve=o,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,s])=>{switch(this._state){case"running":e(n,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const s=Sx(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,so,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,s)=>{const o=bx(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(o,so,n,s);this._request=u,u.getPromise().then(f=>{f=f,this._request=void 0,this._updateProgress(f.current),this._needToFetchStatus=!1,f.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=ME*this._chunkMultiplier,n=new Gh(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((o,u)=>{let f;try{f=wx(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const m=this._ref.storage._makeRequest(f,so,o,u,!1);this._request=m,m.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){ME*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const s=vx(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(s,so,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const s=Ax(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,so,e,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=xS(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=qm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,s,o){const u=new Rx(n||void 0,s||void 0,o||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(qm(this._state)){case cn.SUCCESS:eo(this._resolve.bind(null,this.snapshot))();break;case cn.CANCELED:case cn.ERROR:const n=this._reject;eo(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(qm(this._state)){case cn.RUNNING:case cn.PAUSED:e.next&&eo(e.next.bind(e,this.snapshot))();break;case cn.SUCCESS:e.complete&&eo(e.complete.bind(e))();break;case cn.CANCELED:case cn.ERROR:e.error&&eo(e.error.bind(e,this._error))();break;default:e.error&&eo(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n){this._service=e,n instanceof bn?this._location=n:this._location=bn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ta(e,n)}get root(){const e=new bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return jS(this._location.path)}get storage(){return this._service}get parent(){const e=hx(this._location.path);if(e===null)return null;const n=new bn(this._location.bucket,e);return new ta(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw H4(e)}}function Ox(i,e,n){return i._throwIfRoot("uploadBytesResumable"),new Dx(i,new Hr(e),n)}function Nx(i){i._throwIfRoot("getDownloadURL");const e=Ex(i.storage,i._location,qS());return i.storage.makeRequestWithTokens(e,so).then(n=>{if(n===null)throw j4();return n})}function xx(i,e){const n=fx(i._location.path,e),s=new bn(i._location.bucket,n);return new ta(i.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(i){return/^[A-Za-z]+:\/\//.test(i)}function Px(i,e){return new ta(i,e)}function QS(i,e){if(i instanceof bg){const n=i;if(n._bucket==null)throw z4();const s=new ta(n,n._bucket);return e!=null?QS(s,e):s}else return e!==void 0?xx(i,e):i}function kx(i,e){if(e&&Mx(e)){if(i instanceof bg)return Px(i,e);throw yp("To use ref(service, url), the first argument must be a Storage instance.")}else return QS(i,e)}function PE(i,e){const n=e==null?void 0:e[OS];return n==null?null:bn.makeFromBucketSpec(n,i)}function Vx(i,e,n,s={}){i.host=`${e}:${n}`,i._protocol="http";const{mockUserToken:o}=s;o&&(i._overrideAuthToken=typeof o=="string"?o:uT(o,i.app.options.projectId))}class bg{constructor(e,n,s,o,u){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=DS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=D4,this._maxUploadRetryTime=O4,this._requests=new Set,o!=null?this._bucket=bn.makeFromBucketSpec(o,this._host):this._bucket=PE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=bn.makeFromBucketSpec(this._url,e):this._bucket=PE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){xE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){xE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ta(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new F4(PS());{const f=tx(e,this._appId,s,o,n,this._firebaseVersion,u);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const kE="@firebase/storage",VE="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="storage";function Ux(i,e,n){return i=dt(i),Ox(i,e,n)}function Lx(i){return i=dt(i),Nx(i)}function zx(i,e){return i=dt(i),kx(i,e)}function Bx(i=Cp(),e){i=dt(i);const s=Xh(i,YS).getImmediate({identifier:e}),o=aT("storage");return o&&jx(s,...o),s}function jx(i,e,n,s={}){Vx(i,e,n,s)}function qx(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new bg(n,s,o,e,ia)}function Hx(){Xs(new Xr(YS,qx,"PUBLIC").setMultipleInstances(!0)),mi(kE,VE,""),mi(kE,VE,"esm2017")}Hx();const Fx={apiKey:"AIzaSyDofGwjq4mLnbHP7aXetrkXLyrLcccQrAU",authDomain:"dropbox-2be05.firebaseapp.com",projectId:"dropbox-2be05",storageBucket:"dropbox-2be05.firebasestorage.app",messagingSenderId:"841007218610",appId:"1:841007218610:web:d9782e583d6948d971aeab"},wg=fT(Fx);ef(wg);const sn=f4(wg),Gx=Bx(wg);function Kx({onClose:i}){const[e,n]=Q.useState(""),{currentFolderId:s}=yu(),o=async()=>{if(!e.trim()){alert("Folder name cannot be empty!");return}await RS(jr(sn,"files"),{originalName:e,isFolder:!0,parentFolder:s||null,createdAt:CS(),deleted:!1}),alert("✅ Folder created successfully!"),n(""),i()};return W.jsxs("div",{className:"modal",children:[W.jsx("h2",{children:"Create New Folder"}),W.jsx("input",{type:"text",placeholder:"Folder Name",value:e,onChange:u=>n(u.target.value)}),W.jsxs("div",{style:{marginTop:"1rem",display:"flex",gap:"10px"},children:[W.jsx("button",{className:"btn",onClick:o,children:"Create"}),W.jsx("button",{className:"btn",onClick:i,style:{backgroundColor:"#ccc"},children:"Cancel"})]})]})}function Qx(){const[i,e]=Q.useState([]),[n,s]=Q.useState(!1),[o,u]=Q.useState(0),[f,m]=Q.useState(""),{currentFolderId:p,currentView:g,openParentFolder:E}=yu(),S=ef(),b=async()=>{if(!i.length)return alert("Please choose a file!");let O=i.reduce((U,K)=>U+K.size,0),F=0;for(const U of i){const K=new Date().toISOString().replace(/[:.]/g,"_"),[ie,$]=U.name.split(/\.(?=[^\.]+$)/),ae=`${ie}-${K}.${$}`,ue=zx(Gx,`uploads/${ae}`),me=Ux(ue,U);await new Promise((x,w)=>{me.on("state_changed",I=>{const M=I.bytesTransferred;I.totalBytes,F+=M;const V=Math.min(100,F/O*100);u(V.toFixed(1)),m(`Uploaded ${(F/(1024*1024)).toFixed(2)} MB / ${(O/(1024*1024)).toFixed(2)} MB`)},I=>w(I),async()=>{const I=await Lx(me.snapshot.ref);await RS(jr(sn,"files"),{originalName:U.name,versionedName:ae,url:I,size:U.size,createdAt:CS(),parentFolder:p||null,fileType:$.toLowerCase(),deleted:!1}),x()})})}alert("✅ Upload complete!"),e([]),u(0),m("")},P=async()=>{try{await iC(S),alert("👋 Signed out successfully!"),window.location.href="/login"}catch(O){console.error("Error signing out:",O),alert("Something went wrong while signing out.")}};return W.jsxs("div",{className:"topbar",style:{display:"flex",flexDirection:"column",padding:"1rem",backgroundColor:"#ffffff",borderBottom:"1px solid #e0e0e0"},children:[W.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",width:"100%"},children:[g==="folder"&&p&&W.jsxs("button",{onClick:E,className:"btn",style:{display:"flex",alignItems:"center",gap:"4px"},children:[W.jsx(dR,{size:18}),"Back"]}),W.jsxs("label",{className:"file-upload-button",style:{cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",padding:"0.5rem 1rem",background:"#f0f0f0",borderRadius:"6px"},children:["📁 Choose Files",W.jsx("input",{type:"file",multiple:!0,onChange:O=>e([...O.target.files]),style:{display:"none"}})]}),W.jsxs("button",{onClick:b,className:"btn blue",style:{display:"flex",alignItems:"center",gap:"4px"},children:[W.jsx(vR,{size:18}),"Upload"]}),W.jsxs("button",{onClick:()=>s(!0),className:"btn blue",style:{display:"flex",alignItems:"center",gap:"4px"},children:[W.jsx(uR,{size:18}),"Create Folder"]}),W.jsx("div",{style:{flexGrow:1}}),W.jsxs("button",{onClick:P,className:"btn red",style:{display:"flex",alignItems:"center",gap:"6px"},children:[W.jsx(gR,{size:18}),"Sign Out"]})]}),o>0&&W.jsxs("div",{style:{marginTop:"8px",fontSize:"14px",color:"#555"},children:["📤 ",f," (",o,"%)"]}),n&&W.jsx(Kx,{onClose:()=>s(!1)})]})}function Yx({file:i,position:e}){const{currentView:n}=yu(),s=async()=>{const p=prompt("Enter new name:",i.originalName||i.versionedName);if(p){const g=i.versionedName.match(/\.\w+$/),E=g?g[0]:"",S=i.versionedName.split("-"),b=S.length>1?S.slice(1).join("-").replace(E,""):"",P=`${p.replace(/\s+/g,"_")}-${b}${E}`,O=qr(sn,"files",i.id);await Xl(O,{originalName:p,versionedName:P}),alert("✅ File renamed successfully!"),window.location.reload()}},o=async()=>{window.confirm("Are you sure you want to permanently delete this file?")&&(await wS(qr(sn,"files",i.id)),window.location.reload())},u=async()=>{await Xl(qr(sn,"files",i.id),{deleted:!0}),alert("🗑️ Moved to trash!"),window.location.reload()},f=async()=>{await Xl(qr(sn,"files",i.id),{deleted:!1}),alert("♻️ File restored to previous location!"),window.location.reload()},m=async()=>{await Xl(qr(sn,"files",i.id),{shared:!0}),alert("🔗 File marked as shared!")};return W.jsxs("div",{className:"context-menu",style:{top:e.y,left:e.x},children:[W.jsx("button",{onClick:s,children:"✏️ Rename"}),W.jsx("button",{onClick:m,children:"🔗 Mark as Shared"}),n==="deleted"?W.jsx("button",{onClick:f,children:"♻️ Restore"}):W.jsx("button",{onClick:u,children:"🗑️ Move to Trash"}),W.jsx("button",{onClick:o,style:{color:"red"},children:"❌ Permanently Delete"})]})}function $x({url:i,onClose:e}){return W.jsx("div",{className:"modal-overlay",onClick:e,children:W.jsx("div",{className:"modal-content",children:i.endsWith(".pdf")?W.jsx("iframe",{src:i,width:"100%",height:"600px",title:"Preview PDF"}):W.jsx("img",{src:i,alt:"Preview",style:{maxWidth:"100%",maxHeight:"80vh"}})})})}function Xx(){const{currentFolderId:i,currentView:e,openFolder:n}=yu(),[s,o]=Q.useState([]),[u,f]=Q.useState([]),[m,p]=Q.useState(""),[g,E]=Q.useState(null),[S,b]=Q.useState(!1),[P,O]=Q.useState({x:0,y:0}),[F,U]=Q.useState(null);Q.useEffect(()=>{let C;e==="pictures"?C=jl(jr(sn,"files"),$i("fileType","in",["jpg","jpeg","png"]),$i("deleted","==",!1),ql("createdAt","desc")):e==="shared"?C=jl(jr(sn,"files"),$i("shared","==",!0),$i("deleted","==",!1),ql("createdAt","desc")):e==="deleted"?C=jl(jr(sn,"files"),$i("deleted","==",!0),ql("createdAt","desc")):e==="folder"?C=jl(jr(sn,"files"),$i("parentFolder","==",i||null),$i("deleted","==",!1),ql("createdAt","desc")):C=jl(jr(sn,"files"),$i("parentFolder","==",null),$i("deleted","==",!1),ql("createdAt","desc"));const R=IS(C,De=>{o(De.docs.map(He=>({id:He.id,...He.data()})))});return()=>R()},[i,e]);const K=(C,R)=>{C.preventDefault(),E(R),O({x:C.pageX,y:C.pageY}),b(!0)},ie=C=>{n(C.id,C.originalName)},$=C=>C.preventDefault(),ae=async(C,R)=>{C.preventDefault();const De=JSON.parse(C.dataTransfer.getData("text/plain"));for(const He of De){const Y=qr(sn,"files",He);await Xl(Y,{parentFolder:R.id})}},ue=(C,R)=>{u.length>1?C.dataTransfer.setData("text/plain",JSON.stringify(u)):C.dataTransfer.setData("text/plain",JSON.stringify([R]))},me=C=>{u.includes(C)?f(u.filter(R=>R!==C)):f([...u,C])},x=async()=>{if(u.length===0){alert("Please select at least one file/folder to delete!");return}if(window.confirm("Are you sure you want to delete selected items?")){for(const R of u)await wS(qr(sn,"files",R));f([]),alert("Selected files/folders deleted.")}},w=C=>{var R,De,He;((R=C.versionedName)!=null&&R.endsWith(".pdf")||(De=C.versionedName)!=null&&De.endsWith(".png")||(He=C.versionedName)!=null&&He.endsWith(".jpg"))&&U(C.url)},I=C=>{const R=document.createElement("a");R.href=C.url,R.setAttribute("download",C.originalName||"downloaded-file"),document.body.appendChild(R),R.click(),document.body.removeChild(R)},M=s.filter(C=>C.isFolder&&C.originalName.toLowerCase().includes(m.toLowerCase())),V=s.filter(C=>{var R;return!C.isFolder&&((R=C.versionedName)==null?void 0:R.toLowerCase().includes(m.toLowerCase()))});return W.jsxs("div",{className:"file-table",onClick:()=>b(!1),children:[W.jsxs("div",{style:{marginBottom:"1rem",display:"flex",gap:"60px",alignItems:"center"},children:[W.jsxs("div",{style:{position:"relative",flexGrow:1},children:[W.jsx(_R,{style:{position:"absolute",top:"50%",left:"10px",transform:"translateY(-50%)",color:"#888",fontSize:"20px"}}),W.jsx("input",{type:"text",placeholder:"Search files or folders...",value:m,onChange:C=>p(C.target.value),style:{padding:"0.5rem 0.5rem 0.5rem 2.5rem",width:"100%",borderRadius:"5px",border:"1px solid #ccc"}})]}),W.jsx("button",{className:"btn",onClick:x,style:{background:"red"},children:"Delete"})]}),e==="pictures"?W.jsx("div",{className:"gallery-grid",children:V.map(C=>W.jsx("div",{className:"gallery-item",children:W.jsx("a",{href:C.url,target:"_blank",rel:"noreferrer",children:W.jsx("img",{src:C.url,alt:C.versionedName})})},C.id))}):W.jsxs("table",{children:[W.jsx("thead",{children:W.jsxs("tr",{children:[W.jsx("th",{}),W.jsx("th",{children:"Name"}),W.jsx("th",{children:"Uploaded At"}),W.jsx("th",{children:"Size (MB)"})]})}),W.jsxs("tbody",{children:[M.map(C=>{var R;return W.jsxs("tr",{onClick:()=>ie(C),onDragOver:$,onDrop:De=>ae(De,C),style:{cursor:"pointer",backgroundColor:"#f8f8f8"},children:[W.jsx("td",{children:W.jsx("input",{type:"checkbox",checked:u.includes(C.id),onChange:()=>me(C.id),onClick:De=>De.stopPropagation()})}),W.jsxs("td",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[W.jsx(cR,{style:{marginRight:4,color:"#f5a623"}}),C.originalName]}),W.jsx("td",{children:(R=C.createdAt)==null?void 0:R.toDate().toLocaleString()}),W.jsx("td",{children:"—"})]},C.id)}),V.map(C=>{var R;return W.jsxs("tr",{draggable:!0,onDragStart:De=>ue(De,C.id),onContextMenu:De=>K(De,C),onClick:()=>w(C),children:[W.jsx("td",{children:W.jsx("input",{type:"checkbox",checked:u.includes(C.id),onChange:()=>me(C.id),onClick:De=>De.stopPropagation()})}),W.jsxs("td",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[W.jsx(lR,{style:{marginRight:4,color:"#7d7d7d"}}),W.jsx("a",{href:C.url,target:"_blank",rel:"noreferrer",style:{textDecoration:"none",color:"inherit"},children:C.versionedName}),W.jsx("button",{onClick:De=>{De.stopPropagation(),navigator.clipboard.writeText(C.url).then(()=>alert("🔗 Link copied!")).catch(()=>alert("Failed to copy link."))},title:"Copy Link",style:{marginLeft:"8px",background:"none",border:"none",cursor:"pointer",fontSize:"18px",color:"#555"},children:W.jsx(pR,{})}),W.jsx("button",{onClick:De=>{De.stopPropagation(),I(C)},title:"Download File",style:{marginLeft:"8px",background:"none",border:"none",cursor:"pointer",fontSize:"18px",color:"#555"},children:W.jsx(mR,{})})]}),W.jsx("td",{children:(R=C.createdAt)==null?void 0:R.toDate().toLocaleString()}),W.jsx("td",{children:(C.size/(1024*1024)).toFixed(2)})]},C.id)})]})]}),S&&W.jsx(Yx,{file:g,position:P}),F&&W.jsx($x,{url:F,onClose:()=>U(null)})]})}function Wx(){const[i,e]=Q.useState(0),n=2*1024*1024*1024;Q.useEffect(()=>{const u=IS(jr(sn,"files"),f=>{let m=0;f.docs.forEach(p=>{const g=p.data();m+=g.size||0}),e(m)});return()=>u()},[]);const s=(i/(1024*1024)).toFixed(2),o=(i/n*100).toFixed(2);return W.jsxs("div",{className:"storage-usage",children:[W.jsxs("p",{children:["📦 Storage Used: ",s," MB of 2 GB (",o,"%)"]}),W.jsx("div",{className:"storage-bar",children:W.jsx("div",{className:"storage-bar-fill",style:{width:`${o}%`}})})]})}function Zx(){const[i,e]=Q.useState(""),[n,s]=Q.useState(""),o=Tp(),u=ef(),f=async m=>{m.preventDefault();try{await JI(u,i,n),alert("✅ Account created successfully!"),o("/")}catch(p){console.error(p),alert(p.message)}};return W.jsxs("div",{className:"auth-container",children:[W.jsx("h2",{children:"CREATE AN ACCOUNT"}),W.jsxs("form",{onSubmit:f,className:"auth-form",children:[W.jsx("input",{type:"email",placeholder:"Email address",value:i,onChange:m=>e(m.target.value),required:!0}),W.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:m=>s(m.target.value),required:!0}),W.jsx("button",{type:"submit",className:"auth-button",children:"Sign Up"})]}),W.jsxs("p",{className:"auth-footer",children:["Already have an account? ",W.jsx(Yh,{to:"/login",className:"auth-link",children:"Login"})]})]})}function Jx(){const[i,e]=Q.useState(""),[n,s]=Q.useState(""),o=Tp(),u=ef(),f=async m=>{m.preventDefault();try{await eC(u,i,n),alert("✅ Login successful!"),o("/")}catch(p){console.error(p),alert("❌ "+p.message)}};return W.jsxs("div",{className:"auth-container",children:[W.jsx("h2",{children:"SIGN IN"}),W.jsxs("form",{onSubmit:f,className:"auth-form",children:[W.jsx("input",{type:"email",placeholder:"Email address",value:i,onChange:m=>e(m.target.value),required:!0}),W.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:m=>s(m.target.value),required:!0}),W.jsx("button",{type:"submit",className:"auth-button",children:"Login"})]}),W.jsxs("p",{className:"auth-footer",children:["Don't have an account? ",W.jsx(Yh,{to:"/signup",className:"auth-link",children:"Sign Up"})]})]})}function e3(){return W.jsx(H1,{children:W.jsxs(v1,{children:[W.jsx(hh,{path:"/signup",element:W.jsx(Zx,{})}),W.jsx(hh,{path:"/login",element:W.jsx(Jx,{})}),W.jsx(hh,{path:"/*",element:W.jsx(J1,{children:W.jsxs("div",{className:"app",children:[W.jsx(ER,{}),W.jsxs("div",{className:"main",children:[W.jsxs("div",{className:"main-inner",children:[W.jsx(Qx,{}),W.jsx(Xx,{})]}),W.jsx(Wx,{})]})]})})})]})})}Dw.createRoot(document.getElementById("root")).render(W.jsx(Q.StrictMode,{children:W.jsx(e3,{})}));
